(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(e,t,n){e.exports=n("zUnb")},"7XFi":function(e,t){e.exports='<img *ngFor="let image of destination.gallery" [src]="image" alt="">'},DiaM:function(e,t){e.exports=".main-content {\n  position: relative;\n  height: 100vh;\n  overflow-x: hidden;\n  background-image: url(\"//cdn.lucca.fr/tourism/destination.jpg\");\n  background-repeat: no-repeat;\n  background-position: top center;\n  background-size: cover; }\n  .main-content::before {\n    display: block;\n    content: '';\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background-color: rgba(0, 0, 0, 0.5); }\n  .main-content > .container {\n  margin-top: 0;\n  padding-bottom: 0;\n  position: relative;\n  z-index: 1; }\n  .main-content > .container > .grid {\n    align-items: center;\n    position: relative;\n    min-height: 100vh; }\n  .card-content {\n  color: #666; }\n  .presentation-section {\n  position: relative;\n  z-index: 1; }\n  .presentation-section .breadcrumb {\n    margin-left: -12px; }\n  .presentation-section .breadcrumb .breadcrumb-item {\n      color: #fff; }\n  .presentation-section h1, .presentation-section h2 {\n    color: #fff; }\n  .infos-section {\n  color: #fff;\n  background-color: rgba(111, 205, 210, 0.616);\n  min-height: 100vh;\n  height: 100%;\n  display: flex;\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  flex-direction: column;\n  justify-content: center; }\n  .infos-section .infos {\n    padding: 1rem; }\n  .infos-section .infos ul, .infos-section .infos li {\n      list-style: none; }\n  .infos-section .infos ul {\n      padding: 0; }\n  .infos-section .infos .tag {\n      background-color: #34a1a7;\n      color: white;\n      font-size: 14px;\n      padding: .1em .75em;\n      border-radius: 5px;\n      display: inline-block;\n      margin-top: .25em; }\n  .infos-section .infos .tag + .tag {\n        margin-left: .25em; }\n  @media only screen and (max-width: 768px) {\n  .presentation-section {\n    padding: 2rem 1rem 1rem; }\n  .infos-section {\n    height: auto; }\n    .infos-section app-destination-gallery {\n      -webkit-transform: none;\n              transform: none; } }\n"},"Jyj+":function(e,t){e.exports='<header>\r\n\t<div class="container">\r\n\t\t<h1>Lucca Voyages</h1>\r\n\t\t<h4>\r\n\t\t\tClean modern travelblogger traveler simple organized, design traveler webdesign excursion. Colorful Travel pretty excursion, webdesign whimsical design excursion traveler cute blogger.\r\n\t\t</h4>\r\n\t\t<div class="card textfield mod-search mod-block searchbox">\r\n\t\t\t<input class="textfield-input" placeholder="Cherchez une destination" [formControl]="clueCtrl">\r\n\t\t</div>\r\n\t</div>\r\n</header>\r\n<main class="main-content">\r\n\t<section class="container">\r\n\t\t<h2>Destinations</h2>\r\n\t\t<div class="grid">\r\n\t\t\t<div class="grid-md4 grid-lg3" *ngFor="let destination of destinations$ | async">\r\n\t\t\t\t<app-destination-thumbnail [destination]="destination"></app-destination-thumbnail>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</section>\r\n</main>\r\n'},N3Cr:function(e,t){e.exports=".card-image {\n  height: 180px;\n  overflow: hidden; }\n  .card-image img {\n    -o-object-fit: cover;\n       object-fit: cover;\n    width: 100%;\n    height: 100%; }\n  .card {\n  overflow: hidden;\n  height: 350px; }\n"},"O/rq":function(e,t){e.exports='<div class="card mod-clickable" [routerLink]="[\'/destination\', destination?.id]">\r\n\t<div class="card-image">\r\n\t\t<img [src]="destination.thumbnail" alt="thumbnail">\r\n\t</div>\r\n\t<div class="card-content">\r\n\t\t<h2>{{destination.name}}</h2>\r\n\t\t<p>\r\n\t\t\t{{destination.description}}\r\n\t\t</p>\r\n\t</div>\r\n</div>\r\n'},bdh1:function(e,t){e.exports='header {\n  background-image: url("//cdn.lucca.fr/tourism/header.jpg");\n  background-position: bottom center;\n  background-repeat: no-repeat;\n  background-attachment: fixed;\n  background-size: cover; }\n  header .container {\n    position: relative;\n    margin-top: 0;\n    padding: 6rem 0 4rem;\n    text-align: center; }\n  header .container h1, header .container h4 {\n      color: white;\n      text-align: center;\n      margin: 0 auto 1rem;\n      text-shadow: 0 1px 1px rgba(0, 0, 0, 0.33);\n      max-width: 700px; }\n  header .container .searchbox {\n      position: absolute;\n      bottom: -1rem;\n      left: 50%;\n      -webkit-transform: translate(-50%, 50%);\n              transform: translate(-50%, 50%);\n      max-width: 700px; }\n  header .container .searchbox input {\n        padding: .95rem 2rem .95rem .95rem; }\n  header .container .searchbox::after {\n        bottom: .5rem;\n        right: .8rem; }\n'},c7zv:function(e,t){e.exports='<main class="main-content" [style.backgroundImage]="bgImg">\r\n\t<div class="container">\r\n\t\t<div class="grid">\r\n\t\t\t\t<section class="grid-md8 grid-lg7 presentation-section">\r\n\t\t\t\t\t\t<nav class="breadcrumb">\r\n\t\t\t\t\t\t\t<a href="#" class="breadcrumb-item">Destinations</a>\r\n\t\t\t\t\t\t\t<span class="breadcrumb-item is-active">{{destination.name}}</span>\r\n\t\t\t\t\t\t</nav>\r\n\t\t\t\t\t\t<h1>{{destination.name}}</h1>\r\n\t\t\t\t\t\t<div class="card">\r\n\t\t\t\t\t\t\t<div class="card-content">\r\n\t\t\t\t\t\t\t\t{{destination.description}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</section>\r\n\t\t\t\t\t<section class="grid-md4 grid-lg3 grid-lgOffset1 infos-section">\r\n\t\t\t\t\t\t<div class="infos">\r\n\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t<li><b>Pays :</b> {{destination.country}}</li>\r\n\t\t\t\t\t\t\t\t<li><b>Prix :</b> {{destination.priceRange }}</li>\r\n\t\t\t\t\t\t\t\t<li><b>Note :</b>\r\n\t\t\t\t\t\t\t\t\t<i class="lucca-icon icon-star"></i>\r\n\t\t\t\t\t\t\t\t\t<i class="lucca-icon icon-star"></i>\r\n\t\t\t\t\t\t\t\t\t<i class="lucca-icon icon-star"></i>\r\n\t\t\t\t\t\t\t\t\t<i class="lucca-icon icon-star"></i>\r\n\t\t\t\t\t\t\t\t\t<i class="lucca-icon icon-unstared"></i></li>\r\n\t\t\t\t\t\t\t\t<li>\r\n\t\t\t\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t\t\t\t\t\x3c!-- <b>Tags</b><br> --\x3e\r\n\t\t\t\t\t\t\t\t\t\t<li class="tag" *ngFor="let tag of destination.tags">{{tag}}</li>\r\n\t\t\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t\t\t</li>\r\n\t\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<app-destination-gallery [destination]="destination"></app-destination-gallery>\r\n\t\t\t\t\t</section>\r\n\t\t</div>\r\n\t</div>\r\n</main>\r\n'},crnd:function(e,t){function n(e){return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="crnd"},mfFw:function(e,t){e.exports=":host {\n  display: flex;\n  flex-wrap: nowrap;\n  justify-content: flex-end;\n  align-items: center;\n  -webkit-transform: translateX(50%);\n          transform: translateX(50%); }\n  :host img {\n    height: 200px;\n    margin-left: 1rem;\n    box-shadow: 0 0 20px rgba(0, 0, 0, 0.35); }\n  :host:hover {\n    z-index: 1000; }\n"},"nH/3":function(e,t){e.exports="<router-outlet></router-outlet>"},zUnb:function(e,t,n){"use strict";function s(e){return"function"==typeof e}n.r(t);let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function o(e){setTimeout(()=>{throw e})}const a={closed:!0,next(e){},error(e){if(i.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete(){}},l=Array.isArray||(e=>e&&"number"==typeof e.length);function c(e){return null!=e&&"object"==typeof e}const u={e:{}};let h;function d(){try{return h.apply(this,arguments)}catch(e){return u.e=e,u}}function p(e){return h=e,d}function m(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}m.prototype=Object.create(Error.prototype);const f=m;class g{constructor(e){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let e,t=!1;if(this.closed)return;let{_parent:n,_parents:r,_unsubscribe:i,_subscriptions:o}=this;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;let a=-1,h=r?r.length:0;for(;n;)n.remove(this),n=++a<h&&r[a]||null;if(s(i)){p(i).call(this)===u&&(t=!0,e=e||(u.e instanceof f?v(u.e.errors):[u.e]))}if(l(o))for(a=-1,h=o.length;++a<h;){const n=o[a];if(c(n)){if(p(n.unsubscribe).call(n)===u){t=!0,e=e||[];let n=u.e;n instanceof f?e=e.concat(v(n.errors)):e.push(n)}}}if(t)throw new f(e)}add(e){if(!e||e===g.EMPTY)return g.EMPTY;if(e===this)return this;let t=e;switch(typeof e){case"function":t=new g(e);case"object":if(t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if("function"!=typeof t._addParent){const e=t;(t=new g)._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(t),t._addParent(this),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}_addParent(e){let{_parent:t,_parents:n}=this;t&&t!==e?n?-1===n.indexOf(e)&&n.push(e):this._parents=[e]:this._parent=e}}function v(e){return e.reduce((e,t)=>e.concat(t instanceof f?t.errors:t),[])}g.EMPTY=function(e){return e.closed=!0,e}(new g);const y="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random();class _ extends g{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,this._parentSubscription=null,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof _?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new w(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new w(this,e,t,n)}}[y](){return this}static create(e,t,n){const s=new _(e,t,n);return s.syncErrorThrowable=!1,s}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parent:e,_parents:t}=this;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this._parentSubscription=null,this}}class w extends _{constructor(e,t,n,r){let i;super(),this._parentSubscriber=e;let o=this;s(t)?i=t:t&&(i=t.next,n=t.error,r=t.complete,t!==a&&(s((o=Object.create(t)).unsubscribe)&&this.add(o.unsubscribe.bind(o)),o.unsubscribe=this.unsubscribe.bind(this))),this._context=o,this._next=i,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;i.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=i;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);i.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),i.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}__tryOrSetError(e,t,n){if(!i.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(s){return i.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=s,e.syncErrorThrown=!0,!0):(o(s),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const E="function"==typeof Symbol&&Symbol.observable||"@@observable";function C(){}function b(...e){return S(e)}function S(e){return e?1===e.length?e[0]:function(t){return e.reduce((e,t)=>t(e),t)}:C}class x{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(e){const t=new x;return t.source=this,t.operator=e,t}subscribe(e,t,n){const{operator:s}=this,r=function(e,t,n){if(e){if(e instanceof _)return e;if(e[y])return e[y]()}return e||t||n?new _(e,t,n):new _(a)}(e,t,n);if(s?s.call(r,this.source):r.add(this.source||i.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),i.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){i.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),!function(e){for(;e;){const{closed:t,destination:n,isStopped:s}=e;if(t||s)return!1;e=n&&n instanceof _?n:null}return!0}(e)?console.warn(t):e.error(t)}}forEach(e,t){return new(t=T(t))((t,n)=>{let s;s=this.subscribe(t=>{try{e(t)}catch(r){n(r),s&&s.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[E](){return this}pipe(...e){return 0===e.length?this:S(e)(this)}toPromise(e){return new(e=T(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}function T(e){if(e||(e=i.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function A(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}x.create=(e=>new x(e)),A.prototype=Object.create(Error.prototype);const D=A;class P extends g{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class k extends _{constructor(e){super(e),this.destination=e}}class N extends x{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[y](){return new k(this)}lift(e){const t=new M(this,this);return t.operator=e,t}next(e){if(this.closed)throw new D;if(!this.isStopped){const{observers:t}=this,n=t.length,s=t.slice();for(let r=0;r<n;r++)s[r].next(e)}}error(e){if(this.closed)throw new D;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,s=t.slice();for(let r=0;r<n;r++)s[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new D;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let s=0;s<t;s++)n[s].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new D;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new D;return this.hasError?(e.error(this.thrownError),g.EMPTY):this.isStopped?(e.complete(),g.EMPTY):(this.observers.push(e),new P(this,e))}asObservable(){const e=new x;return e.source=this,e}}N.create=((e,t)=>new M(e,t));class M extends N{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):g.EMPTY}}function I(e){return e&&"function"==typeof e.schedule}class O extends _{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const F=e=>t=>{for(let n=0,s=e.length;n<s&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()},R=e=>t=>(e.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,o),t);const L="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",$=e=>t=>{const n=e[L]();for(;;){const e=n.next();if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t},V=e=>t=>{const n=e[E]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)},B=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function j(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const U=e=>{if(e instanceof x)return t=>e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t);if(e&&"function"==typeof e[E])return V(e);if(B(e))return F(e);if(j(e))return R(e);if(e&&"function"==typeof e[L])return $(e);{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected.`+" You can provide an Observable, Promise, Array, or Iterable.")}};function H(e,t,n,s,r=new O(e,n,s)){if(!r.closed)return U(t)(r)}class q extends _{notifyNext(e,t,n,s,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function z(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}class W{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new G(e,this.project,this.thisArg))}}class G extends _{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function K(e,t){return new x(t?n=>{const s=new g;let r=0;return s.add(t.schedule(function(){r!==e.length?(n.next(e[r++]),n.closed||s.add(this.schedule())):n.complete()})),s}:F(e))}function Q(e,t){if(!t)return e instanceof x?e:new x(U(e));if(null!=e){if(function(e){return e&&"function"==typeof e[E]}(e))return function(e,t){return new x(t?n=>{const s=new g;return s.add(t.schedule(()=>{const r=e[E]();s.add(r.subscribe({next(e){s.add(t.schedule(()=>n.next(e)))},error(e){s.add(t.schedule(()=>n.error(e)))},complete(){s.add(t.schedule(()=>n.complete()))}}))})),s}:V(e))}(e,t);if(j(e))return function(e,t){return new x(t?n=>{const s=new g;return s.add(t.schedule(()=>e.then(e=>{s.add(t.schedule(()=>{n.next(e),s.add(t.schedule(()=>n.complete()))}))},e=>{s.add(t.schedule(()=>n.error(e)))}))),s}:R(e))}(e,t);if(B(e))return K(e,t);if(function(e){return e&&"function"==typeof e[L]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new x(t?n=>{const s=new g;let r;return s.add(()=>{r&&"function"==typeof r.return&&r.return()}),s.add(t.schedule(()=>{r=e[L](),s.add(t.schedule(function(){if(n.closed)return;let e,t;try{const i=r.next();e=i.value,t=i.done}catch(s){return void n.error(s)}t?n.complete():(n.next(e),this.schedule())}))})),s}:$(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function Z(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?s=>s.pipe(Z((n,s)=>Q(e(n,s)).pipe(z((e,r)=>t(n,e,s,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new X(e,n)))}class X{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new Y(e,this.project,this.concurrent))}}class Y extends q{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const s=new O(this,void 0,void 0);this.destination.add(s),H(this,e,t,n,s)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,s,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function J(e){return e}function ee(e=Number.POSITIVE_INFINITY){return Z(J,e)}function te(...e){let t=Number.POSITIVE_INFINITY,n=null,s=e[e.length-1];return I(s)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof s&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof x?e[0]:ee(t)(K(e,n))}function ne(){return function(e){return e.lift(new se(e))}}class se{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const s=new re(e,n),r=t.subscribe(s);return s.closed||(s.connection=n.connect()),r}}class re extends _{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,s=e._connection;this.connection=null,!s||n&&s!==n||s.unsubscribe()}}const ie=class extends x{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new g).add(this.source.subscribe(new ae(this.getSubject(),this))),e.closed?(this._connection=null,e=g.EMPTY):this._connection=e),e}refCount(){return ne()(this)}}.prototype,oe={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}};class ae extends k{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}class le{constructor(e,t){this.subjectFactory=e,this.selector=t}call(e,t){const{selector:n}=this,s=this.subjectFactory(),r=n(s).subscribe(e);return r.add(t.subscribe(s)),r}}function ce(){return new N}function ue(){return e=>ne()(function(e,t){return function(n){let s;if(s="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new le(s,t));const r=Object.create(n,oe);return r.source=n,r.subjectFactory=s,r}}(ce)(e))}function he(e){for(let t in e)if(e[t]===he)return t;throw Error("Could not find renamed property on target object.")}function de(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}he({ngComponentDef:he}),he({ngDirectiveDef:he});const pe=he({ngInjectableDef:he}),me=(he({ngInjectorDef:he}),he({ngPipeDef:he}),he({ngModuleDef:he}),he({ngBaseDef:he}));he({__NG_ELEMENT_ID__:he});function fe(e){return{providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function ge(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function ve(e){return e.hasOwnProperty(pe)?e[pe]:null}class ye{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0!==t?fe({providedIn:t.providedIn||"root",factory:t.factory}):void 0}toString(){return`InjectionToken ${this._desc}`}}const _e="__annotations__",we="__parameters__",Ee="__prop__metadata__";function Ce(e,t,n,s,r){const i=be(t);function o(...e){if(this instanceof o)return i.call(this,...e),this;const t=new o(...e);return function(n){return r&&r(n,...e),(n.hasOwnProperty(_e)?n[_e]:Object.defineProperty(n,_e,{value:[]})[_e]).push(t),s&&s(n),n}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function be(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}function Se(e,t,n){const s=be(t);function r(...e){if(this instanceof r)return s.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,s){const r=e.hasOwnProperty(we)?e[we]:Object.defineProperty(e,we,{value:[]})[we];for(;r.length<=s;)r.push(null);return(r[s]=r[s]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r}function xe(e,t,n,s){const r=be(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return function(n,r){const i=n.constructor,o=i.hasOwnProperty(Ee)?i[Ee]:Object.defineProperty(i,Ee,{value:{}})[Ee];o[r]=o.hasOwnProperty(r)&&o[r]||[],o[r].unshift(t),s&&s(n,r,...e)}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}const Te=new ye("AnalyzeForEntryComponents"),Ae=Se("Attribute",e=>({attributeName:e}));class De{}const Pe=xe("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t),De);xe("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t),De),xe("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t),De),xe("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t),De);var ke={OnPush:0,Default:1};ke[ke.OnPush]="OnPush",ke[ke.Default]="Default";var Ne={CheckOnce:0,Checked:1,CheckAlways:2,Detached:3,Errored:4,Destroyed:5};Ne[Ne.CheckOnce]="CheckOnce",Ne[Ne.Checked]="Checked",Ne[Ne.CheckAlways]="CheckAlways",Ne[Ne.Detached]="Detached",Ne[Ne.Errored]="Errored",Ne[Ne.Destroyed]="Destroyed";new Set;var Me={Emulated:0,Native:1,None:2,ShadowDom:3};Me[Me.Emulated]="Emulated",Me[Me.Native]="Native",Me[Me.None]="None",Me[Me.ShadowDom]="ShadowDom";const Ie="undefined"!=typeof window&&window,Oe="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Fe="undefined"!=typeof global&&global||Ie||Oe,Re=Promise.resolve(0);let Le=null;function $e(){if(!Le){const e=Fe.Symbol;if(e&&e.iterator)Le=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Le=n)}}}return Le}function Ve(e){"undefined"==typeof Zone?Re.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}function Be(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function je(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(je).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}const Ue=Se("Inject",e=>({token:e})),He=Se("Optional"),qe=Se("Self"),ze=Se("SkipSelf"),We=Se("Host");var Ge={Default:0,Host:1,Self:2,SkipSelf:4,Optional:8};Ge[Ge.Default]="Default",Ge[Ge.Host]="Host",Ge[Ge.Self]="Self",Ge[Ge.SkipSelf]="SkipSelf",Ge[Ge.Optional]="Optional";let Ke,Qe=void 0;function Ze(e){const t=Qe;return Qe=e,t}function Xe(e,t=Ge.Default){return(Ke||function(e,t=Ge.Default){if(void 0===Qe)throw new Error("inject() must be called from an injection context");return null===Qe?Ye(e,void 0,t):Qe.get(e,t&Ge.Optional?null:void 0,t)})(e,t)}function Ye(e,t,n){const s=ve(e);if(s&&"root"==s.providedIn)return void 0===s.value?s.value=s.factory():s.value;if(n&Ge.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${je(e)}]`)}function Je(e){const t=[];for(let n=0;n<e.length;n++){const s=e[n];if(Array.isArray(s)){if(0===s.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=Ge.Default;for(let t=0;t<s.length;t++){const r=s[t];r instanceof He||"Optional"===r.ngMetadataName?n|=Ge.Optional:r instanceof ze||"SkipSelf"===r.ngMetadataName?n|=Ge.SkipSelf:r instanceof qe||"Self"===r.ngMetadataName?n|=Ge.Self:e=r instanceof Ue?r.token:r}t.push(Xe(e,n))}else t.push(Xe(s))}return t}class et{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}et.prototype;function tt(e,t){const n=rt(e),s=rt(t);if(n&&s)return function(e,t,n){const s=e[$e()](),r=t[$e()]();for(;;){const e=s.next(),t=r.next();if(e.done&&t.done)return!0;if(e.done||t.done)return!1;if(!n(e.value,t.value))return!1}}(e,t,tt);{const r=e&&("object"==typeof e||"function"==typeof e),i=t&&("object"==typeof t||"function"==typeof t);return!(n||!r||s||!i)||Be(e,t)}}class nt{constructor(e){this.wrapped=e}static wrap(e){return new nt(e)}static unwrap(e){return nt.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof nt}}class st{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function rt(e){return!!it(e)&&(Array.isArray(e)||!(e instanceof Map)&&$e()in e)}function it(e){return null!==e&&("function"==typeof e||"object"==typeof e)}const ot=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Fe);function at(...e){}const lt=he({__forward_ref__:he});function ct(e){return e.__forward_ref__=ct,e.toString=function(){return je(this())},e}function ut(e){const t=e;return"function"==typeof t&&t.hasOwnProperty(lt)&&t.__forward_ref__===ct?t():e}const ht="__source",dt=new Object,pt=dt,mt=new ye("INJECTOR");class ft{get(e,t=dt){if(t===dt)throw new Error(`NullInjectorError: No provider for ${je(e)}!`);return t}}class gt{static create(e,t){return Array.isArray(e)?new Dt(e,t):new Dt(e.providers,e.parent,e.name||null)}}gt.THROW_IF_NOT_FOUND=dt,gt.NULL=new ft,gt.ngInjectableDef=fe({providedIn:"any",factory:()=>Xe(mt)}),gt.__NG_ELEMENT_ID__=(()=>vt());const vt=at,yt=function(e){return e},_t=[],wt=yt,Et=function(){return Array.prototype.slice.call(arguments)},Ct=he({provide:String,useValue:he}),bt="ngTokenPath",St="ngTempTokenPath",xt=gt.NULL,Tt=/\n/gm,At="\u0275";class Dt{constructor(e,t=xt,n=null){this.parent=t,this.source=n;const s=this._records=new Map;s.set(gt,{token:gt,fn:yt,deps:_t,value:this,useNew:!1}),s.set(mt,{token:mt,fn:yt,deps:_t,value:this,useNew:!1}),function e(t,n){if(n)if((n=ut(n))instanceof Array)for(let s=0;s<n.length;s++)e(t,n[s]);else{if("function"==typeof n)throw Mt("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw Mt("Unexpected provider",n);{let e=ut(n.provide);const s=function(e){const t=function(e){let t=_t;const n=e.deps;if(n&&n.length){t=[];for(let e=0;e<n.length;e++){let s=6,r=ut(n[e]);if(r instanceof Array)for(let e=0,t=r;e<t.length;e++){const n=t[e];n instanceof He||n==He?s|=1:n instanceof ze||n==ze?s&=-3:n instanceof qe||n==qe?s&=-5:r=n instanceof Ue?n.token:ut(n)}t.push({token:r,options:s})}}else if(e.useExisting){const n=ut(e.useExisting);t=[{token:n,options:6}]}else if(!(n||Ct in e))throw Mt("'deps' required",e);return t}(e);let n=yt,s=_t,r=!1,i=ut(e.provide);if(Ct in e)s=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)r=!0,n=ut(e.useClass);else{if("function"!=typeof i)throw Mt("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);r=!0,n=i}return{deps:t,fn:n,useNew:r,value:s}}(n);if(!0===n.multi){let s=t.get(e);if(s){if(s.fn!==Et)throw Pt(e)}else t.set(e,s={token:n.provide,deps:[],useNew:!1,fn:Et,value:_t});e=n,s.deps.push({token:e,options:6})}const r=t.get(e);if(r&&r.fn==Et)throw Pt(e);t.set(e,s)}}}(s,e)}get(e,t,n=Ge.Default){const s=this._records.get(e);try{return kt(e,s,this._records,this.parent,t,n)}catch(r){const t=r[St];throw e[ht]&&t.unshift(e[ht]),r.message=Nt("\n"+r.message,t,this.source),r[bt]=t,r[St]=null,r}}toString(){const e=[];return this._records.forEach((t,n)=>e.push(je(n))),`StaticInjector[${e.join(", ")}]`}}function Pt(e){return Mt("Cannot mix multi providers and regular providers",e)}function kt(e,t,n,s,r,i){try{return function(e,t,n,s,r,i){let o;if(!t||i&Ge.SkipSelf)i&Ge.Self||(o=s.get(e,r,Ge.Default));else{if((o=t.value)==wt)throw Error(At+"Circular dependency");if(o===_t){t.value=wt;let e=void 0,r=t.useNew,i=t.fn,a=t.deps,l=_t;if(a.length){l=[];for(let e=0;e<a.length;e++){const t=a[e],r=t.options,i=2&r?n.get(t.token):void 0;l.push(kt(t.token,i,n,i||4&r?s:xt,1&r?null:gt.THROW_IF_NOT_FOUND,Ge.Default))}}t.value=o=r?new i(...l):i.apply(e,l)}}return o}(e,t,n,s,r,i)}catch(o){throw o instanceof Error||(o=new Error(o)),(o[St]=o[St]||[]).unshift(e),t&&t.value==wt&&(t.value=_t),o}}function Nt(e,t,n=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==At?e.substr(2):e;let s=je(t);if(t instanceof Array)s=t.map(je).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let s=t[n];e.push(n+":"+("string"==typeof s?JSON.stringify(s):je(s)))}s=`{${e.join(", ")}}`}return`StaticInjectorError${n?"("+n+")":""}[${s}]: ${e.replace(Tt,"\n  ")}`}function Mt(e,t){return new Error(Nt(e,t))}class It{}class Ot{}var Ft={Important:1,DashCase:2};Ft[Ft.Important]="Important",Ft[Ft.DashCase]="DashCase";const Rt=Promise.resolve(null);const Lt=Rt;function $t(e,t){return{components:[],scheduler:e||ot,clean:Lt,playerHandler:t||null,flags:0}}const Vt="__ngOnChanges_";function Bt(e){const t=e.declaredInputs,n=e.type.prototype;for(const s in t)if(t.hasOwnProperty(s)){const e=t[s],r=Vt+e;let i=void 0,o=n;for(;!i&&o&&Object.getPrototypeOf(o)!==Object.getPrototypeOf(Object.prototype);)i=Object.getOwnPropertyDescriptor(o,e),o=Object.getPrototypeOf(o);const a=i&&i.get,l=i&&i.set;Object.defineProperty(n,e,{get:a||(l?void 0:function(){return this[r]}),set(e){let t=this[Vt];t||(t={},Object.defineProperty(this,Vt,{value:t,writable:!0}));const n=!this.hasOwnProperty(r),i=t[s];i?i.currentValue=e:t[s]=new st(this[r],e,n),n?Object.defineProperty(this,r,{value:e,writable:!0}):this[r]=e,l&&l.call(this,e)},configurable:!1})}null!=e.onInit&&(e.onInit=jt(e.onInit)),e.doCheck=jt(e.doCheck)}function jt(e){return function(){const t=this[Vt];null!=t&&(this.ngOnChanges(t),this[Vt]=null),e&&e.apply(this)}}Bt.ngInherit=!0;const Ut=new ye("The presence of this token marks an injector as being the root injector.");class Ht{}class qt{}function zt(e){const t=Error(`No component factory found for ${je(e)}. Did you add it to @NgModule.entryComponents?`);return t[Wt]=e,t}const Wt="ngComponent";class Gt{}Gt.NULL=new class{resolveComponentFactory(e){throw zt(e)}};class Kt{constructor(e,t,n){this._parent=t,this._ngModule=n,this._factories=new Map;for(let s=0;s<e.length;s++){const t=e[s];this._factories.set(t.componentType,t)}}resolveComponentFactory(e){let t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw zt(e);return new Qt(t,this._ngModule)}}class Qt extends qt{constructor(e,t){super(),this.factory=e,this.ngModule=t,this.selector=e.selector,this.componentType=e.componentType,this.ngContentSelectors=e.ngContentSelectors,this.inputs=e.inputs,this.outputs=e.outputs}create(e,t,n,s){return this.factory.create(e,t,n,s||this.ngModule)}}class Zt{constructor(e){this.nativeElement=e}}Zt.__NG_ELEMENT_ID__=(()=>Xt(Zt));const Xt=at;class Yt{}new ye("Renderer2Interceptor");class Jt{}var en={Important:1,DashCase:2};en[en.Important]="Important",en[en.DashCase]="DashCase";class tn{}tn.__NG_ELEMENT_ID__=(()=>nn());const nn=at;class sn{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rn=new sn("7.1.1");new ye("ROOT_CONTEXT_TOKEN",{providedIn:"root",factory:()=>$t(Xe(on))});const on=new ye("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>ot});new ye("WRAP_RENDERER_FACTORY2");let an=!0,ln=!1;function cn(){return ln=!0,an}class un{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e),this.inertBodyElement=this.inertDocument.createElement("body"),e.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement=this.getInertBodyElement_DOMParser:this.getInertBodyElement=this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}getInertBodyElement_XHR(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(s){return null}const t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);const n=t.response.body;return n.removeChild(n.firstChild),n}getInertBodyElement_DOMParser(e){e="<body><remove></remove>"+e+"</body>";try{const n=(new window.DOMParser).parseFromString(e,"text/html").body;return n.removeChild(n.firstChild),n}catch(t){return null}}getInertBodyElement_InertDocument(e){const t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}stripCustomNsAttrs(e){const t=e.attributes;for(let s=t.length-1;0<s;s--){const n=t.item(s).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const hn=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,dn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function pn(e){return(e=String(e)).match(hn)||e.match(dn)?e:(cn()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function mn(e){return(e=String(e)).split(",").map(e=>pn(e.trim())).join(", ")}function fn(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function gn(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const vn=fn("area,br,col,hr,img,wbr"),yn=fn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_n=fn("rp,rt"),wn=gn(_n,yn),En=gn(yn,fn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Cn=gn(_n,fn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),bn=gn(vn,En,Cn,wn),Sn=fn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),xn=fn("srcset"),Tn=fn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),An=gn(Sn,xn,Tn);class Dn{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!bn.hasOwnProperty(t))return this.sanitizedSomething=!0,!1;this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s),t=e.name,r=t.toLowerCase();if(!An.hasOwnProperty(r)){this.sanitizedSomething=!0;continue}let i=e.value;Sn[r]&&(i=pn(i)),xn[r]&&(i=mn(i)),this.buf.push(" ",t,'="',Nn(i),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();bn.hasOwnProperty(t)&&!vn.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Nn(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const Pn=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,kn=/([^\#-~ |!])/g;function Nn(e){return e.replace(/&/g,"&amp;").replace(Pn,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(kn,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Mn;function In(e,t){let n=null;try{Mn=Mn||new un(e);let s=t?String(t):"";n=Mn.getInertBodyElement(s);let r=5,i=s;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,s=i,i=n.innerHTML,n=Mn.getInertBodyElement(s)}while(s!==i);const o=new Dn,a=o.sanitizeChildren(On(n)||n);return cn()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content (see http://g.co/ng/security#xss)."),a}finally{if(n){const e=On(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function On(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var Fn={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};Fn[Fn.Zero]="Zero",Fn[Fn.One]="One",Fn[Fn.Two]="Two",Fn[Fn.Few]="Few",Fn[Fn.Many]="Many",Fn[Fn.Other]="Other";class Rn extends N{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let s,r=e=>null,i=()=>null;e&&"object"==typeof e?(s=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(i=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(i=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const o=super.subscribe(s,r,i);return e instanceof g&&e.add(o),o}}class Ln{}Ln.__NG_ELEMENT_ID__=(()=>$n(Ln,Zt));const $n=at;var Vn={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};Vn[Vn.NONE]="NONE",Vn[Vn.HTML]="HTML",Vn[Vn.STYLE]="STYLE",Vn[Vn.SCRIPT]="SCRIPT",Vn[Vn.URL]="URL",Vn[Vn.RESOURCE_URL]="RESOURCE_URL";class Bn{}const jn=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Un=/^url\(([^)]+)\)$/;function Hn(e){if(!(e=String(e).trim()))return"";const t=e.match(Un);return t&&pn(t[1])===t[1]||e.match(jn)&&function(e){let t=!0,n=!0;for(let s=0;s<e.length;s++){const r=e.charAt(s);"'"===r&&n?t=!t:'"'===r&&t&&(n=!n)}return t&&n}(e)?e:(cn()&&console.warn(`WARNING: sanitizing unsafe style value ${e} (see http://g.co/ng/security#xss).`),"unsafe")}const qn=Function;function zn(e){return"function"==typeof e}const Wn=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Gn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Kn=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/;class Qn{constructor(e){this._reflect=e||Fe.Reflect}isReflectionEnabled(){return!0}factory(e){return(...t)=>new e(...t)}_zipTypesAndAnnotations(e,t){let n;n=void 0===e?new Array(t.length):new Array(e.length);for(let s=0;s<n.length;s++)void 0===e?n[s]=[]:e[s]!=Object?n[s]=[e[s]]:n[s]=[],t&&null!=t[s]&&(n[s]=n[s].concat(t[s]));return n}_ownParameters(e,t){const n=e.toString();if(Wn.exec(n)||Gn.exec(n)&&!Kn.exec(n))return null;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;const s=e.ctorParameters;if(s&&s!==t.ctorParameters){const e="function"==typeof s?s():s,t=e.map(e=>e&&e.type),n=e.map(e=>e&&Zn(e.decorators));return this._zipTypesAndAnnotations(t,n)}const r=e.hasOwnProperty(we)&&e[we],i=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return i||r?this._zipTypesAndAnnotations(i,r):new Array(e.length).fill(void 0)}parameters(e){if(!zn(e))return[];const t=Xn(e);let n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}_ownAnnotations(e,t){if(e.annotations&&e.annotations!==t.annotations){let t=e.annotations;return"function"==typeof t&&t.annotations&&(t=t.annotations),t}return e.decorators&&e.decorators!==t.decorators?Zn(e.decorators):e.hasOwnProperty(_e)?e[_e]:null}annotations(e){if(!zn(e))return[];const t=Xn(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}_ownPropMetadata(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){let t=e.propMetadata;return"function"==typeof t&&t.propMetadata&&(t=t.propMetadata),t}if(e.propDecorators&&e.propDecorators!==t.propDecorators){const t=e.propDecorators,n={};return Object.keys(t).forEach(e=>{n[e]=Zn(t[e])}),n}return e.hasOwnProperty(Ee)?e[Ee]:null}propMetadata(e){if(!zn(e))return{};const t=Xn(e),n={};if(t!==Object){const e=this.propMetadata(t);Object.keys(e).forEach(t=>{n[t]=e[t]})}const s=this._ownPropMetadata(e,t);return s&&Object.keys(s).forEach(e=>{const t=[];n.hasOwnProperty(e)&&t.push(...n[e]),t.push(...s[e]),n[e]=t}),n}hasLifecycleHook(e,t){return e instanceof qn&&t in e.prototype}guards(e){return{}}getter(e){return new Function("o","return o."+e+";")}setter(e){return new Function("o","v","return o."+e+" = v;")}method(e){return new Function("o","args",`if (!o.${e}) throw new Error('"${e}" is undefined');\n        return o.${e}.apply(o, args);`)}importUri(e){return"object"==typeof e&&e.filePath?e.filePath:`./${je(e)}`}resourceUri(e){return`./${je(e)}`}resolveIdentifier(e,t,n,s){return s}resolveEnum(e,t){return e[t]}}function Zn(e){return e?e.map(e=>{return new(0,e.type.annotationCls)(...e.args?e.args:[])}):[]}function Xn(e){const t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}const Yn=Ce("Directive",(e={})=>e,void 0,void 0,(e,t)=>as(e,t)),Jn=Ce("Component",(e={})=>Object.assign({changeDetection:ke.Default},e),Yn,void 0,(e,t)=>os(e,t)),es=Ce("Pipe",e=>Object.assign({pure:!0},e),void 0,void 0,(e,t)=>ls(e,t)),ts=e=>(t,n,...s)=>{const r=t.constructor;r.hasOwnProperty(me)||(e=>{const t=e.constructor,n=t.ngBaseDef,s=t.ngBaseDef={inputs:{},outputs:{},declaredInputs:{}};n&&(de(s.inputs,n.inputs),de(s.outputs,n.outputs),de(s.declaredInputs,n.declaredInputs))})(t);const i=r.ngBaseDef;e(i)[n]=s[0]},ns=xe("Input",e=>({bindingPropertyName:e}),void 0,ts(e=>e.inputs||{})),ss=xe("Output",e=>({bindingPropertyName:e}),void 0,ts(e=>e.outputs||{})),rs=xe("HostBinding",e=>({hostPropertyName:e})),is=xe("HostListener",(e,t)=>({eventName:e,args:t})),os=at,as=at,ls=at,cs=he({provide:String,useValue:he}),us=[];function hs(e,t){if(!t){const t=(new Qn).parameters(e);return()=>new e(...Je(t))}if(cs in t){const e=t;return()=>e.useValue}if(t.useExisting){const e=t;return()=>Xe(e.useExisting)}if(t.useFactory){const e=t;return()=>e.useFactory(...Je(e.deps||us))}if(t.useClass){const n=t;let s=t.deps;if(!s){const t=new Qn;s=t.parameters(e)}return()=>new n.useClass(...Je(s))}{let n=t.deps;if(!n){const t=new Qn;n=t.parameters(e)}return()=>new e(...Je(n))}}const ds=Ce("NgModule",e=>e,void 0,void 0,(e,t)=>ps(e,t));const ps=function(e,t){let n=t&&t.imports||[];t&&t.exports&&(n=[...n,t.exports]),e.ngInjectorDef=ge({factory:hs(e,{useClass:e}),providers:t&&t.providers,imports:n})};he({provide:String,useValue:he});const ms=Ce("Injectable",void 0,void 0,void 0,(e,t)=>fs(e,t));const fs=function(e,t){t&&void 0!==t.providedIn&&!ve(e)&&(e.ngInjectableDef=fe({providedIn:t.providedIn,factory:hs(e,t)}))},gs="ngDebugContext",vs="ngOriginalError",ys="ngErrorLogger";function _s(e){return e[gs]}function ws(e){return e[vs]}function Es(e,...t){e.error(...t)}class Cs{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),s=function(e){return e[ys]||Es}(e);s(this._console,"ERROR",e),t&&s(this._console,"ORIGINAL ERROR",t),n&&s(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?_s(e)?_s(e):this._findContext(ws(e)):null}_findOriginalError(e){let t=ws(e);for(;t&&ws(t);)t=ws(t);return t}}function bs(e){if(e.length>1){return" ("+function(e){const t=[];for(let n=0;n<e.length;++n){if(t.indexOf(e[n])>-1)return t.push(e[n]),t;t.push(e[n])}return t}(e.slice().reverse()).map(e=>je(e.token)).join(" -> ")+")"}return""}function Ss(e,t,n,s){const r=[t],i=n(r),o=s?function(e,t){const n=`${e} caused by: ${t instanceof Error?t.message:t}`,s=Error(n);return s[vs]=t,s}(i,s):Error(i);return o.addKey=xs,o.keys=r,o.injectors=[e],o.constructResolvingMessage=n,o[vs]=s,o}function xs(e,t){this.injectors.push(e),this.keys.push(t),this.message=this.constructResolvingMessage(this.keys)}function Ts(e,t){const n=[];for(let s=0,r=t.length;s<r;s++){const e=t[s];e&&0!=e.length?n.push(e.map(je).join(" ")):n.push("?")}return Error("Cannot resolve all parameters for '"+je(e)+"'("+n.join(", ")+"). Make sure that all the parameters are decorated with Inject or have valid type annotations and that '"+je(e)+"' is decorated with Injectable.")}class As{constructor(e,t){if(this.token=e,this.id=t,!e)throw new Error("Token must be defined!");this.displayName=je(this.token)}static get(e){return Ds.get(ut(e))}static get numberOfKeys(){return Ds.numberOfKeys}}const Ds=new class{constructor(){this._allKeys=new Map}get(e){if(e instanceof As)return e;if(this._allKeys.has(e))return this._allKeys.get(e);const t=new As(e,As.numberOfKeys);return this._allKeys.set(e,t),t}get numberOfKeys(){return this._allKeys.size}};const Ps=new class{constructor(e){this.reflectionCapabilities=e}updateCapabilities(e){this.reflectionCapabilities=e}factory(e){return this.reflectionCapabilities.factory(e)}parameters(e){return this.reflectionCapabilities.parameters(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}getter(e){return this.reflectionCapabilities.getter(e)}setter(e){return this.reflectionCapabilities.setter(e)}method(e){return this.reflectionCapabilities.method(e)}importUri(e){return this.reflectionCapabilities.importUri(e)}resourceUri(e){return this.reflectionCapabilities.resourceUri(e)}resolveIdentifier(e,t,n,s){return this.reflectionCapabilities.resolveIdentifier(e,t,n,s)}resolveEnum(e,t){return this.reflectionCapabilities.resolveEnum(e,t)}}(new Qn);class ks{constructor(e,t,n){this.key=e,this.optional=t,this.visibility=n}static fromKey(e){return new ks(e,!1,null)}}const Ns=[];class Ms{constructor(e,t,n){this.key=e,this.resolvedFactories=t,this.multiProvider=n,this.resolvedFactory=this.resolvedFactories[0]}}class Is{constructor(e,t){this.factory=e,this.dependencies=t}}function Os(e){let t,n;if(e.useClass){const s=ut(e.useClass);t=Ps.factory(s),n=Ls(s)}else e.useExisting?(t=(e=>e),n=[ks.fromKey(As.get(e.useExisting))]):e.useFactory?(t=e.useFactory,n=function(e,t){if(t){const n=t.map(e=>[e]);return t.map(t=>$s(e,t,n))}return Ls(e)}(e.useFactory,e.deps)):(t=(()=>e.useValue),n=Ns);return new Is(t,n)}function Fs(e){return new Ms(As.get(e.provide),[Os(e)],e.multi||!1)}function Rs(e){const t=function(e,t){for(let n=0;n<e.length;n++){const s=e[n],r=t.get(s.key.id);if(r){if(s.multiProvider!==r.multiProvider)throw Error(`Cannot mix multi providers and regular providers, got: ${r} ${s}`);if(s.multiProvider)for(let e=0;e<s.resolvedFactories.length;e++)r.resolvedFactories.push(s.resolvedFactories[e]);else t.set(s.key.id,s)}else{let e;e=s.multiProvider?new Ms(s.key,s.resolvedFactories.slice(),s.multiProvider):s,t.set(s.key.id,e)}}return t}(function e(t,n){t.forEach(t=>{if(t instanceof qn)n.push({provide:t,useClass:t});else if(t&&"object"==typeof t&&void 0!==t.provide)n.push(t);else{if(!(t instanceof Array))throw function(e){return Error(`Invalid provider - only instances of Provider and Type are allowed, got: ${e}`)}(t);e(t,n)}});return n}(e,[]).map(Fs),new Map);return Array.from(t.values())}function Ls(e){const t=Ps.parameters(e);if(!t)return[];if(t.some(e=>null==e))throw Ts(e,t);return t.map(n=>$s(e,n,t))}function $s(e,t,n){let s=null,r=!1;if(!Array.isArray(t))return Vs(t instanceof Ue?t.token:t,r,null);let i=null;for(let o=0;o<t.length;++o){const e=t[o];e instanceof qn?s=e:e instanceof Ue?s=e.token:e instanceof He?r=!0:e instanceof qe||e instanceof ze?i=e:e instanceof ye&&(s=e)}if(null!=(s=ut(s)))return Vs(s,r,i);throw Ts(e,n)}function Vs(e,t,n){return new ks(As.get(e),t,n)}const Bs=new Object;class js{static resolve(e){return Rs(e)}static resolveAndCreate(e,t){const n=js.resolve(e);return js.fromResolvedProviders(n,t)}static fromResolvedProviders(e,t){return new Us(e,t)}}class Us{constructor(e,t){this._constructionCounter=0,this._providers=e,this.parent=t||null;const n=e.length;this.keyIds=new Array(n),this.objs=new Array(n);for(let s=0;s<n;s++)this.keyIds[s]=e[s].key.id,this.objs[s]=Bs}get(e,t=pt){return this._getByKey(As.get(e),null,t)}resolveAndCreateChild(e){const t=js.resolve(e);return this.createChildFromResolved(t)}createChildFromResolved(e){const t=new Us(e);return t.parent=this,t}resolveAndInstantiate(e){return this.instantiateResolved(js.resolve([e])[0])}instantiateResolved(e){return this._instantiateProvider(e)}getProviderAtIndex(e){if(e<0||e>=this._providers.length)throw function(e){return Error(`Index ${e} is out-of-bounds.`)}(e);return this._providers[e]}_new(e){if(this._constructionCounter++>this._getMaxNumberOfObjects())throw t=this,n=e.key,Ss(t,n,function(e){return`Cannot instantiate cyclic dependency!${bs(e)}`});var t,n;return this._instantiateProvider(e)}_getMaxNumberOfObjects(){return this.objs.length}_instantiateProvider(e){if(e.multiProvider){const t=new Array(e.resolvedFactories.length);for(let n=0;n<e.resolvedFactories.length;++n)t[n]=this._instantiate(e,e.resolvedFactories[n]);return t}return this._instantiate(e,e.resolvedFactories[0])}_instantiate(e,t){const n=t.factory;let s,r;try{s=t.dependencies.map(e=>this._getByReflectiveDependency(e))}catch(l){throw l.addKey&&l.addKey(this,e.key),l}try{r=n(...s)}catch(l){throw i=this,o=l,l.stack,a=e.key,Ss(i,a,function(e){const t=je(e[0].token);return`${o.message}: Error during instantiation of ${t}!${bs(e)}.`},o)}var i,o,a;return r}_getByReflectiveDependency(e){return this._getByKey(e.key,e.visibility,e.optional?null:pt)}_getByKey(e,t,n){return e===Us.INJECTOR_KEY?this:t instanceof qe?this._getByKeySelf(e,n):this._getByKeyDefault(e,n,t)}_getObjByKeyId(e){for(let t=0;t<this.keyIds.length;t++)if(this.keyIds[t]===e)return this.objs[t]===Bs&&(this.objs[t]=this._new(this._providers[t])),this.objs[t];return Bs}_throwOrNull(e,t){if(t!==pt)return t;throw function(e,t){return Ss(e,t,function(e){return`No provider for ${je(e[0].token)}!${bs(e)}`})}(this,e)}_getByKeySelf(e,t){const n=this._getObjByKeyId(e.id);return n!==Bs?n:this._throwOrNull(e,t)}_getByKeyDefault(e,t,n){let s;for(s=n instanceof ze?this.parent:this;s instanceof Us;){const t=s,n=t._getObjByKeyId(e.id);if(n!==Bs)return n;s=t.parent}return null!==s?s.get(e.token,t):this._throwOrNull(e,t)}get displayName(){return`ReflectiveInjector(providers: [${function(e,t){const n=new Array(e._providers.length);for(let s=0;s<e._providers.length;++s)n[s]=t(e.getProviderAtIndex(s));return n}(this,e=>' "'+e.key.displayName+'" ').join(", ")}])`}toString(){return this.displayName}}function Hs(e){return!!e&&"function"==typeof e.then}function qs(e){return!!e&&"function"==typeof e.subscribe}Us.INJECTOR_KEY=As.get(gt);const zs=new ye("Application Initializer");class Ws{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Hs(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}Ws.decorators=[{type:ms}],Ws.ctorParameters=(()=>[{type:Array,decorators:[{type:Ue,args:[zs]},{type:He}]}]);const Gs=new ye("AppId");const Ks={provide:Gs,useFactory:function(){return`${Qs()}${Qs()}${Qs()}`},deps:[]};function Qs(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zs=new ye("Platform Initializer"),Xs=new ye("Platform ID"),Ys=new ye("appBootstrapListener"),Js=new ye("Application Packages Root URL");class er{log(e){console.log(e)}warn(e){console.warn(e)}}er.decorators=[{type:ms}];function tr(){throw new Error("Runtime compiler is not loaded")}class nr{compileModuleSync(e){throw tr()}compileModuleAsync(e){throw tr()}compileModuleAndAllComponentsSync(e){throw tr()}compileModuleAndAllComponentsAsync(e){throw tr()}clearCache(){}clearCacheFor(e){}getModuleId(e){}}nr.decorators=[{type:ms}];const sr=new ye("compilerOptions");class rr{}let ir,or;const ar=function(){const e=Fe.wtf;return!(!e||!(ir=e.trace)||(or=ir.events,0))}();const lr=ar?function(e,t=null){return or.createScope(e,t)}:(e,t)=>(function(e,t){return null}),cr=ar?function(e,t){return ir.leaveScope(e,t),t}:(e,t)=>t;class ur{constructor({enableLongStackTrace:e=!1}){if(this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rn(!1),this.onMicrotaskEmpty=new Rn(!1),this.onStable=new Rn(!1),this.onError=new Rn(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const t=this;var n;t._nesting=0,t._outer=t._inner=Zone.current,Zone.wtfZoneSpec&&(t._inner=t._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(t._inner=t._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(t._inner=t._inner.fork(Zone.longStackTraceZoneSpec)),(n=t)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,t,s,r,i,o)=>{try{return mr(n),e.invokeTask(s,r,i,o)}finally{fr(n)}},onInvoke:(e,t,s,r,i,o,a)=>{try{return mr(n),e.invoke(s,r,i,o,a)}finally{fr(n)}},onHasTask:(e,t,s,r)=>{e.hasTask(s,r),t===s&&("microTask"==r.change?(n.hasPendingMicrotasks=r.microTask,pr(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:(e,t,s,r)=>(e.handleError(s,r),n.runOutsideAngular(()=>n.onError.emit(r)),!1)})}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ur.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(ur.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,s){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+s,e,dr,hr,hr);try{return r.runTask(i,t,n)}finally{r.cancelTask(i)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function hr(){}const dr={};function pr(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function mr(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function fr(e){e._nesting--,pr(e)}class gr{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Rn,this.onMicrotaskEmpty=new Rn,this.onStable=new Rn,this.onError=new Rn}run(e){return e()}runGuarded(e){return e()}runOutsideAngular(e){return e()}runTask(e){return e()}}class vr{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ur.assertNotInAngularZone(),Ve(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Ve(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let s=-1;t&&t>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==s),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}vr.decorators=[{type:ms}],vr.ctorParameters=(()=>[{type:ur}]);class yr{constructor(){this._applications=new Map,wr.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return wr.findTestabilityInTree(this,e,t)}}yr.decorators=[{type:ms}],yr.ctorParameters=(()=>[]);let _r,wr=new class{addToWindow(e){}findTestabilityInTree(e,t,n){return null}},Er=function(e,t,n){return e.get(rr).createCompiler([t]).compileModuleAsync(n)};const Cr=new ye("AllowMultipleToken");class br{constructor(e,t){this.name=e,this.token=t}}function Sr(e,t,n=[]){const s=`Platform: ${t}`,r=new ye(s);return(t=[])=>{let i=xr();if(!i||i.injector.get(Cr,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0});!function(e){if(_r&&!_r.destroyed&&!_r.injector.get(Cr,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");_r=e.get(Tr);const t=e.get(Zs,null);t&&t.forEach(e=>e())}(gt.create({providers:e,name:s}))}return function(e){const t=xr();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function xr(){return _r&&!_r.destroyed?_r:null}class Tr{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e){let t;t="noop"===e?new gr:("zone.js"===e?void 0:e)||new ur({enableLongStackTrace:cn()});return t}(t?t.ngZone:void 0),s=[{provide:ur,useValue:n}];return n.run(()=>{const t=gt.create({providers:s,parent:this.injector,name:e.moduleType.name}),r=e.create(t),i=r.injector.get(Cs,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Pr(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{i.handleError(e)}})),function(e,t,n){try{const r=n();return Hs(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(s){throw t.runOutsideAngular(()=>e.handleError(s)),s}}(i,n,()=>{const e=r.injector.get(Ws);return e.runInitializers(),e.donePromise.then(()=>(this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=Ar({},t);return Er(this.injector,n,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Dr);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${je(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. `+"Please define one of these.");e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}function Ar(e,t){return e=Array.isArray(t)?t.reduce(Ar,e):Object.assign({},e,t)}Tr.decorators=[{type:ms}],Tr.ctorParameters=(()=>[{type:gt}]);class Dr{constructor(e,t,n,s,r,i){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=s,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=cn(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new x(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new x(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{ur.assertNotInAngularZone(),Ve(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{ur.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=te(o,a.pipe(ue()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof qt?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const s=n instanceof Qt?null:this._injector.get(It),r=t||n.selector,i=n.create(gt.NULL,[],r,s);i.onDestroy(()=>{this._unloadComponent(i)});const o=i.injector.get(vr,null);return o&&i.injector.get(yr).registerApplication(i.location.nativeElement,o),this._loadComponent(i),cn()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");const e=Dr._tickScope();try{this._runningTick=!0,this._views.forEach(e=>e.detectChanges()),this._enforceNoNewChanges&&this._views.forEach(e=>e.checkNoChanges())}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1,cr(e)}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Pr(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(Ys,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Pr(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}function Pr(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}Dr._tickScope=lr("ApplicationRef#tick()"),Dr.decorators=[{type:ms}],Dr.ctorParameters=(()=>[{type:ur},{type:er},{type:gt},{type:Cs},{type:Gt},{type:Ws}]);class kr{}let Nr=new Map;function Mr(e,t){const n=Nr.get(e);if(n)throw new Error(`Duplicate module registered for ${e} - ${n.moduleType.name} vs ${t.moduleType.name}`);Nr.set(e,t)}class Ir{constructor(){this.dirty=!0,this._results=[],this.changes=new Rn,this.length=0}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}[$e()](){return this._results[$e()]()}toString(){return this._results.toString()}reset(e){this._results=function e(t){return t.reduce((t,n)=>{const s=Array.isArray(n)?e(n):n;return t.concat(s)},[])}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}const Or="#",Fr="NgFactory";const Rr={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};class Lr{constructor(e,t){this._compiler=e,this._config=t||Rr}load(e){return this._compiler instanceof nr?this.loadFactory(e):this.loadAndCompile(e)}loadAndCompile(e){let[t,s]=e.split(Or);return void 0===s&&(s="default"),n("crnd")(t).then(e=>e[s]).then(e=>$r(e,t,s)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,s]=e.split(Or),r=Fr;return void 0===s&&(s="default",r=""),n("crnd")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[s+r]).then(e=>$r(e,t,s))}}function $r(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}Lr.decorators=[{type:ms}],Lr.ctorParameters=(()=>[{type:nr},{type:class{},decorators:[{type:He}]}]);class Vr{}Vr.__NG_ELEMENT_ID__=(()=>Br(Vr,Zt));const Br=at;class jr{}jr.__NG_ELEMENT_ID__=(()=>Ur());const Ur=(...e)=>{};class Hr{constructor(e,t){this.name=e,this.callback=t}}class qr{constructor(e,t,n){this.nativeNode=e,this._debugContext=n,this.listeners=[],this.parent=null,t&&t instanceof zr&&t.addChild(this)}get injector(){return this._debugContext.injector}get componentInstance(){return this._debugContext.component}get context(){return this._debugContext.context}get references(){return this._debugContext.references}get providerTokens(){return this._debugContext.providerTokens}}class zr extends qr{constructor(e,t,n){super(e,t,n),this.properties={},this.attributes={},this.classes={},this.styles={},this.childNodes=[],this.nativeElement=e}addChild(e){e&&(this.childNodes.push(e),e.parent=this)}removeChild(e){const t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}insertChildrenAfter(e,t){const n=this.childNodes.indexOf(e);-1!==n&&(this.childNodes.splice(n+1,0,...t),t.forEach(e=>{e.parent&&e.parent.removeChild(e),e.parent=this}))}insertBefore(e,t){const n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}query(e){return this.queryAll(e)[0]||null}queryAll(e){const t=[];return function e(t,n,s){t.childNodes.forEach(t=>{t instanceof zr&&(n(t)&&s.push(t),e(t,n,s))})}(this,e,t),t}queryAllNodes(e){const t=[];return function e(t,n,s){t instanceof zr&&t.childNodes.forEach(t=>{n(t)&&s.push(t),t instanceof zr&&e(t,n,s)})}(this,e,t),t}get children(){return this.childNodes.filter(e=>e instanceof zr)}triggerEventHandler(e,t){this.listeners.forEach(n=>{n.name==e&&n.callback(t)})}}const Wr=new Map;function Gr(e){return Wr.get(e)||null}function Kr(e){Wr.set(e.nativeNode,e)}class Qr{constructor(){}supports(e){return rt(e)}create(e){return new Xr(e)}}const Zr=(e,t)=>t;class Xr{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Zr}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,s=0,r=null;for(;t||n;){const i=!n||t&&t.currentIndex<ti(n,s,r)?t:n,o=ti(i,s,r),a=i.currentIndex;if(i===n)s--,n=n._nextRemoved;else if(t=t._next,null==i.previousIndex)s++;else{r||(r=[]);const e=o-s,t=a-s;if(e!=t){for(let n=0;n<e;n++){const s=n<r.length?r[n]:r[n]=0,i=s+n;t<=i&&i<e&&(r[n]=s+1)}r[i.previousIndex]=t-e}}o!==a&&e(i,o,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!rt(e))throw new Error(`Error trying to diff '${je(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,s,r=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],s=this._trackByFn(t,n),null!==r&&Be(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,n,s,t)),Be(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,s,t),i=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[$e()]();let s;for(;!(s=n.next()).done;)t(s.value)}}(e,e=>{s=this._trackByFn(t,e),null!==r&&Be(r.trackById,s)?(i&&(r=this._verifyReinsertion(r,e,s,t)),Be(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,s,t),i=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,s){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,s))?(Be(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,s)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Be(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,s)):e=this._addAfter(new Yr(t,n),r,s),e}_verifyReinsertion(e,t,n,s){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,s):e.currentIndex!=s&&(e.currentIndex=s,this._addToMoves(e,s)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const s=e._prevRemoved,r=e._nextRemoved;return null===s?this._removalsHead=r:s._nextRemoved=r,null===r?this._removalsTail=s:r._prevRemoved=s,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),null===this._additionsTail?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const s=null===t?this._itHead:t._next;return e._next=s,e._prev=t,null===s?this._itTail=e:s._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new ei),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t?e:(null===this._movesTail?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e,e)}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ei),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,null===this._identityChangesTail?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}}class Yr{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Jr{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Be(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class ei{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Jr,this.map.set(t,n)),n.add(e)}get(e,t){const n=e,s=this.map.get(n);return s?s.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ti(e,t,n){const s=e.previousIndex;if(null===s)return s;let r=0;return n&&s<n.length&&(r=n[s]),s+t+r}class ni{constructor(){}supports(e){return e instanceof Map||it(e)}create(){return new si}}class si{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||it(e)))throw new Error(`Error trying to diff '${je(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const s=n._prev,r=n._next;return s&&(s._next=r),r&&(r._prev=s),n._next=null,n._prev=null,n}const n=new ri(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Be(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class ri{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}class ii{constructor(e){this.factories=e}static create(e,t){if(null!=t){const n=t.factories.slice();e=e.concat(n)}return new ii(e)}static extend(e){return{provide:ii,useFactory:t=>{if(!t)throw new Error("Cannot extend IterableDiffers without a parent injector");return ii.create(e,t)},deps:[[ii,new ze,new He]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}ii.ngInjectableDef=fe({providedIn:"root",factory:()=>new ii([new Qr])});class oi{constructor(e){this.factories=e}static create(e,t){if(t){const n=t.factories.slice();e=e.concat(n)}return new oi(e)}static extend(e){return{provide:oi,useFactory:t=>{if(!t)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return oi.create(e,t)},deps:[[oi,new ze,new He]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}oi.ngInjectableDef=fe({providedIn:"root",factory:()=>new oi([new ni])});const ai=[new ni],li=[new Qr],ci=new ii(li),ui=new oi(ai),hi=Sr(null,"core",[{provide:Xs,useValue:"unknown"},{provide:Tr,deps:[gt]},{provide:yr,deps:[]},{provide:er,deps:[]}]),di=new ye("LocaleId"),pi=new ye("Translations"),mi=new ye("TranslationsFormat");var fi={Error:0,Warning:1,Ignore:2};fi[fi.Error]="Error",fi[fi.Warning]="Warning",fi[fi.Ignore]="Ignore";const gi=[{provide:Dr,useClass:Dr,deps:[ur,er,gt,Cs,Gt,Ws]},{provide:Ws,useClass:Ws,deps:[[new He,zs]]},{provide:nr,useClass:nr,deps:[]},Ks,{provide:ii,useFactory:function(){return ci},deps:[]},{provide:oi,useFactory:function(){return ui},deps:[]},{provide:di,useFactory:function(e){return e||"en-US"},deps:[[new Ue(di),new He,new ze]]}];class vi{constructor(e){}}vi.decorators=[{type:ds,args:[{providers:gi}]}],vi.ctorParameters=(()=>[{type:Dr}]);const yi=!1;function _i(e,t,n){const s=e.state,r=1792&s;return r===t?(e.state=-1793&s|n,e.initIndex=-1,!0):r===n}function wi(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function Ei(e,t){return e.nodes[t]}function Ci(e,t){return e.nodes[t]}function bi(e,t){return e.nodes[t]}function Si(e,t){return e.nodes[t]}function xi(e,t){return e.nodes[t]}const Ti={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0};function Ai(e,t,n,s){let r=`ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '${t}'. Current value: '${n}'.`;return s&&(r+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){const n=new Error(e);return Di(n,t),n}(r,e)}function Di(e,t){e[gs]=t,e[ys]=t.logError.bind(t)}function Pi(e){return new Error(`ViewDestroyedError: Attempt to use a destroyed view: ${e}`)}const ki=()=>{},Ni=new Map;function Mi(e){let t=Ni.get(e);return t||(t=je(e)+"_"+Ni.size,Ni.set(e,t)),t}function Ii(e,t,n,s){if(nt.isWrapped(s)){s=nt.unwrap(s);const r=e.def.nodes[t].bindingIndex+n,i=nt.unwrap(e.oldValues[r]);e.oldValues[r]=new nt(i)}return s}const Oi="$$undefined",Fi="$$empty";function Ri(e){return{id:Oi,styles:e.styles,encapsulation:e.encapsulation,data:e.data}}let Li=0;function $i(e,t,n,s){const r=e.oldValues;return!(!(2&e.state)&&Be(r[t.bindingIndex+n],s))}function Vi(e,t,n,s){return!!$i(e,t,n,s)&&(e.oldValues[t.bindingIndex+n]=s,!0)}function Bi(e,t,n,s){const r=e.oldValues[t.bindingIndex+n];if(1&e.state||!tt(r,s)){const i=t.bindings[n].name;throw Ai(Ti.createDebugContext(e,t.nodeIndex),`${i}: ${r}`,`${i}: ${s}`,0!=(1&e.state))}}function ji(e){let t=e;for(;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function Ui(e,t){let n=e;for(;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function Hi(e,t,n,s){try{return ji(33554432&e.def.nodes[t].flags?Ci(e,t).componentView:e),Ti.handleEvent(e,t,n,s)}catch(r){e.root.errorHandler.handleError(r)}}function qi(e){if(e.parent){return Ci(e.parent,e.parentNodeDef.nodeIndex)}return null}function zi(e){return e.parent?e.parentNodeDef.parent:null}function Wi(e,t){switch(201347067&t.flags){case 1:return Ci(e,t.nodeIndex).renderElement;case 2:return Ei(e,t.nodeIndex).renderText}}function Gi(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function Ki(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function Qi(e){return 1<<e%32}function Zi(e){const t={};let n=0;const s={};return e&&e.forEach(([e,r])=>{"number"==typeof e?(t[e]=r,n|=Qi(e)):s[e]=r}),{matchedQueries:t,references:s,matchedQueryIds:n}}function Xi(e,t){return e.map(e=>{let n,s;return Array.isArray(e)?[s,n]=e:(s=0,n=e),n&&("function"==typeof n||"object"==typeof n)&&t&&Object.defineProperty(n,ht,{value:t,configurable:!0}),{flags:s,token:n,tokenKey:Mi(n)}})}function Yi(e,t,n){let s=n.renderParent;return s?0==(1&s.flags)||0==(33554432&s.flags)||s.element.componentRendererType&&s.element.componentRendererType.encapsulation===Me.Native?Ci(e,n.renderParent.nodeIndex).renderElement:void 0:t}const Ji=new WeakMap;function eo(e){let t=Ji.get(e);return t||((t=e(()=>ki)).factory=e,Ji.set(e,t)),t}function to(e,t,n,s,r){3===t&&(n=e.renderer.parentNode(Wi(e,e.def.lastRenderRootNode))),no(e,t,0,e.def.nodes.length-1,n,s,r)}function no(e,t,n,s,r,i,o){for(let a=n;a<=s;a++){const n=e.def.nodes[a];11&n.flags&&ro(e,n,t,r,i,o),a+=n.childCount}}function so(e,t,n,s,r,i){let o=e;for(;o&&!Gi(o);)o=o.parent;const a=o.parent,l=zi(o),c=l.nodeIndex+1,u=l.nodeIndex+l.childCount;for(let h=c;h<=u;h++){const e=a.def.nodes[h];e.ngContentIndex===t&&ro(a,e,n,s,r,i),h+=e.childCount}if(!a.parent){const o=e.root.projectableNodes[t];if(o)for(let t=0;t<o.length;t++)io(e,o[t],n,s,r,i)}}function ro(e,t,n,s,r,i){if(8&t.flags)so(e,t.ngContent.index,n,s,r,i);else{const o=Wi(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags){if(16&t.bindingFlags&&io(e,o,n,s,r,i),32&t.bindingFlags){io(Ci(e,t.nodeIndex).componentView,o,n,s,r,i)}}else io(e,o,n,s,r,i);if(16777216&t.flags){const o=Ci(e,t.nodeIndex).viewContainer._embeddedViews;for(let e=0;e<o.length;e++)to(o[e],n,s,r,i)}1&t.flags&&!t.element.name&&no(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,s,r,i)}}function io(e,t,n,s,r,i){const o=e.renderer;switch(n){case 1:o.appendChild(s,t);break;case 2:o.insertBefore(s,t,r);break;case 3:o.removeChild(s,t);break;case 0:i.push(t)}}const oo=/^:([^:]+):(.+)$/;function ao(e){if(":"===e[0]){const t=e.match(oo);return[t[1],t[2]]}return["",e]}function lo(e){let t=0;for(let n=0;n<e.length;n++)t|=e[n].flags;return t}function co(e,t){let n="";for(let s=0;s<2*e;s+=2)n=n+t[s]+ho(t[s+1]);return n+t[2*e]}function uo(e,t,n,s,r,i,o,a,l,c,u,h,d,p,m,f,g,v,y,_){switch(e){case 1:return t+ho(n)+s;case 2:return t+ho(n)+s+ho(r)+i;case 3:return t+ho(n)+s+ho(r)+i+ho(o)+a;case 4:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c;case 5:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c+ho(u)+h;case 6:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c+ho(u)+h+ho(d)+p;case 7:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c+ho(u)+h+ho(d)+p+ho(m)+f;case 8:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c+ho(u)+h+ho(d)+p+ho(m)+f+ho(g)+v;case 9:return t+ho(n)+s+ho(r)+i+ho(o)+a+ho(l)+c+ho(u)+h+ho(d)+p+ho(m)+f+ho(g)+v+ho(y)+_;default:throw new Error("Does not support more than 9 expressions")}}function ho(e){return null!=e?e.toString():""}const po=[],mo={};function fo(e,t,n,s,r,i){e|=1;const{matchedQueries:o,references:a,matchedQueryIds:l}=Zi(t);return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:o,matchedQueryIds:l,references:a,ngContentIndex:n,childCount:s,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:i?eo(i):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:r||ki},provider:null,text:null,query:null,ngContent:null}}function go(e,t,n,s,r,i,o=[],a,l,c,u,h){c||(c=ki);const{matchedQueries:d,references:p,matchedQueryIds:m}=Zi(n);let f=null,g=null;i&&([f,g]=ao(i)),a=a||[];const v=new Array(a.length);for(let w=0;w<a.length;w++){const[e,t,n]=a[w],[s,r]=ao(t);let i=void 0,o=void 0;switch(15&e){case 4:o=n;break;case 1:case 8:i=n}v[w]={flags:e,ns:s,name:r,nonMinifiedName:r,securityContext:i,suffix:o}}l=l||[];const y=new Array(l.length);for(let w=0;w<l.length;w++){const[e,t]=l[w];y[w]={type:0,target:e,eventName:t,propName:null}}const _=(o=o||[]).map(([e,t])=>{const[n,s]=ao(e);return[n,s,t]});return h=function(e){if(e&&e.id===Oi){const t=null!=e.encapsulation&&e.encapsulation!==Me.None||e.styles.length||Object.keys(e.data).length;e.id=t?`c${Li++}`:Fi}return e&&e.id===Fi&&(e=null),e||null}(h),u&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:d,matchedQueryIds:m,references:p,ngContentIndex:s,childCount:r,bindings:v,bindingFlags:lo(v),outputs:y,element:{ns:f,name:g,attrs:_,template:null,componentProvider:null,componentView:u||null,componentRendererType:h,publicProviders:null,allProviders:null,handleEvent:c||ki},provider:null,text:null,query:null,ngContent:null}}function vo(e,t,n){const s=n.element,r=e.root.selectorOrNode,i=e.renderer;let o;if(e.parent||!r){o=s.name?i.createElement(s.name,s.ns):i.createComment("");const r=Yi(e,t,n);r&&i.appendChild(r,o)}else{const e=!!s.componentRendererType&&s.componentRendererType.encapsulation===Me.ShadowDom;o=i.selectRootElement(r,e)}if(s.attrs)for(let a=0;a<s.attrs.length;a++){const[e,t,n]=s.attrs[a];i.setAttribute(o,t,n,e)}return o}function yo(e,t,n,s){for(let o=0;o<n.outputs.length;o++){const a=n.outputs[o],l=_o(e,n.nodeIndex,(r=a.target,i=a.eventName,r?`${r}:${i}`:i));let c=a.target,u=e;"component"===a.target&&(c=null,u=t);const h=u.renderer.listen(c||s,a.eventName,l);e.disposables[n.outputIndex+o]=h}var r,i}function _o(e,t,n){return s=>Hi(e,t,n,s)}function wo(e,t,n,s){if(!Vi(e,t,n,s))return!1;const r=t.bindings[n],i=Ci(e,t.nodeIndex),o=i.renderElement,a=r.name;switch(15&r.flags){case 1:!function(e,t,n,s,r,i){const o=t.securityContext;let a=o?e.root.sanitizer.sanitize(o,i):i;a=null!=a?a.toString():null;const l=e.renderer;null!=i?l.setAttribute(n,r,a,s):l.removeAttribute(n,r,s)}(e,r,o,r.ns,a,s);break;case 2:!function(e,t,n,s){const r=e.renderer;s?r.addClass(t,n):r.removeClass(t,n)}(e,o,a,s);break;case 4:!function(e,t,n,s,r){let i=e.root.sanitizer.sanitize(Vn.STYLE,r);if(null!=i){i=i.toString();const e=t.suffix;null!=e&&(i+=e)}else i=null;const o=e.renderer;null!=i?o.setStyle(n,s,i):o.removeStyle(n,s)}(e,r,o,a,s);break;case 8:!function(e,t,n,s,r){const i=t.securityContext;let o=i?e.root.sanitizer.sanitize(i,r):r;e.renderer.setProperty(n,s,o)}(33554432&t.flags&&32&r.flags?i.componentView:e,r,o,a,s)}return!0}const Eo=new Object,Co=Mi(gt),bo=Mi(mt),So=Mi(It);function xo(e,t,n,s){return n=ut(n),{index:-1,deps:Xi(s,je(t)),flags:e,token:t,value:n}}function To(e){const t={},n=[];let s=!1;for(let r=0;r<e.length;r++){const i=e[r];i.token===Ut&&!0===i.value&&(s=!0),1073741824&i.flags&&n.push(i.token),i.index=r,t[Mi(i.token)]=i}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:s}}function Ao(e,t,n=gt.THROW_IF_NOT_FOUND){const s=Ze(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(n=null),1&t.flags)return e._parent.get(t.token,n);const o=t.tokenKey;switch(o){case Co:case bo:case So:return e}const a=e._def.providersByKey[o];let l;if(a){let t=e._providers[a.index];return void 0===t&&(t=e._providers[a.index]=Do(e,a)),t===Eo?void 0:t}if((l=ve(t.token))&&(r=e,null!=(i=l).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(r,i.providedIn)||"root"===i.providedIn&&r._def.isRoot))){const n=e._providers.length;return e._def.providersByKey[t.tokenKey]={flags:5120,value:l.factory,deps:[],index:n,token:t.token},e._providers[n]=Eo,e._providers[n]=Do(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?n:e._parent.get(t.token,n)}finally{Ze(s)}var r,i}function Do(e,t){let n;switch(201347067&t.flags){case 512:n=function(e,t,n){const s=n.length;switch(s){case 0:return new t;case 1:return new t(Ao(e,n[0]));case 2:return new t(Ao(e,n[0]),Ao(e,n[1]));case 3:return new t(Ao(e,n[0]),Ao(e,n[1]),Ao(e,n[2]));default:const r=new Array(s);for(let t=0;t<s;t++)r[t]=Ao(e,n[t]);return new t(...r)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){const s=n.length;switch(s){case 0:return t();case 1:return t(Ao(e,n[0]));case 2:return t(Ao(e,n[0]),Ao(e,n[1]));case 3:return t(Ao(e,n[0]),Ao(e,n[1]),Ao(e,n[2]));default:const r=Array(s);for(let t=0;t<s;t++)r[t]=Ao(e,n[t]);return t(...r)}}(e,t.value,t.deps);break;case 2048:n=Ao(e,t.deps[0]);break;case 256:n=t.value}return n===Eo||null==n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Eo:n}function Po(e,t,n,s){let r=t.viewContainer._embeddedViews;null==n&&(n=r.length),s.viewContainerParent=e,Io(r,n,s),function(e,t){const n=qi(t);if(!n||n===e||16&t.state)return;t.state|=16;let s=n.template._projectedViews;s||(s=n.template._projectedViews=[]);s.push(t),function(e,t){if(4&t.flags)return;e.nodeFlags|=4,t.flags|=4;let n=t.parent;for(;n;)n.childFlags|=4,n=n.parent}(t.parent.def,t.parentNodeDef)}(t,s),Ti.dirtyParentQueries(s),No(t,n>0?r[n-1]:null,s)}function ko(e,t){const n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;const s=n[t];return s.viewContainerParent=null,Oo(n,t),Ti.dirtyParentQueries(s),Mo(s),s}function No(e,t,n){const s=t?Wi(t,t.def.lastRenderRootNode):e.renderElement,r=n.renderer.parentNode(s),i=n.renderer.nextSibling(s);to(n,2,r,i,void 0)}function Mo(e){to(e,3,null,null,void 0)}function Io(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Oo(e,t){t>=e.length-1?e.pop():e.splice(t,1)}const Fo=new Object;function Ro(e,t,n,s,r,i){return new Lo(e,t,n,s,r,i)}class Lo extends qt{constructor(e,t,n,s,r,i){super(),this.selector=e,this.componentType=t,this._inputs=s,this._outputs=r,this.ngContentSelectors=i,this.viewDefFactory=n}get inputs(){const e=[],t=this._inputs;for(let n in t){const s=t[n];e.push({propName:n,templateName:s})}return e}get outputs(){const e=[];for(let t in this._outputs){const n=this._outputs[t];e.push({propName:t,templateName:n})}return e}create(e,t,n,s){if(!s)throw new Error("ngModule should be provided");const r=eo(this.viewDefFactory),i=r.nodes[0].element.componentProvider.nodeIndex,o=Ti.createRootView(e,t||[],n,r,s,Fo),a=bi(o,i).instance;return n&&o.renderer.setAttribute(Ci(o,0).renderElement,"ng-version",rn.full),new $o(o,new Uo(o),a)}}class $o extends Ht{constructor(e,t,n){super(),this._view=e,this._viewRef=t,this._component=n,this._elDef=this._view.def.nodes[0],this.hostView=t,this.changeDetectorRef=t,this.instance=n}get location(){return new Zt(Ci(this._view,this._elDef.nodeIndex).renderElement)}get injector(){return new Wo(this._view,this._elDef)}get componentType(){return this._component.constructor}destroy(){this._viewRef.destroy()}onDestroy(e){this._viewRef.onDestroy(e)}}function Vo(e,t,n){return new Bo(e,t,n)}class Bo{constructor(e,t,n){this._view=e,this._elDef=t,this._data=n,this._embeddedViews=[]}get element(){return new Zt(this._data.renderElement)}get injector(){return new Wo(this._view,this._elDef)}get parentInjector(){let e=this._view,t=this._elDef.parent;for(;!t&&e;)t=zi(e),e=e.parent;return e?new Wo(e,t):new Wo(this._view,null)}clear(){for(let e=this._embeddedViews.length-1;e>=0;e--){const t=ko(this._data,e);Ti.destroyView(t)}}get(e){const t=this._embeddedViews[e];if(t){const e=new Uo(t);return e.attachToViewContainerRef(this),e}return null}get length(){return this._embeddedViews.length}createEmbeddedView(e,t,n){const s=e.createEmbeddedView(t||{});return this.insert(s,n),s}createComponent(e,t,n,s,r){const i=n||this.parentInjector;r||e instanceof Qt||(r=i.get(It));const o=e.create(i,s,void 0,r);return this.insert(o.hostView,t),o}insert(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");const n=e,s=n._view;return Po(this._view,this._data,t,s),n.attachToViewContainerRef(this),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");const n=this._embeddedViews.indexOf(e._view);return function(e,t,n){const s=e.viewContainer._embeddedViews,r=s[t];Oo(s,t),null==n&&(n=s.length),Io(s,n,r),Ti.dirtyParentQueries(r),Mo(r),No(e,n>0?s[n-1]:null,r)}(this._data,n,t),e}indexOf(e){return this._embeddedViews.indexOf(e._view)}remove(e){const t=ko(this._data,e);t&&Ti.destroyView(t)}detach(e){const t=ko(this._data,e);return t?new Uo(t):null}}function jo(e){return new Uo(e)}class Uo{constructor(e){this._view=e,this._viewContainerRef=null,this._appRef=null}get rootNodes(){return function(e){const t=[];return to(e,0,void 0,void 0,t),t}(this._view)}get context(){return this._view.context}get destroyed(){return 0!=(128&this._view.state)}markForCheck(){ji(this._view)}detach(){this._view.state&=-5}detectChanges(){const e=this._view.root.rendererFactory;e.begin&&e.begin();try{Ti.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}checkNoChanges(){Ti.checkNoChangesView(this._view)}reattach(){this._view.state|=4}onDestroy(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}destroy(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),Ti.destroyView(this._view)}detachFromAppRef(){this._appRef=null,Mo(this._view),Ti.dirtyParentQueries(this._view)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}}function Ho(e,t){return new qo(e,t)}class qo extends Ln{constructor(e,t){super(),this._parentView=e,this._def=t}createEmbeddedView(e){return new Uo(Ti.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}get elementRef(){return new Zt(Ci(this._parentView,this._def.nodeIndex).renderElement)}}function zo(e,t){return new Wo(e,t)}class Wo{constructor(e,t){this.view=e,this.elDef=t}get(e,t=gt.THROW_IF_NOT_FOUND){const n=!!this.elDef&&0!=(33554432&this.elDef.flags);return Ti.resolveDep(this.view,this.elDef,n,{flags:0,token:e,tokenKey:Mi(e)},t)}}function Go(e,t){const n=e.def.nodes[t];if(1&n.flags){const t=Ci(e,n.nodeIndex);return n.element.template?t.template:t.renderElement}if(2&n.flags)return Ei(e,n.nodeIndex).renderText;if(20240&n.flags)return bi(e,n.nodeIndex).instance;throw new Error(`Illegal state: read nodeValue for node index ${t}`)}function Ko(e){return new Qo(e.renderer)}class Qo{constructor(e){this.delegate=e}selectRootElement(e){return this.delegate.selectRootElement(e)}createElement(e,t){const[n,s]=ao(t),r=this.delegate.createElement(s,n);return e&&this.delegate.appendChild(e,r),r}createViewRoot(e){return e}createTemplateAnchor(e){const t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}createText(e,t){const n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}projectNodes(e,t){for(let n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}attachViewAfter(e,t){const n=this.delegate.parentNode(e),s=this.delegate.nextSibling(e);for(let r=0;r<t.length;r++)this.delegate.insertBefore(n,t[r],s)}detachView(e){for(let t=0;t<e.length;t++){const n=e[t],s=this.delegate.parentNode(n);this.delegate.removeChild(s,n)}}destroyView(e,t){for(let n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}listen(e,t,n){return this.delegate.listen(e,t,n)}listenGlobal(e,t,n){return this.delegate.listen(e,t,n)}setElementProperty(e,t,n){this.delegate.setProperty(e,t,n)}setElementAttribute(e,t,n){const[s,r]=ao(t);null!=n?this.delegate.setAttribute(e,r,n,s):this.delegate.removeAttribute(e,r,s)}setBindingDebugInfo(e,t,n){}setElementClass(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}setElementStyle(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}invokeElementMethod(e,t,n){e[t].apply(e,n)}setText(e,t){this.delegate.setValue(e,t)}animate(){throw new Error("Renderer.animate is no longer supported!")}}function Zo(e,t,n,s){return new Xo(e,t,n,s)}class Xo{constructor(e,t,n,s){this._moduleType=e,this._parent=t,this._bootstrapComponents=n,this._def=s,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){const t=e._def,n=e._providers=new Array(t.providers.length);for(let s=0;s<t.providers.length;s++){const r=t.providers[s];4096&r.flags||void 0===n[s]&&(n[s]=Do(e,r))}}(this)}get(e,t=gt.THROW_IF_NOT_FOUND,n=Ge.Default){let s=0;return n&Ge.SkipSelf?s|=1:n&Ge.Self&&(s|=4),Ao(this,{token:e,tokenKey:Mi(e),flags:s},t)}get instance(){return this.get(this._moduleType)}get componentFactoryResolver(){return this.get(Gt)}destroy(){if(this._destroyed)throw new Error(`The ng module ${je(this.instance.constructor)} has already been destroyed.`);this._destroyed=!0,function(e,t){const n=e._def,s=new Set;for(let r=0;r<n.providers.length;r++)if(131072&n.providers[r].flags){const t=e._providers[r];if(t&&t!==Eo){const e=t.ngOnDestroy;"function"!=typeof e||s.has(t)||(e.apply(t),s.add(t))}}}(this),this._destroyListeners.forEach(e=>e())}onDestroy(e){this._destroyListeners.push(e)}}const Yo=Mi(Yt),Jo=Mi(tn),ea=Mi(Zt),ta=Mi(Vr),na=Mi(Ln),sa=Mi(jr),ra=Mi(gt),ia=Mi(mt);function oa(e,t,n,s,r,i,o,a){const l=[];if(o)for(let u in o){const[e,t]=o[u];l[e]={flags:8,name:u,nonMinifiedName:t,ns:null,securityContext:null,suffix:null}}const c=[];if(a)for(let u in a)c.push({type:1,propName:u,target:null,eventName:a[u]});return ca(e,t|=16384,n,s,r,r,i,l,c)}function aa(e,t,n){return ca(-1,e|=16,null,0,t,t,n)}function la(e,t,n,s,r){return ca(-1,e,t,0,n,s,r)}function ca(e,t,n,s,r,i,o,a,l){const{matchedQueries:c,references:u,matchedQueryIds:h}=Zi(n);l||(l=[]),a||(a=[]),i=ut(i);const d=Xi(o,je(r));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:c,matchedQueryIds:h,references:u,ngContentIndex:-1,childCount:s,bindings:a,bindingFlags:lo(a),outputs:l,element:null,provider:{token:r,value:i,deps:d},text:null,query:null,ngContent:null}}function ua(e,t){return ma(e,t)}function ha(e,t){let n=e;for(;n.parent&&!Gi(n);)n=n.parent;return fa(n.parent,zi(n),!0,t.provider.value,t.provider.deps)}function da(e,t){const n=(32768&t.flags)>0,s=fa(e,t.parent,n,t.provider.value,t.provider.deps);if(t.outputs.length)for(let r=0;r<t.outputs.length;r++){const n=t.outputs[r],i=s[n.propName];if(!qs(i))throw new Error(`@Output ${n.propName} not initialized in '${s.constructor.name}'.`);{const s=i.subscribe(pa(e,t.parent.nodeIndex,n.eventName));e.disposables[t.outputIndex+r]=s.unsubscribe.bind(s)}}return s}function pa(e,t,n){return s=>Hi(e,t,n,s)}function ma(e,t){const n=(8192&t.flags)>0,s=t.provider;switch(201347067&t.flags){case 512:return fa(e,t.parent,n,s.value,s.deps);case 1024:return function(e,t,n,s,r){const i=r.length;switch(i){case 0:return s();case 1:return s(va(e,t,n,r[0]));case 2:return s(va(e,t,n,r[0]),va(e,t,n,r[1]));case 3:return s(va(e,t,n,r[0]),va(e,t,n,r[1]),va(e,t,n,r[2]));default:const o=Array(i);for(let s=0;s<i;s++)o[s]=va(e,t,n,r[s]);return s(...o)}}(e,t.parent,n,s.value,s.deps);case 2048:return va(e,t.parent,n,s.deps[0]);case 256:return s.value}}function fa(e,t,n,s,r){const i=r.length;switch(i){case 0:return new s;case 1:return new s(va(e,t,n,r[0]));case 2:return new s(va(e,t,n,r[0]),va(e,t,n,r[1]));case 3:return new s(va(e,t,n,r[0]),va(e,t,n,r[1]),va(e,t,n,r[2]));default:const o=new Array(i);for(let s=0;s<i;s++)o[s]=va(e,t,n,r[s]);return new s(...o)}}const ga={};function va(e,t,n,s,r=gt.THROW_IF_NOT_FOUND){if(8&s.flags)return s.token;const i=e;2&s.flags&&(r=null);const o=s.tokenKey;o===sa&&(n=!(!t||!t.element.componentView)),t&&1&s.flags&&(n=!1,t=t.parent);let a=e;for(;a;){if(t)switch(o){case Yo:return Ko(ya(a,t,n));case Jo:return ya(a,t,n).renderer;case ea:return new Zt(Ci(a,t.nodeIndex).renderElement);case ta:return Ci(a,t.nodeIndex).viewContainer;case na:if(t.element.template)return Ci(a,t.nodeIndex).template;break;case sa:return jo(ya(a,t,n));case ra:case ia:return zo(a,t);default:const e=(n?t.element.allProviders:t.element.publicProviders)[o];if(e){let t=bi(a,e.nodeIndex);return t||(t={instance:ma(a,e)},a.nodes[e.nodeIndex]=t),t.instance}}n=Gi(a),t=zi(a),a=a.parent,4&s.flags&&(a=null)}const l=i.root.injector.get(s.token,ga);return l!==ga||r===ga?l:i.root.ngModule.injector.get(s.token,r)}function ya(e,t,n){let s;if(n)s=Ci(e,t.nodeIndex).componentView;else for(s=e;s.parent&&!Gi(s);)s=s.parent;return s}function _a(e,t,n,s,r,i){if(32768&n.flags){const t=Ci(e,n.parent.nodeIndex).componentView;2&t.def.flags&&(t.state|=8)}const o=n.bindings[s].name;if(t.instance[o]=r,524288&n.flags){i=i||{};const t=nt.unwrap(e.oldValues[n.bindingIndex+s]);i[n.bindings[s].nonMinifiedName]=new st(t,r,0!=(2&e.state))}return e.oldValues[n.bindingIndex+s]=r,i}function wa(e,t){if(!(e.def.nodeFlags&t))return;const n=e.def.nodes;let s=0;for(let r=0;r<n.length;r++){const i=n[r];let o=i.parent;for(!o&&i.flags&t&&Ca(e,r,i.flags&t,s++),0==(i.childFlags&t)&&(r+=i.childCount);o&&1&o.flags&&r===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(s=Ea(e,o,t,s)),o=o.parent}}function Ea(e,t,n,s){for(let r=t.nodeIndex+1;r<=t.nodeIndex+t.childCount;r++){const t=e.def.nodes[r];t.flags&n&&Ca(e,r,t.flags&n,s++),r+=t.childCount}return s}function Ca(e,t,n,s){const r=bi(e,t);if(!r)return;const i=r.instance;i&&(Ti.setCurrentNode(e,t),1048576&n&&wi(e,512,s)&&i.ngAfterContentInit(),2097152&n&&i.ngAfterContentChecked(),4194304&n&&wi(e,768,s)&&i.ngAfterViewInit(),8388608&n&&i.ngAfterViewChecked(),131072&n&&i.ngOnDestroy())}function ba(e,t,n){let s=[];for(let r in n){const e=n[r];s.push({propName:r,bindingType:e})}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:Qi(t),bindings:s},ngContent:null}}function Sa(e){const t=e.def.nodeMatchedQueries;for(;e.parent&&Ki(e);){let n=e.parentNodeDef;e=e.parent;const s=n.nodeIndex+n.childCount;for(let r=0;r<=s;r++){const s=e.def.nodes[r];67108864&s.flags&&536870912&s.flags&&(s.query.filterId&t)===s.query.filterId&&xi(e,r).setDirty(),!(1&s.flags&&r+s.childCount<n.nodeIndex)&&67108864&s.childFlags&&536870912&s.childFlags||(r+=s.childCount)}}if(134217728&e.def.nodeFlags)for(let n=0;n<e.def.nodes.length;n++){const t=e.def.nodes[n];134217728&t.flags&&536870912&t.flags&&xi(e,n).setDirty(),n+=t.childCount}}function xa(e,t){const n=xi(e,t.nodeIndex);if(!n.dirty)return;let s,r=void 0;if(67108864&t.flags){const n=t.parent.parent;r=Ta(e,n.nodeIndex,n.nodeIndex+n.childCount,t.query,[]),s=bi(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(r=Ta(e,0,e.def.nodes.length-1,t.query,[]),s=e.component);n.reset(r);const i=t.query.bindings;let o=!1;for(let a=0;a<i.length;a++){const e=i[a];let t;switch(e.bindingType){case 0:t=n.first;break;case 1:t=n,o=!0}s[e.propName]=t}o&&n.notifyOnChanges()}function Ta(e,t,n,s,r){for(let i=t;i<=n;i++){const t=e.def.nodes[i],n=t.matchedQueries[s.id];if(null!=n&&r.push(Aa(e,t,n)),1&t.flags&&t.element.template&&(t.element.template.nodeMatchedQueries&s.filterId)===s.filterId){const n=Ci(e,i);if((t.childMatchedQueries&s.filterId)===s.filterId&&(Ta(e,i+1,i+t.childCount,s,r),i+=t.childCount),16777216&t.flags){const e=n.viewContainer._embeddedViews;for(let t=0;t<e.length;t++){const i=e[t],o=qi(i);o&&o===n&&Ta(i,0,i.def.nodes.length-1,s,r)}}const o=n.template._projectedViews;if(o)for(let e=0;e<o.length;e++){const t=o[e];Ta(t,0,t.def.nodes.length-1,s,r)}}(t.childMatchedQueries&s.filterId)!==s.filterId&&(i+=t.childCount)}return r}function Aa(e,t,n){if(null!=n)switch(n){case 1:return Ci(e,t.nodeIndex).renderElement;case 0:return new Zt(Ci(e,t.nodeIndex).renderElement);case 2:return Ci(e,t.nodeIndex).template;case 3:return Ci(e,t.nodeIndex).viewContainer;case 4:return bi(e,t.nodeIndex).instance}}function Da(e,t){return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:e,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:t}}}function Pa(e,t,n){const s=Yi(e,t,n);s&&so(e,n.ngContent.index,1,s,null,void 0)}function ka(e,t){return Ia(128,e,new Array(t+1))}function Na(e,t){return Ia(32,e,new Array(t))}function Ma(e,t){const n=Object.keys(t),s=n.length,r=new Array(s);for(let i=0;i<s;i++){const e=n[i];r[t[e]]=e}return Ia(64,e,r)}function Ia(e,t,n){const s=new Array(n.length);for(let r=0;r<n.length;r++){const e=n[r];s[r]={flags:8,name:e,ns:null,nonMinifiedName:e,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:s,bindingFlags:lo(s),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function Oa(e,t,n){const s=new Array(n.length-1);for(let r=1;r<n.length;r++)s[r-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[r]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:s,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Fa(e,t,n){let s;const r=e.renderer;s=r.createText(n.text.prefix);const i=Yi(e,t,n);return i&&r.appendChild(i,s),{renderText:s}}function Ra(e,t){return(null!=e?e.toString():"")+t.suffix}function La(e,t,n,s){let r=0,i=0,o=0,a=0,l=0,c=null,u=null,h=!1,d=!1,p=null;for(let m=0;m<t.length;m++){const e=t[m];if(e.nodeIndex=m,e.parent=c,e.bindingIndex=r,e.outputIndex=i,e.renderParent=u,o|=e.flags,l|=e.matchedQueryIds,e.element){const t=e.element;t.publicProviders=c?c.element.publicProviders:Object.create(null),t.allProviders=t.publicProviders,h=!1,d=!1,e.element.template&&(l|=e.element.template.nodeMatchedQueries)}if(Va(c,e,t.length),r+=e.bindings.length,i+=e.outputs.length,!u&&3&e.flags&&(p=e),20224&e.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);const t=0!=(8192&e.flags),n=0!=(32768&e.flags);!t||n?c.element.publicProviders[Mi(e.provider.token)]=e:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[Mi(e.provider.token)]=e),n&&(c.element.componentProvider=e)}if(c?(c.childFlags|=e.flags,c.directChildFlags|=e.flags,c.childMatchedQueries|=e.matchedQueryIds,e.element&&e.element.template&&(c.childMatchedQueries|=e.element.template.nodeMatchedQueries)):a|=e.flags,e.childCount>0)c=e,$a(e)||(u=e);else for(;c&&m===c.nodeIndex+c.childCount;){const e=c.parent;e&&(e.childFlags|=c.childFlags,e.childMatchedQueries|=c.childMatchedQueries),u=(c=e)&&$a(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:a,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||ki,updateRenderer:s||ki,handleEvent:(e,n,s,r)=>t[n].element.handleEvent(e,s,r),bindingCount:r,outputCount:i,lastRenderRootNode:p}}function $a(e){return 0!=(1&e.flags)&&null===e.element.name}function Va(e,t,n){const s=t.element&&t.element.template;if(s){if(!s.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(s.lastRenderRootNode&&16777216&s.lastRenderRootNode.flags)throw new Error(`Illegal State: Last root node of a template can't have embedded views, at index ${t.nodeIndex}!`)}if(20224&t.flags){if(0==(1&(e?e.flags:0)))throw new Error(`Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ${t.nodeIndex}!`)}if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error(`Illegal State: Content Query nodes need to be children of directives, at index ${t.nodeIndex}!`);if(134217728&t.flags&&e)throw new Error(`Illegal State: View Query nodes have to be top level nodes, at index ${t.nodeIndex}!`)}if(t.childCount){const s=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=s&&t.nodeIndex+t.childCount>s)throw new Error(`Illegal State: childCount of node leads outside of parent, at index ${t.nodeIndex}!`)}}function Ba(e,t,n,s){const r=Ha(e.root,e.renderer,e,t,n);return qa(r,e.component,s),za(r),r}function ja(e,t,n){const s=Ha(e,e.renderer,null,null,t);return qa(s,n,n),za(s),s}function Ua(e,t,n,s){const r=t.element.componentRendererType;let i;return i=r?e.root.rendererFactory.createRenderer(s,r):e.root.renderer,Ha(e.root,i,e,t.element.componentProvider,n)}function Ha(e,t,n,s,r){const i=new Array(r.nodes.length),o=r.outputCount?new Array(r.outputCount):null;return{def:r,parent:n,viewContainerParent:null,parentNodeDef:s,context:null,component:null,nodes:i,state:13,root:e,renderer:t,oldValues:new Array(r.bindingCount),disposables:o,initIndex:-1}}function qa(e,t,n){e.component=t,e.context=n}function za(e){let t;if(Gi(e)){const n=e.parentNodeDef;t=Ci(e.parent,n.parent.nodeIndex).renderElement}const n=e.def,s=e.nodes;for(let r=0;r<n.nodes.length;r++){const i=n.nodes[r];let o;switch(Ti.setCurrentNode(e,r),201347067&i.flags){case 1:const n=vo(e,t,i);let a=void 0;if(33554432&i.flags){const t=eo(i.element.componentView);a=Ti.createComponentView(e,i,t,n)}yo(e,a,i,n),o={renderElement:n,componentView:a,viewContainer:null,template:i.element.template?Ho(e,i):void 0},16777216&i.flags&&(o.viewContainer=Vo(e,i,o));break;case 2:o=Fa(e,t,i);break;case 512:case 1024:case 2048:case 256:if(!((o=s[r])||4096&i.flags)){o={instance:ua(e,i)}}break;case 16:o={instance:ha(e,i)};break;case 16384:if(!(o=s[r])){o={instance:da(e,i)}}if(32768&i.flags){qa(Ci(e,i.parent.nodeIndex).componentView,o.instance,o.instance)}break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Ir;break;case 8:Pa(e,t,i),o=void 0}s[r]=o}el(e,Ja.CreateViewNodes),rl(e,201326592,268435456,0)}function Wa(e){Qa(e),Ti.updateDirectives(e,1),tl(e,Ja.CheckNoChanges),Ti.updateRenderer(e,1),el(e,Ja.CheckNoChanges),e.state&=-97}function Ga(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,_i(e,0,256),Qa(e),Ti.updateDirectives(e,0),tl(e,Ja.CheckAndUpdate),rl(e,67108864,536870912,0);let t=_i(e,256,512);wa(e,2097152|(t?1048576:0)),Ti.updateRenderer(e,0),el(e,Ja.CheckAndUpdate),rl(e,134217728,536870912,0),wa(e,8388608|((t=_i(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,_i(e,768,1024)}function Ka(e,t,n,s,r,i,o,a,l,c,u,h,d){return 0===n?function(e,t,n,s,r,i,o,a,l,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,s,r,i,o,a,l,c,u,h){const d=t.bindings.length;let p=!1;return d>0&&wo(e,t,0,n)&&(p=!0),d>1&&wo(e,t,1,s)&&(p=!0),d>2&&wo(e,t,2,r)&&(p=!0),d>3&&wo(e,t,3,i)&&(p=!0),d>4&&wo(e,t,4,o)&&(p=!0),d>5&&wo(e,t,5,a)&&(p=!0),d>6&&wo(e,t,6,l)&&(p=!0),d>7&&wo(e,t,7,c)&&(p=!0),d>8&&wo(e,t,8,u)&&(p=!0),d>9&&wo(e,t,9,h)&&(p=!0),p}(e,t,n,s,r,i,o,a,l,c,u,h);case 2:return function(e,t,n,s,r,i,o,a,l,c,u,h){let d=!1;const p=t.bindings,m=p.length;if(m>0&&Vi(e,t,0,n)&&(d=!0),m>1&&Vi(e,t,1,s)&&(d=!0),m>2&&Vi(e,t,2,r)&&(d=!0),m>3&&Vi(e,t,3,i)&&(d=!0),m>4&&Vi(e,t,4,o)&&(d=!0),m>5&&Vi(e,t,5,a)&&(d=!0),m>6&&Vi(e,t,6,l)&&(d=!0),m>7&&Vi(e,t,7,c)&&(d=!0),m>8&&Vi(e,t,8,u)&&(d=!0),m>9&&Vi(e,t,9,h)&&(d=!0),d){let d=t.text.prefix;m>0&&(d+=Ra(n,p[0])),m>1&&(d+=Ra(s,p[1])),m>2&&(d+=Ra(r,p[2])),m>3&&(d+=Ra(i,p[3])),m>4&&(d+=Ra(o,p[4])),m>5&&(d+=Ra(a,p[5])),m>6&&(d+=Ra(l,p[6])),m>7&&(d+=Ra(c,p[7])),m>8&&(d+=Ra(u,p[8])),m>9&&(d+=Ra(h,p[9]));const f=Ei(e,t.nodeIndex).renderText;e.renderer.setValue(f,d)}return d}(e,t,n,s,r,i,o,a,l,c,u,h);case 16384:return function(e,t,n,s,r,i,o,a,l,c,u,h){const d=bi(e,t.nodeIndex),p=d.instance;let m=!1,f=void 0;const g=t.bindings.length;return g>0&&$i(e,t,0,n)&&(m=!0,f=_a(e,d,t,0,n,f)),g>1&&$i(e,t,1,s)&&(m=!0,f=_a(e,d,t,1,s,f)),g>2&&$i(e,t,2,r)&&(m=!0,f=_a(e,d,t,2,r,f)),g>3&&$i(e,t,3,i)&&(m=!0,f=_a(e,d,t,3,i,f)),g>4&&$i(e,t,4,o)&&(m=!0,f=_a(e,d,t,4,o,f)),g>5&&$i(e,t,5,a)&&(m=!0,f=_a(e,d,t,5,a,f)),g>6&&$i(e,t,6,l)&&(m=!0,f=_a(e,d,t,6,l,f)),g>7&&$i(e,t,7,c)&&(m=!0,f=_a(e,d,t,7,c,f)),g>8&&$i(e,t,8,u)&&(m=!0,f=_a(e,d,t,8,u,f)),g>9&&$i(e,t,9,h)&&(m=!0,f=_a(e,d,t,9,h,f)),f&&p.ngOnChanges(f),65536&t.flags&&wi(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),m}(e,t,n,s,r,i,o,a,l,c,u,h);case 32:case 64:case 128:return function(e,t,n,s,r,i,o,a,l,c,u,h){const d=t.bindings;let p=!1;const m=d.length;if(m>0&&Vi(e,t,0,n)&&(p=!0),m>1&&Vi(e,t,1,s)&&(p=!0),m>2&&Vi(e,t,2,r)&&(p=!0),m>3&&Vi(e,t,3,i)&&(p=!0),m>4&&Vi(e,t,4,o)&&(p=!0),m>5&&Vi(e,t,5,a)&&(p=!0),m>6&&Vi(e,t,6,l)&&(p=!0),m>7&&Vi(e,t,7,c)&&(p=!0),m>8&&Vi(e,t,8,u)&&(p=!0),m>9&&Vi(e,t,9,h)&&(p=!0),p){const p=Si(e,t.nodeIndex);let f;switch(201347067&t.flags){case 32:f=new Array(d.length),m>0&&(f[0]=n),m>1&&(f[1]=s),m>2&&(f[2]=r),m>3&&(f[3]=i),m>4&&(f[4]=o),m>5&&(f[5]=a),m>6&&(f[6]=l),m>7&&(f[7]=c),m>8&&(f[8]=u),m>9&&(f[9]=h);break;case 64:f={},m>0&&(f[d[0].name]=n),m>1&&(f[d[1].name]=s),m>2&&(f[d[2].name]=r),m>3&&(f[d[3].name]=i),m>4&&(f[d[4].name]=o),m>5&&(f[d[5].name]=a),m>6&&(f[d[6].name]=l),m>7&&(f[d[7].name]=c),m>8&&(f[d[8].name]=u),m>9&&(f[d[9].name]=h);break;case 128:const e=n;switch(m){case 1:f=e.transform(n);break;case 2:f=e.transform(s);break;case 3:f=e.transform(s,r);break;case 4:f=e.transform(s,r,i);break;case 5:f=e.transform(s,r,i,o);break;case 6:f=e.transform(s,r,i,o,a);break;case 7:f=e.transform(s,r,i,o,a,l);break;case 8:f=e.transform(s,r,i,o,a,l,c);break;case 9:f=e.transform(s,r,i,o,a,l,c,u);break;case 10:f=e.transform(s,r,i,o,a,l,c,u,h)}}p.value=f}return p}(e,t,n,s,r,i,o,a,l,c,u,h);default:throw"unreachable"}}(e,t,s,r,i,o,a,l,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){let s=!1;for(let r=0;r<n.length;r++)wo(e,t,r,n[r])&&(s=!0);return s}(e,t,n);case 2:return function(e,t,n){const s=t.bindings;let r=!1;for(let i=0;i<n.length;i++)Vi(e,t,i,n[i])&&(r=!0);if(r){let r="";for(let e=0;e<n.length;e++)r+=Ra(n[e],s[e]);r=t.text.prefix+r;const i=Ei(e,t.nodeIndex).renderText;e.renderer.setValue(i,r)}return r}(e,t,n);case 16384:return function(e,t,n){const s=bi(e,t.nodeIndex),r=s.instance;let i=!1,o=void 0;for(let a=0;a<n.length;a++)$i(e,t,a,n[a])&&(i=!0,o=_a(e,s,t,a,n[a],o));return o&&r.ngOnChanges(o),65536&t.flags&&wi(e,256,t.nodeIndex)&&r.ngOnInit(),262144&t.flags&&r.ngDoCheck(),i}(e,t,n);case 32:case 64:case 128:return function(e,t,n){const s=t.bindings;let r=!1;for(let i=0;i<n.length;i++)Vi(e,t,i,n[i])&&(r=!0);if(r){const r=Si(e,t.nodeIndex);let i;switch(201347067&t.flags){case 32:i=n;break;case 64:i={};for(let t=0;t<n.length;t++)i[s[t].name]=n[t];break;case 128:const e=n[0],r=n.slice(1);i=e.transform(...r)}r.value=i}return r}(e,t,n);default:throw"unreachable"}}(e,t,s)}function Qa(e){const t=e.def;if(4&t.nodeFlags)for(let n=0;n<t.nodes.length;n++){const s=t.nodes[n];if(4&s.flags){const t=Ci(e,n).template._projectedViews;if(t)for(let n=0;n<t.length;n++){const s=t[n];s.state|=32,Ui(s,e)}}else 0==(4&s.childFlags)&&(n+=s.childCount)}}function Za(e,t,n,s,r,i,o,a,l,c,u,h,d){return 0===n?function(e,t,n,s,r,i,o,a,l,c,u,h){const d=t.bindings.length;d>0&&Bi(e,t,0,n);d>1&&Bi(e,t,1,s);d>2&&Bi(e,t,2,r);d>3&&Bi(e,t,3,i);d>4&&Bi(e,t,4,o);d>5&&Bi(e,t,5,a);d>6&&Bi(e,t,6,l);d>7&&Bi(e,t,7,c);d>8&&Bi(e,t,8,u);d>9&&Bi(e,t,9,h)}(e,t,s,r,i,o,a,l,c,u,h,d):function(e,t,n){for(let s=0;s<n.length;s++)Bi(e,t,s,n[s])}(e,t,s),!1}function Xa(e,t){if(xi(e,t.nodeIndex).dirty)throw Ai(Ti.createDebugContext(e,t.nodeIndex),`Query ${t.query.id} not dirty`,`Query ${t.query.id} dirty`,0!=(1&e.state))}function Ya(e){if(!(128&e.state)){if(tl(e,Ja.Destroy),el(e,Ja.Destroy),wa(e,131072),e.disposables)for(let t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(!(16&e.state))return;const t=qi(e);if(t){const n=t.template._projectedViews;n&&(Oo(n,n.indexOf(e)),Ti.dirtyParentQueries(e))}}(e),e.renderer.destroyNode&&function(e){const t=e.def.nodes.length;for(let n=0;n<t;n++){const t=e.def.nodes[n];1&t.flags?e.renderer.destroyNode(Ci(e,n).renderElement):2&t.flags?e.renderer.destroyNode(Ei(e,n).renderText):(67108864&t.flags||134217728&t.flags)&&xi(e,n).destroy()}}(e),Gi(e)&&e.renderer.destroy(),e.state|=128}}var Ja={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};function el(e,t){const n=e.def;if(33554432&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];33554432&r.flags?nl(Ci(e,s).componentView,t):0==(33554432&r.childFlags)&&(s+=r.childCount)}}function tl(e,t){const n=e.def;if(16777216&n.nodeFlags)for(let s=0;s<n.nodes.length;s++){const r=n.nodes[s];if(16777216&r.flags){const n=Ci(e,s).viewContainer._embeddedViews;for(let e=0;e<n.length;e++)nl(n[e],t)}else 0==(16777216&r.childFlags)&&(s+=r.childCount)}}function nl(e,t){const n=e.state;switch(t){case Ja.CheckNoChanges:0==(128&n)&&(12==(12&n)?Wa(e):64&n&&sl(e,Ja.CheckNoChangesProjectedViews));break;case Ja.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Wa(e):64&n&&sl(e,t));break;case Ja.CheckAndUpdate:0==(128&n)&&(12==(12&n)?Ga(e):64&n&&sl(e,Ja.CheckAndUpdateProjectedViews));break;case Ja.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?Ga(e):64&n&&sl(e,t));break;case Ja.Destroy:Ya(e);break;case Ja.CreateViewNodes:za(e)}}function sl(e,t){tl(e,t),el(e,t)}function rl(e,t,n,s){if(!(e.def.nodeFlags&t&&e.def.nodeFlags&n))return;const r=e.def.nodes.length;for(let i=0;i<r;i++){const r=e.def.nodes[i];if(r.flags&t&&r.flags&n)switch(Ti.setCurrentNode(e,r.nodeIndex),s){case 0:xa(e,r);break;case 1:Xa(e,r)}r.childFlags&t&&r.childFlags&n||(i+=r.childCount)}}Ja[Ja.CreateViewNodes]="CreateViewNodes",Ja[Ja.CheckNoChanges]="CheckNoChanges",Ja[Ja.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",Ja[Ja.CheckAndUpdate]="CheckAndUpdate",Ja[Ja.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",Ja[Ja.Destroy]="Destroy";let il=!1;function ol(){if(il)return;il=!0;const e=cn()?{setCurrentNode:Pl,createRootView:ll,createEmbeddedView:ul,createComponentView:hl,createNgModuleRef:dl,overrideProvider:gl,overrideComponentView:vl,clearOverrides:yl,checkAndUpdateView:Cl,checkNoChangesView:bl,destroyView:Sl,createDebugContext:(e,t)=>new Bl(e,t),handleEvent:kl,updateDirectives:Nl,updateRenderer:Ml}:{setCurrentNode:()=>{},createRootView:al,createEmbeddedView:Ba,createComponentView:Ua,createNgModuleRef:Zo,overrideProvider:ki,overrideComponentView:ki,clearOverrides:ki,checkAndUpdateView:Ga,checkNoChangesView:Wa,destroyView:Ya,createDebugContext:(e,t)=>new Bl(e,t),handleEvent:(e,t,n,s)=>e.def.handleEvent(e,t,n,s),updateDirectives:(e,t)=>e.def.updateDirectives(0===t?wl:El,e),updateRenderer:(e,t)=>e.def.updateRenderer(0===t?wl:El,e)};Ti.setCurrentNode=e.setCurrentNode,Ti.createRootView=e.createRootView,Ti.createEmbeddedView=e.createEmbeddedView,Ti.createComponentView=e.createComponentView,Ti.createNgModuleRef=e.createNgModuleRef,Ti.overrideProvider=e.overrideProvider,Ti.overrideComponentView=e.overrideComponentView,Ti.clearOverrides=e.clearOverrides,Ti.checkAndUpdateView=e.checkAndUpdateView,Ti.checkNoChangesView=e.checkNoChangesView,Ti.destroyView=e.destroyView,Ti.resolveDep=va,Ti.createDebugContext=e.createDebugContext,Ti.handleEvent=e.handleEvent,Ti.updateDirectives=e.updateDirectives,Ti.updateRenderer=e.updateRenderer,Ti.dirtyParentQueries=Sa}function al(e,t,n,s,r,i){const o=r.injector.get(Jt);return ja(cl(e,r,o,t,n),s,i)}function ll(e,t,n,s,r,i){const o=r.injector.get(Jt),a=cl(e,r,new ql(o),t,n),l=_l(s);return Ul(xl.create,ja,null,[a,l,i])}function cl(e,t,n,s,r){const i=t.injector.get(Bn),o=t.injector.get(Cs),a=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:s,selectorOrNode:r,sanitizer:i,rendererFactory:n,renderer:a,errorHandler:o}}function ul(e,t,n,s){const r=_l(n);return Ul(xl.create,Ba,null,[e,t,r,s])}function hl(e,t,n,s){const r=fl.get(t.element.componentProvider.provider.token);return n=r||_l(n),Ul(xl.create,Ua,null,[e,t,n,s])}function dl(e,t,n,s){return Zo(e,t,n,function(e){const{hasOverrides:t,hasDeprecatedOverrides:n}=function(e){let t=!1,n=!1;if(0===pl.size)return{hasOverrides:t,hasDeprecatedOverrides:n};return e.providers.forEach(e=>{const s=pl.get(e.token);3840&e.flags&&s&&(t=!0,n=n||s.deprecatedBehavior)}),e.modules.forEach(e=>{ml.forEach((s,r)=>{ve(r).providedIn===e&&(t=!0,n=n||s.deprecatedBehavior)})}),{hasOverrides:t,hasDeprecatedOverrides:n}}(e);if(!t)return e;return function(e){for(let t=0;t<e.providers.length;t++){const s=e.providers[t];n&&(s.flags|=4096);const r=pl.get(s.token);r&&(s.flags=-3841&s.flags|r.flags,s.deps=Xi(r.deps),s.value=r.value)}if(ml.size>0){let t=new Set(e.modules);ml.forEach((s,r)=>{if(t.has(ve(r).providedIn)){let t={token:r,flags:s.flags|(n?4096:0),deps:Xi(s.deps),value:s.value,index:e.providers.length};e.providers.push(t),e.providersByKey[Mi(r)]=t}})}}(e=e.factory(()=>ki)),e}(s))}const pl=new Map,ml=new Map,fl=new Map;function gl(e){let t;pl.set(e.token,e),"function"==typeof e.token&&(t=ve(e.token))&&"function"==typeof t.providedIn&&ml.set(e.token,e)}function vl(e,t){const n=eo(t.viewDefFactory);const s=eo(n.nodes[0].element.componentView);fl.set(e,s)}function yl(){pl.clear(),ml.clear(),fl.clear()}function _l(e){if(0===pl.size)return e;const t=function(e){const t=[];let n=null;for(let s=0;s<e.nodes.length;s++){const r=e.nodes[s];1&r.flags&&(n=r),n&&3840&r.flags&&pl.has(r.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory(()=>ki);for(let s=0;s<t.length;s++)n(e,t[s]);return e;function n(e,t){for(let n=t+1;n<e.nodes.length;n++){const t=e.nodes[n];if(1&t.flags)return;if(3840&t.flags){const e=t.provider,n=pl.get(e.token);n&&(t.flags=-3841&t.flags|n.flags,e.deps=Xi(n.deps),e.value=n.value)}}}}function wl(e,t,n,s,r,i,o,a,l,c,u,h,d){const p=e.def.nodes[t];return Ka(e,p,n,s,r,i,o,a,l,c,u,h,d),224&p.flags?Si(e,t).value:void 0}function El(e,t,n,s,r,i,o,a,l,c,u,h,d){const p=e.def.nodes[t];return Za(e,p,n,s,r,i,o,a,l,c,u,h,d),224&p.flags?Si(e,t).value:void 0}function Cl(e){return Ul(xl.detectChanges,Ga,null,[e])}function bl(e){return Ul(xl.checkNoChanges,Wa,null,[e])}function Sl(e){return Ul(xl.destroy,Ya,null,[e])}var xl={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};let Tl,Al,Dl;function Pl(e,t){Al=e,Dl=t}function kl(e,t,n,s){return Pl(e,t),Ul(xl.handleEvent,e.def.handleEvent,null,[e,t,n,s])}function Nl(e,t){if(128&e.state)throw Pi(xl[Tl]);return Pl(e,$l(e,0)),e.def.updateDirectives(function(e,n,s,...r){const i=e.def.nodes[n];0===t?Il(e,i,s,r):Ol(e,i,s,r);16384&i.flags&&Pl(e,$l(e,n));return 224&i.flags?Si(e,i.nodeIndex).value:void 0},e)}function Ml(e,t){if(128&e.state)throw Pi(xl[Tl]);return Pl(e,Vl(e,0)),e.def.updateRenderer(function(e,n,s,...r){const i=e.def.nodes[n];0===t?Il(e,i,s,r):Ol(e,i,s,r);3&i.flags&&Pl(e,Vl(e,n));return 224&i.flags?Si(e,i.nodeIndex).value:void 0},e)}function Il(e,t,n,s){if(Ka(e,t,n,...s)){const r=1===n?s[0]:s;if(16384&t.flags){const n={};for(let e=0;e<t.bindings.length;e++){const s=t.bindings[e],i=r[e];8&s.flags&&(n[Fl(s.nonMinifiedName)]=Ll(i))}const s=t.parent,i=Ci(e,s.nodeIndex).renderElement;if(s.element.name)for(let t in n){const s=n[t];null!=s?e.renderer.setAttribute(i,t,s):e.renderer.removeAttribute(i,t)}else e.renderer.setValue(i,`bindings=${JSON.stringify(n,null,2)}`)}}}function Ol(e,t,n,s){Za(e,t,n,...s)}function Fl(e){var t;return t=e.replace(/[$@]/g,"_"),`ng-reflect-${e=t.replace(Rl,(...e)=>"-"+e[1].toLowerCase())}`}xl[xl.create]="create",xl[xl.detectChanges]="detectChanges",xl[xl.checkNoChanges]="checkNoChanges",xl[xl.destroy]="destroy",xl[xl.handleEvent]="handleEvent";const Rl=/([A-Z])/g;function Ll(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}function $l(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(16384&t.flags&&t.bindings&&t.bindings.length)return n}return null}function Vl(e,t){for(let n=t;n<e.def.nodes.length;n++){const t=e.def.nodes[n];if(3&t.flags&&t.bindings&&t.bindings.length)return n}return null}class Bl{constructor(e,t){this.view=e,this.nodeIndex=t,null==t&&(this.nodeIndex=t=0),this.nodeDef=e.def.nodes[t];let n=this.nodeDef,s=e;for(;n&&0==(1&n.flags);)n=n.parent;if(!n)for(;!n&&s;)n=zi(s),s=s.parent;this.elDef=n,this.elView=s}get elOrCompView(){return Ci(this.elView,this.elDef.nodeIndex).componentView||this.view}get injector(){return zo(this.elView,this.elDef)}get component(){return this.elOrCompView.component}get context(){return this.elOrCompView.context}get providerTokens(){const e=[];if(this.elDef)for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}get references(){const e={};if(this.elDef){jl(this.elView,this.elDef,e);for(let t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){const n=this.elView.def.nodes[t];20224&n.flags&&jl(this.elView,n,e),t+=n.childCount}}return e}get componentRenderElement(){const e=function(e){for(;e&&!Gi(e);)e=e.parent;if(e.parent)return Ci(e.parent,zi(e).nodeIndex);return null}(this.elOrCompView);return e?e.renderElement:void 0}get renderNode(){return 2&this.nodeDef.flags?Wi(this.view,this.nodeDef):Wi(this.elView,this.elDef)}logError(e,...t){let n,s;2&this.nodeDef.flags?(n=this.view.def,s=this.nodeDef.nodeIndex):(n=this.elView.def,s=this.elDef.nodeIndex);const r=function(e,t){let n=-1;for(let s=0;s<=t;s++){const t=e.nodes[s];3&t.flags&&n++}return n}(n,s);let i=-1;n.factory(()=>++i===r?e.error.bind(e,...t):ki),i<r&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error(...t))}}function jl(e,t,n){for(let s in t.references)n[s]=Aa(e,t,t.references[s])}function Ul(e,t,n,s){const r=Tl,i=Al,o=Dl;try{Tl=e;const l=t.apply(n,s);return Al=i,Dl=o,Tl=r,l}catch(a){if(_s(a)||!Al)throw a;throw function(e,t){return e instanceof Error||(e=new Error(e.toString())),Di(e,t),e}(a,Hl())}}function Hl(){return Al?new Bl(Al,Dl):null}class ql{constructor(e){this.delegate=e}createRenderer(e,t){return new zl(this.delegate.createRenderer(e,t))}begin(){this.delegate.begin&&this.delegate.begin()}end(){this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}class zl{constructor(e){this.delegate=e,this.debugContextFactory=Hl,this.data=this.delegate.data}createDebugContext(e){return this.debugContextFactory(e)}destroyNode(e){!function(e){Wr.delete(e.nativeNode)}(Gr(e)),this.delegate.destroyNode&&this.delegate.destroyNode(e)}destroy(){this.delegate.destroy()}createElement(e,t){const n=this.delegate.createElement(e,t),s=this.createDebugContext(n);if(s){const t=new zr(n,null,s);t.name=e,Kr(t)}return n}createComment(e){const t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&Kr(new qr(t,null,n)),t}createText(e){const t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&Kr(new qr(t,null,n)),t}appendChild(e,t){const n=Gr(e),s=Gr(t);n&&s&&n instanceof zr&&n.addChild(s),this.delegate.appendChild(e,t)}insertBefore(e,t,n){const s=Gr(e),r=Gr(t),i=Gr(n);s&&r&&s instanceof zr&&s.insertBefore(i,r),this.delegate.insertBefore(e,t,n)}removeChild(e,t){const n=Gr(e),s=Gr(t);n&&s&&n instanceof zr&&n.removeChild(s),this.delegate.removeChild(e,t)}selectRootElement(e,t){const n=this.delegate.selectRootElement(e,t),s=Hl()||(yi?this.createDebugContext(n):null);return s&&Kr(new zr(n,null,s)),n}setAttribute(e,t,n,s){const r=Gr(e);if(r&&r instanceof zr){const e=s?s+":"+t:t;r.attributes[e]=n}this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){const s=Gr(e);if(s&&s instanceof zr){const e=n?n+":"+t:t;s.attributes[e]=null}this.delegate.removeAttribute(e,t,n)}addClass(e,t){const n=Gr(e);n&&n instanceof zr&&(n.classes[t]=!0),this.delegate.addClass(e,t)}removeClass(e,t){const n=Gr(e);n&&n instanceof zr&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}setStyle(e,t,n,s){const r=Gr(e);r&&r instanceof zr&&(r.styles[t]=n),this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){const s=Gr(e);s&&s instanceof zr&&(s.styles[t]=null),this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){const s=Gr(e);s&&s instanceof zr&&(s.properties[t]=n),this.delegate.setProperty(e,t,n)}listen(e,t,n){if("string"!=typeof e){const s=Gr(e);s&&s.listeners.push(new Hr(t,n))}return this.delegate.listen(e,t,n)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setValue(e,t){return this.delegate.setValue(e,t)}}function Wl(e,t,n){return new Gl(e,t,n)}class Gl extends Ot{constructor(e,t,n){super(),this.moduleType=e,this._bootstrapComponents=t,this._ngModuleDefFactory=n}create(e){ol();const t=function(e){const t=Array.from(e.providers),n=Array.from(e.modules),s={};for(const r in e.providersByKey)s[r]=e.providersByKey[r];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:s}}(eo(this._ngModuleDefFactory));return Ti.createNgModuleRef(this.moduleType,e||gt.NULL,this._bootstrapComponents,t)}}var Kl;function Ql(e){if(":"!=e[0])return[null,e];const t=e.indexOf(":",1);if(-1==t)throw new Error(`Unsupported format "${e}" expecting ":namespace:name"`);return[e.slice(1,t),e.slice(t+1)]}function Zl(e){return"ng-container"===Ql(e)[1]}function Xl(e){return"ng-content"===Ql(e)[1]}function Yl(e){return"ng-template"===Ql(e)[1]}function Jl(e){return null===e?null:Ql(e)[0]}function ec(e,t){return e?`:${e}:${t}`:t}!function(e){e[e.RAW_TEXT=0]="RAW_TEXT",e[e.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",e[e.PARSABLE_DATA=2]="PARSABLE_DATA"}(Kl||(Kl={}));const tc={Aacute:"\xc1",aacute:"\xe1",Acirc:"\xc2",acirc:"\xe2",acute:"\xb4",AElig:"\xc6",aelig:"\xe6",Agrave:"\xc0",agrave:"\xe0",alefsym:"\u2135",Alpha:"\u0391",alpha:"\u03b1",amp:"&",and:"\u2227",ang:"\u2220",apos:"'",Aring:"\xc5",aring:"\xe5",asymp:"\u2248",Atilde:"\xc3",atilde:"\xe3",Auml:"\xc4",auml:"\xe4",bdquo:"\u201e",Beta:"\u0392",beta:"\u03b2",brvbar:"\xa6",bull:"\u2022",cap:"\u2229",Ccedil:"\xc7",ccedil:"\xe7",cedil:"\xb8",cent:"\xa2",Chi:"\u03a7",chi:"\u03c7",circ:"\u02c6",clubs:"\u2663",cong:"\u2245",copy:"\xa9",crarr:"\u21b5",cup:"\u222a",curren:"\xa4",dagger:"\u2020",Dagger:"\u2021",darr:"\u2193",dArr:"\u21d3",deg:"\xb0",Delta:"\u0394",delta:"\u03b4",diams:"\u2666",divide:"\xf7",Eacute:"\xc9",eacute:"\xe9",Ecirc:"\xca",ecirc:"\xea",Egrave:"\xc8",egrave:"\xe8",empty:"\u2205",emsp:"\u2003",ensp:"\u2002",Epsilon:"\u0395",epsilon:"\u03b5",equiv:"\u2261",Eta:"\u0397",eta:"\u03b7",ETH:"\xd0",eth:"\xf0",Euml:"\xcb",euml:"\xeb",euro:"\u20ac",exist:"\u2203",fnof:"\u0192",forall:"\u2200",frac12:"\xbd",frac14:"\xbc",frac34:"\xbe",frasl:"\u2044",Gamma:"\u0393",gamma:"\u03b3",ge:"\u2265",gt:">",harr:"\u2194",hArr:"\u21d4",hearts:"\u2665",hellip:"\u2026",Iacute:"\xcd",iacute:"\xed",Icirc:"\xce",icirc:"\xee",iexcl:"\xa1",Igrave:"\xcc",igrave:"\xec",image:"\u2111",infin:"\u221e",int:"\u222b",Iota:"\u0399",iota:"\u03b9",iquest:"\xbf",isin:"\u2208",Iuml:"\xcf",iuml:"\xef",Kappa:"\u039a",kappa:"\u03ba",Lambda:"\u039b",lambda:"\u03bb",lang:"\u27e8",laquo:"\xab",larr:"\u2190",lArr:"\u21d0",lceil:"\u2308",ldquo:"\u201c",le:"\u2264",lfloor:"\u230a",lowast:"\u2217",loz:"\u25ca",lrm:"\u200e",lsaquo:"\u2039",lsquo:"\u2018",lt:"<",macr:"\xaf",mdash:"\u2014",micro:"\xb5",middot:"\xb7",minus:"\u2212",Mu:"\u039c",mu:"\u03bc",nabla:"\u2207",nbsp:"\xa0",ndash:"\u2013",ne:"\u2260",ni:"\u220b",not:"\xac",notin:"\u2209",nsub:"\u2284",Ntilde:"\xd1",ntilde:"\xf1",Nu:"\u039d",nu:"\u03bd",Oacute:"\xd3",oacute:"\xf3",Ocirc:"\xd4",ocirc:"\xf4",OElig:"\u0152",oelig:"\u0153",Ograve:"\xd2",ograve:"\xf2",oline:"\u203e",Omega:"\u03a9",omega:"\u03c9",Omicron:"\u039f",omicron:"\u03bf",oplus:"\u2295",or:"\u2228",ordf:"\xaa",ordm:"\xba",Oslash:"\xd8",oslash:"\xf8",Otilde:"\xd5",otilde:"\xf5",otimes:"\u2297",Ouml:"\xd6",ouml:"\xf6",para:"\xb6",permil:"\u2030",perp:"\u22a5",Phi:"\u03a6",phi:"\u03c6",Pi:"\u03a0",pi:"\u03c0",piv:"\u03d6",plusmn:"\xb1",pound:"\xa3",prime:"\u2032",Prime:"\u2033",prod:"\u220f",prop:"\u221d",Psi:"\u03a8",psi:"\u03c8",quot:'"',radic:"\u221a",rang:"\u27e9",raquo:"\xbb",rarr:"\u2192",rArr:"\u21d2",rceil:"\u2309",rdquo:"\u201d",real:"\u211c",reg:"\xae",rfloor:"\u230b",Rho:"\u03a1",rho:"\u03c1",rlm:"\u200f",rsaquo:"\u203a",rsquo:"\u2019",sbquo:"\u201a",Scaron:"\u0160",scaron:"\u0161",sdot:"\u22c5",sect:"\xa7",shy:"\xad",Sigma:"\u03a3",sigma:"\u03c3",sigmaf:"\u03c2",sim:"\u223c",spades:"\u2660",sub:"\u2282",sube:"\u2286",sum:"\u2211",sup:"\u2283",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supe:"\u2287",szlig:"\xdf",Tau:"\u03a4",tau:"\u03c4",there4:"\u2234",Theta:"\u0398",theta:"\u03b8",thetasym:"\u03d1",thinsp:"\u2009",THORN:"\xde",thorn:"\xfe",tilde:"\u02dc",times:"\xd7",trade:"\u2122",Uacute:"\xda",uacute:"\xfa",uarr:"\u2191",uArr:"\u21d1",Ucirc:"\xdb",ucirc:"\xfb",Ugrave:"\xd9",ugrave:"\xf9",uml:"\xa8",upsih:"\u03d2",Upsilon:"\u03a5",upsilon:"\u03c5",Uuml:"\xdc",uuml:"\xfc",weierp:"\u2118",Xi:"\u039e",xi:"\u03be",Yacute:"\xdd",yacute:"\xfd",yen:"\xa5",yuml:"\xff",Yuml:"\u0178",Zeta:"\u0396",zeta:"\u03b6",zwj:"\u200d",zwnj:"\u200c"},nc="\ue500";tc.ngsp=nc;class sc{constructor({closedByChildren:e,requiredParents:t,implicitNamespacePrefix:n,contentType:s=Kl.PARSABLE_DATA,closedByParent:r=!1,isVoid:i=!1,ignoreFirstLf:o=!1}={}){this.closedByChildren={},this.closedByParent=!1,this.canSelfClose=!1,e&&e.length>0&&e.forEach(e=>this.closedByChildren[e]=!0),this.isVoid=i,this.closedByParent=r||i,t&&t.length>0&&(this.requiredParents={},this.parentToAdd=t[0],t.forEach(e=>this.requiredParents[e]=!0)),this.implicitNamespacePrefix=n||null,this.contentType=s,this.ignoreFirstLf=o}requireExtraParent(e){if(!this.requiredParents)return!1;if(!e)return!0;const t=e.toLowerCase();return!("template"===t||"ng-template"===e)&&1!=this.requiredParents[t]}isClosedByChild(e){return this.isVoid||e.toLowerCase()in this.closedByChildren}}let rc,ic;function oc(e){return ic||(rc=new sc,ic={base:new sc({isVoid:!0}),meta:new sc({isVoid:!0}),area:new sc({isVoid:!0}),embed:new sc({isVoid:!0}),link:new sc({isVoid:!0}),img:new sc({isVoid:!0}),input:new sc({isVoid:!0}),param:new sc({isVoid:!0}),hr:new sc({isVoid:!0}),br:new sc({isVoid:!0}),source:new sc({isVoid:!0}),track:new sc({isVoid:!0}),wbr:new sc({isVoid:!0}),p:new sc({closedByChildren:["address","article","aside","blockquote","div","dl","fieldset","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","main","nav","ol","p","pre","section","table","ul"],closedByParent:!0}),thead:new sc({closedByChildren:["tbody","tfoot"]}),tbody:new sc({closedByChildren:["tbody","tfoot"],closedByParent:!0}),tfoot:new sc({closedByChildren:["tbody"],closedByParent:!0}),tr:new sc({closedByChildren:["tr"],requiredParents:["tbody","tfoot","thead"],closedByParent:!0}),td:new sc({closedByChildren:["td","th"],closedByParent:!0}),th:new sc({closedByChildren:["td","th"],closedByParent:!0}),col:new sc({requiredParents:["colgroup"],isVoid:!0}),svg:new sc({implicitNamespacePrefix:"svg"}),math:new sc({implicitNamespacePrefix:"math"}),li:new sc({closedByChildren:["li"],closedByParent:!0}),dt:new sc({closedByChildren:["dt","dd"]}),dd:new sc({closedByChildren:["dt","dd"],closedByParent:!0}),rb:new sc({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rt:new sc({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),rtc:new sc({closedByChildren:["rb","rtc","rp"],closedByParent:!0}),rp:new sc({closedByChildren:["rb","rt","rtc","rp"],closedByParent:!0}),optgroup:new sc({closedByChildren:["optgroup"],closedByParent:!0}),option:new sc({closedByChildren:["option","optgroup"],closedByParent:!0}),pre:new sc({ignoreFirstLf:!0}),listing:new sc({ignoreFirstLf:!0}),style:new sc({contentType:Kl.RAW_TEXT}),script:new sc({contentType:Kl.RAW_TEXT}),title:new sc({contentType:Kl.ESCAPABLE_RAW_TEXT}),textarea:new sc({contentType:Kl.ESCAPABLE_RAW_TEXT,ignoreFirstLf:!0})}),ic[e.toLowerCase()]||rc}const ac=new RegExp("(\\:not\\()|([-\\w]+)|(?:\\.([-\\w]+))|(?:\\[([-.\\w*]+)(?:=([\"']?)([^\\]\"']*)\\5)?\\])|(\\))|(\\s*,\\s*)","g");class lc{constructor(){this.element=null,this.classNames=[],this.attrs=[],this.notSelectors=[]}static parse(e){const t=[],n=(e,t)=>{t.notSelectors.length>0&&!t.element&&0==t.classNames.length&&0==t.attrs.length&&(t.element="*"),e.push(t)};let s,r=new lc,i=r,o=!1;for(ac.lastIndex=0;s=ac.exec(e);){if(s[1]){if(o)throw new Error("Nesting :not is not allowed in a selector");o=!0,i=new lc,r.notSelectors.push(i)}if(s[2]&&i.setElement(s[2]),s[3]&&i.addClassName(s[3]),s[4]&&i.addAttribute(s[4],s[6]),s[7]&&(o=!1,i=r),s[8]){if(o)throw new Error("Multiple selectors in :not are not supported");n(t,r),r=i=new lc}}return n(t,r),t}isElementSelector(){return this.hasElementSelector()&&0==this.classNames.length&&0==this.attrs.length&&0===this.notSelectors.length}hasElementSelector(){return!!this.element}setElement(e=null){this.element=e}getMatchingElementTemplate(){const e=this.element||"div",t=this.classNames.length>0?` class="${this.classNames.join(" ")}"`:"";let n="";for(let s=0;s<this.attrs.length;s+=2){n+=` ${this.attrs[s]}${""!==this.attrs[s+1]?`="${this.attrs[s+1]}"`:""}`}return oc(e).isVoid?`<${e}${t}${n}/>`:`<${e}${t}${n}></${e}>`}getAttrs(){const e=[];return this.classNames.length>0&&e.push("class",this.classNames.join(" ")),e.concat(this.attrs)}addAttribute(e,t=""){this.attrs.push(e,t&&t.toLowerCase()||"")}addClassName(e){this.classNames.push(e.toLowerCase())}toString(){let e=this.element||"";if(this.classNames&&this.classNames.forEach(t=>e+=`.${t}`),this.attrs)for(let t=0;t<this.attrs.length;t+=2){const n=this.attrs[t],s=this.attrs[t+1];e+=`[${n}${s?"="+s:""}]`}return this.notSelectors.forEach(t=>e+=`:not(${t})`),e}}class cc{constructor(){this._elementMap=new Map,this._elementPartialMap=new Map,this._classMap=new Map,this._classPartialMap=new Map,this._attrValueMap=new Map,this._attrValuePartialMap=new Map,this._listContexts=[]}static createNotMatcher(e){const t=new cc;return t.addSelectables(e,null),t}addSelectables(e,t){let n=null;e.length>1&&(n=new uc(e),this._listContexts.push(n));for(let s=0;s<e.length;s++)this._addSelectable(e[s],t,n)}_addSelectable(e,t,n){let s=this;const r=e.element,i=e.classNames,o=e.attrs,a=new hc(e,t,n);if(r){0===o.length&&0===i.length?this._addTerminal(s._elementMap,r,a):s=this._addPartial(s._elementPartialMap,r)}if(i)for(let l=0;l<i.length;l++){const e=0===o.length&&l===i.length-1,t=i[l];e?this._addTerminal(s._classMap,t,a):s=this._addPartial(s._classPartialMap,t)}if(o)for(let l=0;l<o.length;l+=2){const e=l===o.length-2,t=o[l],n=o[l+1];if(e){const e=s._attrValueMap;let r=e.get(t);r||(r=new Map,e.set(t,r)),this._addTerminal(r,n,a)}else{const e=s._attrValuePartialMap;let r=e.get(t);r||(r=new Map,e.set(t,r)),s=this._addPartial(r,n)}}}_addTerminal(e,t,n){let s=e.get(t);s||(s=[],e.set(t,s)),s.push(n)}_addPartial(e,t){let n=e.get(t);return n||(n=new cc,e.set(t,n)),n}match(e,t){let n=!1;const s=e.element,r=e.classNames,i=e.attrs;for(let o=0;o<this._listContexts.length;o++)this._listContexts[o].alreadyMatched=!1;if(n=this._matchTerminal(this._elementMap,s,e,t)||n,n=this._matchPartial(this._elementPartialMap,s,e,t)||n,r)for(let o=0;o<r.length;o++){const s=r[o];n=this._matchTerminal(this._classMap,s,e,t)||n,n=this._matchPartial(this._classPartialMap,s,e,t)||n}if(i)for(let o=0;o<i.length;o+=2){const s=i[o],r=i[o+1],a=this._attrValueMap.get(s);r&&(n=this._matchTerminal(a,"",e,t)||n),n=this._matchTerminal(a,r,e,t)||n;const l=this._attrValuePartialMap.get(s);r&&(n=this._matchPartial(l,"",e,t)||n),n=this._matchPartial(l,r,e,t)||n}return n}_matchTerminal(e,t,n,s){if(!e||"string"!=typeof t)return!1;let r=e.get(t)||[];const i=e.get("*");if(i&&(r=r.concat(i)),0===r.length)return!1;let o,a=!1;for(let l=0;l<r.length;l++)a=(o=r[l]).finalize(n,s)||a;return a}_matchPartial(e,t,n,s){if(!e||"string"!=typeof t)return!1;const r=e.get(t);return!!r&&r.match(n,s)}}class uc{constructor(e){this.selectors=e,this.alreadyMatched=!1}}class hc{constructor(e,t,n){this.selector=e,this.cbContext=t,this.listContext=n,this.notSelectors=e.notSelectors}finalize(e,t){let n=!0;if(this.notSelectors.length>0&&(!this.listContext||!this.listContext.alreadyMatched)){n=!cc.createNotMatcher(this.notSelectors).match(e,null)}return!n||!t||this.listContext&&this.listContext.alreadyMatched||(this.listContext&&(this.listContext.alreadyMatched=!0),t(this.selector,this.cbContext)),n}}const dc=Vc("Inject",e=>({token:e})),pc=Vc("InjectionToken",e=>({_desc:e,ngInjectableDef:void 0})),mc=Vc("Attribute",e=>({attributeName:e})),fc=Vc("ContentChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!1,descendants:!1},t)),gc=Vc("ContentChild",(e,t={})=>Object.assign({selector:e,first:!0,isViewQuery:!1,descendants:!0},t)),vc=Vc("ViewChildren",(e,t={})=>Object.assign({selector:e,first:!1,isViewQuery:!0,descendants:!0},t)),yc=Vc("ViewChild",(e,t)=>Object.assign({selector:e,first:!0,isViewQuery:!0,descendants:!0},t)),_c=Vc("Directive",(e={})=>e);var wc,Ec;!function(e){e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom"}(wc||(wc={})),function(e){e[e.OnPush=0]="OnPush",e[e.Default=1]="Default"}(Ec||(Ec={}));const Cc=Vc("Component",(e={})=>Object.assign({changeDetection:Ec.Default},e)),bc=Vc("Pipe",e=>Object.assign({pure:!0},e)),Sc=Vc("Input",e=>({bindingPropertyName:e})),xc=Vc("Output",e=>({bindingPropertyName:e})),Tc=Vc("HostBinding",e=>({hostPropertyName:e})),Ac=Vc("HostListener",(e,t)=>({eventName:e,args:t})),Dc=Vc("NgModule",e=>e),Pc=Vc("Injectable",(e={})=>e),kc={name:"custom-elements"},Nc={name:"no-errors-schema"},Mc=Vc("Optional"),Ic=Vc("Self"),Oc=Vc("SkipSelf"),Fc=Vc("Host"),Rc=Function;var Lc,$c;function Vc(e,t){const n=(...n)=>{const s=t?t(...n):{};return Object.assign({ngMetadataName:e},s)};return n.isTypeOf=(t=>t&&t.ngMetadataName===e),n.ngMetadataName=e,n}function Bc(e){const t=function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return[e.element&&"*"!==e.element?e.element:"",...e.attrs,...t]}(e),n=e.notSelectors&&e.notSelectors.length?e.notSelectors.map(e=>(function(e){const t=e.classNames&&e.classNames.length?[8,...e.classNames]:[];return e.element?[5,e.element,...e.attrs,...t]:e.attrs.length?[3,...e.attrs,...t]:e.classNames&&e.classNames.length?[9,...e.classNames]:[]})(e)):[];return t.concat(...n)}function jc(e){return lc.parse(e).map(Bc)}!function(e){e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL"}(Lc||(Lc={})),function(e){e[e.Error=0]="Error",e[e.Warning=1]="Warning",e[e.Ignore=2]="Ignore"}($c||($c={}));var Uc,Hc;!function(e){e[e.Const=0]="Const"}(Uc||(Uc={}));class qc{constructor(e=null){this.modifiers=e,e||(this.modifiers=[])}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}!function(e){e[e.Dynamic=0]="Dynamic",e[e.Bool=1]="Bool",e[e.String=2]="String",e[e.Int=3]="Int",e[e.Number=4]="Number",e[e.Function=5]="Function",e[e.Inferred=6]="Inferred",e[e.None=7]="None"}(Hc||(Hc={}));class zc extends qc{constructor(e,t=null){super(t),this.name=e}visitType(e,t){return e.visitBuiltinType(this,t)}}class Wc extends qc{constructor(e,t=null,n=null){super(t),this.value=e,this.typeParams=n}visitType(e,t){return e.visitExpressionType(this,t)}}class Gc extends qc{constructor(e,t=null){super(t),this.of=e}visitType(e,t){return e.visitArrayType(this,t)}}class Kc extends qc{constructor(e,t=null){super(t),this.valueType=e||null}visitType(e,t){return e.visitMapType(this,t)}}const Qc=new zc(Hc.Dynamic),Zc=new zc(Hc.Inferred),Xc=new zc(Hc.Bool),Yc=(new zc(Hc.Int),new zc(Hc.Number)),Jc=(new zc(Hc.String),new zc(Hc.Function),new zc(Hc.None));var eu,tu,nu;function su(e,t){return null==e||null==t?e==t:e.isEquivalent(t)}function ru(e,t){const n=e.length;if(n!==t.length)return!1;for(let s=0;s<n;s++)if(!e[s].isEquivalent(t[s]))return!1;return!0}!function(e){e[e.Equals=0]="Equals",e[e.NotEquals=1]="NotEquals",e[e.Identical=2]="Identical",e[e.NotIdentical=3]="NotIdentical",e[e.Minus=4]="Minus",e[e.Plus=5]="Plus",e[e.Divide=6]="Divide",e[e.Multiply=7]="Multiply",e[e.Modulo=8]="Modulo",e[e.And=9]="And",e[e.Or=10]="Or",e[e.BitwiseAnd=11]="BitwiseAnd",e[e.Lower=12]="Lower",e[e.LowerEquals=13]="LowerEquals",e[e.Bigger=14]="Bigger",e[e.BiggerEquals=15]="BiggerEquals"}(eu||(eu={}));class iu{constructor(e,t){this.type=e||null,this.sourceSpan=t||null}prop(e,t){return new Su(this,e,null,t)}key(e,t,n){return new xu(this,e,t,n)}callMethod(e,t,n){return new du(this,e,t,null,n)}callFn(e,t){return new pu(this,e,null,t)}instantiate(e,t,n){return new mu(this,e,t,n)}conditional(e,t=null,n){return new vu(this,e,t,null,n)}equals(e,t){return new bu(eu.Equals,this,e,null,t)}notEquals(e,t){return new bu(eu.NotEquals,this,e,null,t)}identical(e,t){return new bu(eu.Identical,this,e,null,t)}notIdentical(e,t){return new bu(eu.NotIdentical,this,e,null,t)}minus(e,t){return new bu(eu.Minus,this,e,null,t)}plus(e,t){return new bu(eu.Plus,this,e,null,t)}divide(e,t){return new bu(eu.Divide,this,e,null,t)}multiply(e,t){return new bu(eu.Multiply,this,e,null,t)}modulo(e,t){return new bu(eu.Modulo,this,e,null,t)}and(e,t){return new bu(eu.And,this,e,null,t)}bitwiseAnd(e,t,n=!0){return new bu(eu.BitwiseAnd,this,e,null,t,n)}or(e,t){return new bu(eu.Or,this,e,null,t)}lower(e,t){return new bu(eu.Lower,this,e,null,t)}lowerEquals(e,t){return new bu(eu.LowerEquals,this,e,null,t)}bigger(e,t){return new bu(eu.Bigger,this,e,null,t)}biggerEquals(e,t){return new bu(eu.BiggerEquals,this,e,null,t)}isBlank(e){return this.equals(Nu,e)}cast(e,t){return new wu(this,e,t)}toStmt(){return new Ru(this,null)}}!function(e){e[e.This=0]="This",e[e.Super=1]="Super",e[e.CatchError=2]="CatchError",e[e.CatchStack=3]="CatchStack"}(tu||(tu={}));class ou extends iu{constructor(e,t,n){super(t,n),"string"==typeof e?(this.name=e,this.builtin=null):(this.name=null,this.builtin=e)}isEquivalent(e){return e instanceof ou&&this.name===e.name&&this.builtin===e.builtin}isConstant(){return!1}visitExpression(e,t){return e.visitReadVarExpr(this,t)}set(e){if(!this.name)throw new Error(`Built in variable ${this.builtin} can not be assigned to.`);return new cu(this.name,e,null,this.sourceSpan)}}class au extends iu{constructor(e,t,n){super(t,n),this.expr=e}visitExpression(e,t){return e.visitTypeofExpr(this,t)}isEquivalent(e){return e instanceof au&&e.expr.isEquivalent(this.expr)}isConstant(){return this.expr.isConstant()}}class lu extends iu{constructor(e,t,n){super(t,n),this.node=e}isEquivalent(e){return e instanceof lu&&this.node===e.node}isConstant(){return!1}visitExpression(e,t){return e.visitWrappedNodeExpr(this,t)}}class cu extends iu{constructor(e,t,n,s){super(n||t.type,s),this.name=e,this.value=t}isEquivalent(e){return e instanceof cu&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteVarExpr(this,t)}toDeclStmt(e,t){return new Ou(this.name,this.value,e,t,this.sourceSpan)}toConstDecl(){return this.toDeclStmt(Zc,[Mu.Final])}}class uu extends iu{constructor(e,t,n,s,r){super(s||n.type,r),this.receiver=e,this.index=t,this.value=n}isEquivalent(e){return e instanceof uu&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWriteKeyExpr(this,t)}}class hu extends iu{constructor(e,t,n,s,r){super(s||n.type,r),this.receiver=e,this.name=t,this.value=n}isEquivalent(e){return e instanceof hu&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitWritePropExpr(this,t)}}!function(e){e[e.ConcatArray=0]="ConcatArray",e[e.SubscribeObservable=1]="SubscribeObservable",e[e.Bind=2]="Bind"}(nu||(nu={}));class du extends iu{constructor(e,t,n,s,r){super(s,r),this.receiver=e,this.args=n,"string"==typeof t?(this.name=t,this.builtin=null):(this.name=null,this.builtin=t)}isEquivalent(e){return e instanceof du&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name&&this.builtin===e.builtin&&ru(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeMethodExpr(this,t)}}class pu extends iu{constructor(e,t,n,s,r=!1){super(n,s),this.fn=e,this.args=t,this.pure=r}isEquivalent(e){return e instanceof pu&&this.fn.isEquivalent(e.fn)&&ru(this.args,e.args)&&this.pure===e.pure}isConstant(){return!1}visitExpression(e,t){return e.visitInvokeFunctionExpr(this,t)}}class mu extends iu{constructor(e,t,n,s){super(n,s),this.classExpr=e,this.args=t}isEquivalent(e){return e instanceof mu&&this.classExpr.isEquivalent(e.classExpr)&&ru(this.args,e.args)}isConstant(){return!1}visitExpression(e,t){return e.visitInstantiateExpr(this,t)}}class fu extends iu{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof fu&&this.value===e.value}isConstant(){return!0}visitExpression(e,t){return e.visitLiteralExpr(this,t)}}class gu extends iu{constructor(e,t,n=null,s){super(t,s),this.value=e,this.typeParams=n}isEquivalent(e){return e instanceof gu&&this.value.name===e.value.name&&this.value.moduleName===e.value.moduleName&&this.value.runtime===e.value.runtime}isConstant(){return!1}visitExpression(e,t){return e.visitExternalExpr(this,t)}}class vu extends iu{constructor(e,t,n=null,s,r){super(s||t.type,r),this.condition=e,this.falseCase=n,this.trueCase=t}isEquivalent(e){return e instanceof vu&&this.condition.isEquivalent(e.condition)&&this.trueCase.isEquivalent(e.trueCase)&&su(this.falseCase,e.falseCase)}isConstant(){return!1}visitExpression(e,t){return e.visitConditionalExpr(this,t)}}class yu extends iu{constructor(e,t){super(Xc,t),this.condition=e}isEquivalent(e){return e instanceof yu&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitNotExpr(this,t)}}class _u extends iu{constructor(e,t){super(e.type,t),this.condition=e}isEquivalent(e){return e instanceof _u&&this.condition.isEquivalent(e.condition)}isConstant(){return!1}visitExpression(e,t){return e.visitAssertNotNullExpr(this,t)}}class wu extends iu{constructor(e,t,n){super(t,n),this.value=e}isEquivalent(e){return e instanceof wu&&this.value.isEquivalent(e.value)}isConstant(){return!1}visitExpression(e,t){return e.visitCastExpr(this,t)}}class Eu{constructor(e,t=null){this.name=e,this.type=t}isEquivalent(e){return this.name===e.name}}class Cu extends iu{constructor(e,t,n,s,r){super(n,s),this.params=e,this.statements=t,this.name=r}isEquivalent(e){return e instanceof Cu&&ru(this.params,e.params)&&ru(this.statements,e.statements)}isConstant(){return!1}visitExpression(e,t){return e.visitFunctionExpr(this,t)}toDeclStmt(e,t=null){return new Fu(e,this.params,this.statements,this.type,t,this.sourceSpan)}}class bu extends iu{constructor(e,t,n,s,r,i=!0){super(s||t.type,r),this.operator=e,this.rhs=n,this.parens=i,this.lhs=t}isEquivalent(e){return e instanceof bu&&this.operator===e.operator&&this.lhs.isEquivalent(e.lhs)&&this.rhs.isEquivalent(e.rhs)}isConstant(){return!1}visitExpression(e,t){return e.visitBinaryOperatorExpr(this,t)}}class Su extends iu{constructor(e,t,n,s){super(n,s),this.receiver=e,this.name=t}isEquivalent(e){return e instanceof Su&&this.receiver.isEquivalent(e.receiver)&&this.name===e.name}isConstant(){return!1}visitExpression(e,t){return e.visitReadPropExpr(this,t)}set(e){return new hu(this.receiver,this.name,e,null,this.sourceSpan)}}class xu extends iu{constructor(e,t,n,s){super(n,s),this.receiver=e,this.index=t}isEquivalent(e){return e instanceof xu&&this.receiver.isEquivalent(e.receiver)&&this.index.isEquivalent(e.index)}isConstant(){return!1}visitExpression(e,t){return e.visitReadKeyExpr(this,t)}set(e){return new uu(this.receiver,this.index,e,null,this.sourceSpan)}}class Tu extends iu{constructor(e,t,n){super(t,n),this.entries=e}isConstant(){return this.entries.every(e=>e.isConstant())}isEquivalent(e){return e instanceof Tu&&ru(this.entries,e.entries)}visitExpression(e,t){return e.visitLiteralArrayExpr(this,t)}}class Au{constructor(e,t,n){this.key=e,this.value=t,this.quoted=n}isEquivalent(e){return this.key===e.key&&this.value.isEquivalent(e.value)}}class Du extends iu{constructor(e,t,n){super(t,n),this.entries=e,this.valueType=null,t&&(this.valueType=t.valueType)}isEquivalent(e){return e instanceof Du&&ru(this.entries,e.entries)}isConstant(){return this.entries.every(e=>e.value.isConstant())}visitExpression(e,t){return e.visitLiteralMapExpr(this,t)}}class Pu extends iu{constructor(e,t){super(e[e.length-1].type,t),this.parts=e}isEquivalent(e){return e instanceof Pu&&ru(this.parts,e.parts)}isConstant(){return!1}visitExpression(e,t){return e.visitCommaExpr(this,t)}}new ou(tu.This,null,null),new ou(tu.Super,null,null),new ou(tu.CatchError,null,null),new ou(tu.CatchStack,null,null);const ku=new fu(null,null,null),Nu=new fu(null,Zc,null);var Mu;!function(e){e[e.Final=0]="Final",e[e.Private=1]="Private",e[e.Exported=2]="Exported",e[e.Static=3]="Static"}(Mu||(Mu={}));class Iu{constructor(e,t){this.modifiers=e||[],this.sourceSpan=t||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class Ou extends Iu{constructor(e,t,n,s=null,r){super(s,r),this.name=e,this.value=t,this.type=n||t&&t.type||null}isEquivalent(e){return e instanceof Ou&&this.name===e.name&&(this.value?!!e.value&&this.value.isEquivalent(e.value):!e.value)}visitStatement(e,t){return e.visitDeclareVarStmt(this,t)}}class Fu extends Iu{constructor(e,t,n,s,r=null,i){super(r,i),this.name=e,this.params=t,this.statements=n,this.type=s||null}isEquivalent(e){return e instanceof Fu&&ru(this.params,e.params)&&ru(this.statements,e.statements)}visitStatement(e,t){return e.visitDeclareFunctionStmt(this,t)}}class Ru extends Iu{constructor(e,t){super(null,t),this.expr=e}isEquivalent(e){return e instanceof Ru&&this.expr.isEquivalent(e.expr)}visitStatement(e,t){return e.visitExpressionStmt(this,t)}}class Lu extends Iu{constructor(e,t){super(null,t),this.value=e}isEquivalent(e){return e instanceof Lu&&this.value.isEquivalent(e.value)}visitStatement(e,t){return e.visitReturnStmt(this,t)}}class $u{constructor(e,t){this.modifiers=t,t||(this.modifiers=[]),this.type=e||null}hasModifier(e){return-1!==this.modifiers.indexOf(e)}}class Vu extends $u{constructor(e,t,n,s,r=null){super(s,r),this.name=e,this.params=t,this.body=n}isEquivalent(e){return this.name===e.name&&ru(this.body,e.body)}}class Bu extends $u{constructor(e,t,n,s=null){super(n,s),this.name=e,this.body=t}isEquivalent(e){return this.name===e.name&&ru(this.body,e.body)}}class ju extends Iu{constructor(e,t,n,s,r,i,o=null,a){super(o,a),this.name=e,this.parent=t,this.fields=n,this.getters=s,this.constructorMethod=r,this.methods=i}isEquivalent(e){return e instanceof ju&&this.name===e.name&&su(this.parent,e.parent)&&ru(this.fields,e.fields)&&ru(this.getters,e.getters)&&this.constructorMethod.isEquivalent(e.constructorMethod)&&ru(this.methods,e.methods)}visitStatement(e,t){return e.visitDeclareClassStmt(this,t)}}class Uu extends Iu{constructor(e,t,n=[],s){super(null,s),this.condition=e,this.trueCase=t,this.falseCase=n}isEquivalent(e){return e instanceof Uu&&this.condition.isEquivalent(e.condition)&&ru(this.trueCase,e.trueCase)&&ru(this.falseCase,e.falseCase)}visitStatement(e,t){return e.visitIfStmt(this,t)}}class Hu extends Iu{constructor(e=[],t){super(null,t),this.tags=e}isEquivalent(e){return e instanceof Hu&&this.toString()===e.toString()}visitStatement(e,t){return e.visitJSDocCommentStmt(this,t)}toString(){return function(e){if(0===e.length)return"";let t="*\n";for(const n of e)t+=" *",t+=lh(n).replace(/\n/g,"\n * "),t+="\n";return t+=" "}(this.tags)}}class qu extends Iu{constructor(e,t,n){super(null,n),this.bodyStmts=e,this.catchStmts=t}isEquivalent(e){return e instanceof qu&&ru(this.bodyStmts,e.bodyStmts)&&ru(this.catchStmts,e.catchStmts)}visitStatement(e,t){return e.visitTryCatchStmt(this,t)}}class zu extends Iu{constructor(e,t){super(null,t),this.error=e}isEquivalent(e){return e instanceof qu&&this.error.isEquivalent(e.error)}visitStatement(e,t){return e.visitThrowStmt(this,t)}}class Wu{transformExpr(e,t){return e}transformStmt(e,t){return e}visitReadVarExpr(e,t){return this.transformExpr(e,t)}visitWrappedNodeExpr(e,t){return this.transformExpr(e,t)}visitTypeofExpr(e,t){return this.transformExpr(new au(e.expr.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteVarExpr(e,t){return this.transformExpr(new cu(e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWriteKeyExpr(e,t){return this.transformExpr(new uu(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitWritePropExpr(e,t){return this.transformExpr(new hu(e.receiver.visitExpression(this,t),e.name,e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitInvokeMethodExpr(e,t){const n=e.builtin||e.name;return this.transformExpr(new du(e.receiver.visitExpression(this,t),n,this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInvokeFunctionExpr(e,t){return this.transformExpr(new pu(e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitInstantiateExpr(e,t){return this.transformExpr(new mu(e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),e.type,e.sourceSpan),t)}visitLiteralExpr(e,t){return this.transformExpr(e,t)}visitExternalExpr(e,t){return this.transformExpr(e,t)}visitConditionalExpr(e,t){return this.transformExpr(new vu(e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),e.type,e.sourceSpan),t)}visitNotExpr(e,t){return this.transformExpr(new yu(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitAssertNotNullExpr(e,t){return this.transformExpr(new _u(e.condition.visitExpression(this,t),e.sourceSpan),t)}visitCastExpr(e,t){return this.transformExpr(new wu(e.value.visitExpression(this,t),e.type,e.sourceSpan),t)}visitFunctionExpr(e,t){return this.transformExpr(new Cu(e.params,this.visitAllStatements(e.statements,t),e.type,e.sourceSpan),t)}visitBinaryOperatorExpr(e,t){return this.transformExpr(new bu(e.operator,e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),e.type,e.sourceSpan),t)}visitReadPropExpr(e,t){return this.transformExpr(new Su(e.receiver.visitExpression(this,t),e.name,e.type,e.sourceSpan),t)}visitReadKeyExpr(e,t){return this.transformExpr(new xu(e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.type,e.sourceSpan),t)}visitLiteralArrayExpr(e,t){return this.transformExpr(new Tu(this.visitAllExpressions(e.entries,t),e.type,e.sourceSpan),t)}visitLiteralMapExpr(e,t){const n=e.entries.map(e=>new Au(e.key,e.value.visitExpression(this,t),e.quoted)),s=new Kc(e.valueType,null);return this.transformExpr(new Du(n,s,e.sourceSpan),t)}visitCommaExpr(e,t){return this.transformExpr(new Pu(this.visitAllExpressions(e.parts,t),e.sourceSpan),t)}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){const n=e.value&&e.value.visitExpression(this,t);return this.transformStmt(new Ou(e.name,n,e.type,e.modifiers,e.sourceSpan),t)}visitDeclareFunctionStmt(e,t){return this.transformStmt(new Fu(e.name,e.params,this.visitAllStatements(e.statements,t),e.type,e.modifiers,e.sourceSpan),t)}visitExpressionStmt(e,t){return this.transformStmt(new Ru(e.expr.visitExpression(this,t),e.sourceSpan),t)}visitReturnStmt(e,t){return this.transformStmt(new Lu(e.value.visitExpression(this,t),e.sourceSpan),t)}visitDeclareClassStmt(e,t){const n=e.parent.visitExpression(this,t),s=e.getters.map(e=>new Bu(e.name,this.visitAllStatements(e.body,t),e.type,e.modifiers)),r=e.constructorMethod&&new Vu(e.constructorMethod.name,e.constructorMethod.params,this.visitAllStatements(e.constructorMethod.body,t),e.constructorMethod.type,e.constructorMethod.modifiers),i=e.methods.map(e=>new Vu(e.name,e.params,this.visitAllStatements(e.body,t),e.type,e.modifiers));return this.transformStmt(new ju(e.name,n,e.fields,s,r,i,e.modifiers,e.sourceSpan),t)}visitIfStmt(e,t){return this.transformStmt(new Uu(e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e.sourceSpan),t)}visitTryCatchStmt(e,t){return this.transformStmt(new qu(this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e.sourceSpan),t)}visitThrowStmt(e,t){return this.transformStmt(new zu(e.error.visitExpression(this,t),e.sourceSpan),t)}visitCommentStmt(e,t){return this.transformStmt(e,t)}visitJSDocCommentStmt(e,t){return this.transformStmt(e,t)}visitAllStatements(e,t){return e.map(e=>e.visitStatement(this,t))}}class Gu{visitType(e,t){return e}visitExpression(e,t){return e.type&&e.type.visitType(this,t),e}visitBuiltinType(e,t){return this.visitType(e,t)}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&e.typeParams.forEach(e=>this.visitType(e,t)),this.visitType(e,t)}visitArrayType(e,t){return this.visitType(e,t)}visitMapType(e,t){return this.visitType(e,t)}visitWrappedNodeExpr(e,t){return e}visitTypeofExpr(e,t){return this.visitExpression(e,t)}visitReadVarExpr(e,t){return this.visitExpression(e,t)}visitWriteVarExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWriteKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitWritePropExpr(e,t){return e.receiver.visitExpression(this,t),e.value.visitExpression(this,t),this.visitExpression(e,t)}visitInvokeMethodExpr(e,t){return e.receiver.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitInstantiateExpr(e,t){return e.classExpr.visitExpression(this,t),this.visitAllExpressions(e.args,t),this.visitExpression(e,t)}visitLiteralExpr(e,t){return this.visitExpression(e,t)}visitExternalExpr(e,t){return e.typeParams&&e.typeParams.forEach(e=>e.visitType(this,t)),this.visitExpression(e,t)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t),e.trueCase.visitExpression(this,t),e.falseCase.visitExpression(this,t),this.visitExpression(e,t)}visitNotExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),this.visitExpression(e,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t),this.visitExpression(e,t)}visitFunctionExpr(e,t){return this.visitAllStatements(e.statements,t),this.visitExpression(e,t)}visitBinaryOperatorExpr(e,t){return e.lhs.visitExpression(this,t),e.rhs.visitExpression(this,t),this.visitExpression(e,t)}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),this.visitExpression(e,t)}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),e.index.visitExpression(this,t),this.visitExpression(e,t)}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t),this.visitExpression(e,t)}visitLiteralMapExpr(e,t){return e.entries.forEach(e=>e.value.visitExpression(this,t)),this.visitExpression(e,t)}visitCommaExpr(e,t){return this.visitAllExpressions(e.parts,t),this.visitExpression(e,t)}visitAllExpressions(e,t){e.forEach(e=>e.visitExpression(this,t))}visitDeclareVarStmt(e,t){return e.value&&e.value.visitExpression(this,t),e.type&&e.type.visitType(this,t),e}visitDeclareFunctionStmt(e,t){return this.visitAllStatements(e.statements,t),e.type&&e.type.visitType(this,t),e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),e}visitReturnStmt(e,t){return e.value.visitExpression(this,t),e}visitDeclareClassStmt(e,t){return e.parent.visitExpression(this,t),e.getters.forEach(e=>this.visitAllStatements(e.body,t)),e.constructorMethod&&this.visitAllStatements(e.constructorMethod.body,t),e.methods.forEach(e=>this.visitAllStatements(e.body,t)),e}visitIfStmt(e,t){return e.condition.visitExpression(this,t),this.visitAllStatements(e.trueCase,t),this.visitAllStatements(e.falseCase,t),e}visitTryCatchStmt(e,t){return this.visitAllStatements(e.bodyStmts,t),this.visitAllStatements(e.catchStmts,t),e}visitThrowStmt(e,t){return e.error.visitExpression(this,t),e}visitCommentStmt(e,t){return e}visitJSDocCommentStmt(e,t){return e}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function Ku(e){const t=new Qu;return t.visitAllStatements(e,null),t.varNames}class Qu extends Gu{constructor(){super(...arguments),this.varNames=new Set}visitDeclareFunctionStmt(e,t){return e}visitDeclareClassStmt(e,t){return e}visitReadVarExpr(e,t){return e.name&&this.varNames.add(e.name),null}}function Zu(e,t){if(!t)return e;const n=new Yu(t);return e.visitStatement(n,null)}function Xu(e,t){if(!t)return e;const n=new Yu(t);return e.visitExpression(n,null)}class Yu extends Wu{constructor(e){super(),this.sourceSpan=e}_clone(e){const t=Object.create(e.constructor.prototype);for(let n in e)t[n]=e[n];return t}transformExpr(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}transformStmt(e,t){return e.sourceSpan||((e=this._clone(e)).sourceSpan=this.sourceSpan),e}}function Ju(e,t,n){return new ou(e,t,n)}function eh(e,t=null,n){return new gu(e,null,t,n)}function th(e,t=null,n=null){return null!=e?nh(eh(e,t,null),n):null}function nh(e,t=null,n=null){return new Wc(e,t,n)}function sh(e,t,n){return new Tu(e,t,n)}function rh(e,t=null){return new Du(e.map(e=>new Au(e.key,e.value,e.quoted)),t,null)}function ih(e,t,n,s,r){return new Cu(e,t,n,s,r)}function oh(e,t,n){return new Uu(e,t,n)}function ah(e,t,n){return new fu(e,t,n)}function lh(e){let t="";if(e.tagName&&(t+=` @${e.tagName}`),e.text){if(e.text.match(/\/\*|\*\//))throw new Error('JSDoc text cannot contain "/*" and "*/"');t+=" "+e.text.replace(/@/g,"\\@")}return t}const ch=/-+([a-z0-9])/g;function uh(e,t){return hh(e,":",t)}function hh(e,t,n){const s=e.indexOf(t);return-1==s?n:[e.slice(0,s).trim(),e.slice(s+1).trim()]}function dh(e,t,n){return Array.isArray(e)?t.visitArray(e,n):"object"==typeof(s=e)&&null!==s&&Object.getPrototypeOf(s)===Ch?t.visitStringMap(e,n):null==e||"string"==typeof e||"number"==typeof e||"boolean"==typeof e?t.visitPrimitive(e,n):t.visitOther(e,n);var s}function ph(e){return null!=e}function mh(e){return void 0===e?null:e}class fh{visitArray(e,t){return e.map(e=>dh(e,this,t))}visitStringMap(e,t){const n={};return Object.keys(e).forEach(s=>{n[s]=dh(e[s],this,t)}),n}visitPrimitive(e,t){return e}visitOther(e,t){return e}}const gh={assertSync:e=>{if(Th(e))throw new Error("Illegal state: value cannot be a promise");return e},then:(e,t)=>Th(e)?e.then(t):t(e),all:e=>e.some(Th)?Promise.all(e):e};function vh(e){throw new Error(`Internal Error: ${e}`)}function yh(e,t){const n=Error(e);return n[_h]=!0,t&&(n[wh]=t),n}const _h="ngSyntaxError",wh="ngParseErrors";function Eh(e){return e.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}const Ch=Object.getPrototypeOf({});function bh(e){let t="";for(let n=0;n<e.length;n++){let s=e.charCodeAt(n);if(s>=55296&&s<=56319&&e.length>n+1){const t=e.charCodeAt(n+1);t>=56320&&t<=57343&&(n++,s=(s-55296<<10)+t-56320+65536)}s<=127?t+=String.fromCharCode(s):s<=2047?t+=String.fromCharCode(s>>6&31|192,63&s|128):s<=65535?t+=String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128):s<=2097151&&(t+=String.fromCharCode(s>>18&7|240,s>>12&63|128,s>>6&63|128,63&s|128))}return t}function Sh(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Sh).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function xh(e){return"function"==typeof e&&e.hasOwnProperty("__forward_ref__")?e():e}function Th(e){return!!e&&"function"==typeof e.then}const Ah="undefined"!=typeof window&&window,Dh="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ph="undefined"!=typeof global&&global||Ah||Dh,kh="_c",Nh={};class Mh extends iu{constructor(e){super(e.type),this.resolved=e,this.original=e}visitExpression(e,t){return t===Nh?this.original.visitExpression(e,t):this.resolved.visitExpression(e,t)}isEquivalent(e){return e instanceof Mh&&this.resolved.isEquivalent(e.resolved)}isConstant(){return!0}fixup(e){this.resolved=e,this.shared=!0}}class Ih{constructor(){this.statements=[],this.literals=new Map,this.literalFactories=new Map,this.injectorDefinitions=new Map,this.directiveDefinitions=new Map,this.componentDefinitions=new Map,this.pipeDefinitions=new Map,this.nextNameIndex=0}getConstLiteral(e,t){if(e instanceof fu||e instanceof Mh)return e;const n=this.keyOf(e);let s=this.literals.get(n),r=!1;if(s||(s=new Mh(e),this.literals.set(n,s),r=!0),!r&&!s.shared||r&&t){const t=this.freshName();this.statements.push(Ju(t).set(e).toDeclStmt(Zc,[Mu.Final])),s.fixup(Ju(t))}return s}getDefinition(e,t,n,s=!1){const r=this.definitionsOf(t);let i=r.get(e),o=!1;if(!i){const s=this.propertyNameOf(t);i=new Mh(n.importExpr(e).prop(s)),r.set(e,i),o=!0}if(!o&&!i.shared||o&&s){const e=this.freshName();this.statements.push(Ju(e).set(i.resolved).toDeclStmt(Zc,[Mu.Final])),i.fixup(Ju(e))}return i}getLiteralFactory(e){if(e instanceof Tu){const t=e.entries.map(e=>e.isConstant()?e:ah(null)),n=this.keyOf(sh(t));return this._getLiteralFactory(n,e.entries,e=>sh(e))}{const t=rh(e.entries.map(e=>({key:e.key,value:e.value.isConstant()?e.value:ah(null),quoted:e.quoted}))),n=this.keyOf(t);return this._getLiteralFactory(n,e.entries.map(e=>e.value),t=>rh(t.map((t,n)=>({key:e.entries[n].key,value:t,quoted:e.entries[n].quoted}))))}}_getLiteralFactory(e,t,n){let s=this.literalFactories.get(e);const r=t.filter(e=>!e.isConstant());if(!s){const r=t.map((e,t)=>e.isConstant()?this.getConstLiteral(e,!0):Ju(`a${t}`)),i=ih(r.filter(Rh).map(e=>new Eu(e.name,Qc)),[new Lu(n(r))],Zc),o=this.freshName();this.statements.push(Ju(o).set(i).toDeclStmt(Zc,[Mu.Final])),s=Ju(o),this.literalFactories.set(e,s)}return{literalFactory:s,literalFactoryArguments:r}}uniqueName(e){return`${e}${this.nextNameIndex++}`}definitionsOf(e){switch(e){case 2:return this.componentDefinitions;case 1:return this.directiveDefinitions;case 0:return this.injectorDefinitions;case 3:return this.pipeDefinitions}return vh(`Unknown definition kind ${e}`),this.componentDefinitions}propertyNameOf(e){switch(e){case 2:return"ngComponentDef";case 1:return"ngDirectiveDef";case 0:return"ngInjectorDef";case 3:return"ngPipeDef"}return vh(`Unknown definition kind ${e}`),"<unknown>"}freshName(){return this.uniqueName(kh)}keyOf(e){return e.visitExpression(new Oh,Nh)}}class Oh{constructor(){this.visitWrappedNodeExpr=Fh,this.visitWriteVarExpr=Fh,this.visitWriteKeyExpr=Fh,this.visitWritePropExpr=Fh,this.visitInvokeMethodExpr=Fh,this.visitInvokeFunctionExpr=Fh,this.visitInstantiateExpr=Fh,this.visitConditionalExpr=Fh,this.visitNotExpr=Fh,this.visitAssertNotNullExpr=Fh,this.visitCastExpr=Fh,this.visitFunctionExpr=Fh,this.visitBinaryOperatorExpr=Fh,this.visitReadPropExpr=Fh,this.visitReadKeyExpr=Fh,this.visitCommaExpr=Fh}visitLiteralExpr(e){return`${"string"==typeof e.value?'"'+e.value+'"':e.value}`}visitLiteralArrayExpr(e,t){return`[${e.entries.map(e=>e.visitExpression(this,t)).join(",")}]`}visitLiteralMapExpr(e,t){return`{${e.entries.map(e=>`${(e=>{const t=e.quoted?'"':"";return`${t}${e.key}${t}`})(e)}:${e.value.visitExpression(this,t)}`).join(",")}`}visitExternalExpr(e){return e.value.moduleName?`EX:${e.value.moduleName}:${e.value.name}`:`EX:${e.value.runtime.name}`}visitReadVarExpr(e){return`VAR:${e.name}`}visitTypeofExpr(e,t){return`TYPEOF:${e.expr.visitExpression(this,t)}`}}function Fh(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle ${e.constructor.name}`)}function Rh(e){return e instanceof ou}const Lh="@angular/core";class $h{}function Vh(e){return{identifier:{reference:e}}}function Bh(e,t){return Vh(e.resolveExternalReference(t))}$h.ANALYZE_FOR_ENTRY_COMPONENTS={name:"ANALYZE_FOR_ENTRY_COMPONENTS",moduleName:Lh},$h.ElementRef={name:"ElementRef",moduleName:Lh},$h.NgModuleRef={name:"NgModuleRef",moduleName:Lh},$h.ViewContainerRef={name:"ViewContainerRef",moduleName:Lh},$h.ChangeDetectorRef={name:"ChangeDetectorRef",moduleName:Lh},$h.QueryList={name:"QueryList",moduleName:Lh},$h.TemplateRef={name:"TemplateRef",moduleName:Lh},$h.Renderer2={name:"Renderer2",moduleName:Lh},$h.CodegenComponentFactoryResolver={name:"\u0275CodegenComponentFactoryResolver",moduleName:Lh},$h.ComponentFactoryResolver={name:"ComponentFactoryResolver",moduleName:Lh},$h.ComponentFactory={name:"ComponentFactory",moduleName:Lh},$h.ComponentRef={name:"ComponentRef",moduleName:Lh},$h.NgModuleFactory={name:"NgModuleFactory",moduleName:Lh},$h.createModuleFactory={name:"\u0275cmf",moduleName:Lh},$h.moduleDef={name:"\u0275mod",moduleName:Lh},$h.moduleProviderDef={name:"\u0275mpd",moduleName:Lh},$h.RegisterModuleFactoryFn={name:"\u0275registerModuleFactory",moduleName:Lh},$h.inject={name:"inject",moduleName:Lh},$h.INJECTOR={name:"INJECTOR",moduleName:Lh},$h.Injector={name:"Injector",moduleName:Lh},$h.defineInjectable={name:"defineInjectable",moduleName:Lh},$h.InjectableDef={name:"\u0275InjectableDef",moduleName:Lh},$h.ViewEncapsulation={name:"ViewEncapsulation",moduleName:Lh},$h.ChangeDetectionStrategy={name:"ChangeDetectionStrategy",moduleName:Lh},$h.SecurityContext={name:"SecurityContext",moduleName:Lh},$h.LOCALE_ID={name:"LOCALE_ID",moduleName:Lh},$h.TRANSLATIONS_FORMAT={name:"TRANSLATIONS_FORMAT",moduleName:Lh},$h.inlineInterpolate={name:"\u0275inlineInterpolate",moduleName:Lh},$h.interpolate={name:"\u0275interpolate",moduleName:Lh},$h.EMPTY_ARRAY={name:"\u0275EMPTY_ARRAY",moduleName:Lh},$h.EMPTY_MAP={name:"\u0275EMPTY_MAP",moduleName:Lh},$h.Renderer={name:"Renderer",moduleName:Lh},$h.viewDef={name:"\u0275vid",moduleName:Lh},$h.elementDef={name:"\u0275eld",moduleName:Lh},$h.anchorDef={name:"\u0275and",moduleName:Lh},$h.textDef={name:"\u0275ted",moduleName:Lh},$h.directiveDef={name:"\u0275did",moduleName:Lh},$h.providerDef={name:"\u0275prd",moduleName:Lh},$h.queryDef={name:"\u0275qud",moduleName:Lh},$h.pureArrayDef={name:"\u0275pad",moduleName:Lh},$h.pureObjectDef={name:"\u0275pod",moduleName:Lh},$h.purePipeDef={name:"\u0275ppd",moduleName:Lh},$h.pipeDef={name:"\u0275pid",moduleName:Lh},$h.nodeValue={name:"\u0275nov",moduleName:Lh},$h.ngContentDef={name:"\u0275ncd",moduleName:Lh},$h.unwrapValue={name:"\u0275unv",moduleName:Lh},$h.createRendererType2={name:"\u0275crt",moduleName:Lh},$h.RendererType2={name:"RendererType2",moduleName:Lh},$h.ViewDefinition={name:"\u0275ViewDefinition",moduleName:Lh},$h.createComponentFactory={name:"\u0275ccf",moduleName:Lh},$h.setClassMetadata={name:"\u0275setClassMetadata",moduleName:Lh};class jh{constructor(e,t,n){this.filePath=e,this.name=t,this.members=n}assertNoMembers(){if(this.members.length)throw new Error(`Illegal state: symbol without members expected, but got ${JSON.stringify(this)}.`)}}class Uh{constructor(){this.cache=new Map}get(e,t,n){const s=`"${e}".${t}${(n=n||[]).length?`.${n.join(".")}`:""}`;let r=this.cache.get(s);return r||(r=new jh(e,t,n),this.cache.set(s,r)),r}}const Hh=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function qh(e){return e.replace(/\W/g,"_")}let zh=0;function Wh(e){if(!e||!e.reference)return null;const t=e.reference;if(t instanceof jh)return t.name;if(t.__anonymousType)return t.__anonymousType;let n=Sh(t);return n.indexOf("(")>=0?(n=`anonymous_${zh++}`,t.__anonymousType=n):n=qh(n),n}function Gh(e){const t=e.reference;return t instanceof jh?t.filePath:`./${Sh(t)}`}function Kh(e,t){return`View_${Wh({reference:e})}_${t}`}function Qh(e){return`RenderType_${Wh({reference:e})}`}function Zh(e){return`${Wh({reference:e})}NgFactory`}var Xh;function Yh(e){return null!=e.value?qh(e.value):Wh(e.identifier)}function Jh(e){return null!=e.identifier?e.identifier.reference:e.value}!function(e){e[e.Pipe=0]="Pipe",e[e.Directive=1]="Directive",e[e.NgModule=2]="NgModule",e[e.Injectable=3]="Injectable"}(Xh||(Xh={}));class ed{constructor({moduleUrl:e,styles:t,styleUrls:n}={}){this.moduleUrl=e||null,this.styles=od(t),this.styleUrls=od(n)}}class td{constructor({encapsulation:e,template:t,templateUrl:n,htmlAst:s,styles:r,styleUrls:i,externalStylesheets:o,animations:a,ngContentSelectors:l,interpolation:c,isInline:u,preserveWhitespaces:h}){if(this.encapsulation=e,this.template=t,this.templateUrl=n,this.htmlAst=s,this.styles=od(r),this.styleUrls=od(i),this.externalStylesheets=od(o),this.animations=a?ld(a):[],this.ngContentSelectors=l||[],c&&2!=c.length)throw new Error("'interpolation' should have a start and an end symbol.");this.interpolation=c,this.isInline=u,this.preserveWhitespaces=h}toSummary(){return{ngContentSelectors:this.ngContentSelectors,encapsulation:this.encapsulation,styles:this.styles,animations:this.animations}}}class nd{static create({isHost:e,type:t,isComponent:n,selector:s,exportAs:r,changeDetection:i,inputs:o,outputs:a,host:l,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:v,componentFactory:y}){const _={},w={},E={};null!=l&&Object.keys(l).forEach(e=>{const t=l[e],n=e.match(Hh);null===n?E[e]=t:null!=n[1]?w[n[1]]=t:null!=n[2]&&(_[n[2]]=t)});const C={};null!=o&&o.forEach(e=>{const t=uh(e,[e,e]);C[t[0]]=t[1]});const b={};return null!=a&&a.forEach(e=>{const t=uh(e,[e,e]);b[t[0]]=t[1]}),new nd({isHost:e,type:t,isComponent:!!n,selector:s,exportAs:r,changeDetection:i,inputs:C,outputs:b,hostListeners:_,hostProperties:w,hostAttributes:E,providers:c,viewProviders:u,queries:h,guards:d,viewQueries:p,entryComponents:m,template:f,componentViewType:g,rendererType:v,componentFactory:y})}constructor({isHost:e,type:t,isComponent:n,selector:s,exportAs:r,changeDetection:i,inputs:o,outputs:a,hostListeners:l,hostProperties:c,hostAttributes:u,providers:h,viewProviders:d,queries:p,guards:m,viewQueries:f,entryComponents:g,template:v,componentViewType:y,rendererType:_,componentFactory:w}){this.isHost=!!e,this.type=t,this.isComponent=n,this.selector=s,this.exportAs=r,this.changeDetection=i,this.inputs=o,this.outputs=a,this.hostListeners=l,this.hostProperties=c,this.hostAttributes=u,this.providers=od(h),this.viewProviders=od(d),this.queries=od(p),this.guards=m,this.viewQueries=od(f),this.entryComponents=od(g),this.template=v,this.componentViewType=y,this.rendererType=_,this.componentFactory=w}toSummary(){return{summaryKind:Xh.Directive,type:this.type,isComponent:this.isComponent,selector:this.selector,exportAs:this.exportAs,inputs:this.inputs,outputs:this.outputs,hostListeners:this.hostListeners,hostProperties:this.hostProperties,hostAttributes:this.hostAttributes,providers:this.providers,viewProviders:this.viewProviders,queries:this.queries,guards:this.guards,viewQueries:this.viewQueries,entryComponents:this.entryComponents,changeDetection:this.changeDetection,template:this.template&&this.template.toSummary(),componentViewType:this.componentViewType,rendererType:this.rendererType,componentFactory:this.componentFactory}}}class sd{constructor({type:e,name:t,pure:n}){this.type=e,this.name=t,this.pure=!!n}toSummary(){return{summaryKind:Xh.Pipe,type:this.type,name:this.name,pure:this.pure}}}class rd{constructor({type:e,providers:t,declaredDirectives:n,exportedDirectives:s,declaredPipes:r,exportedPipes:i,entryComponents:o,bootstrapComponents:a,importedModules:l,exportedModules:c,schemas:u,transitiveModule:h,id:d}){this.type=e||null,this.declaredDirectives=od(n),this.exportedDirectives=od(s),this.declaredPipes=od(r),this.exportedPipes=od(i),this.providers=od(t),this.entryComponents=od(o),this.bootstrapComponents=od(a),this.importedModules=od(l),this.exportedModules=od(c),this.schemas=od(u),this.id=d||null,this.transitiveModule=h||null}toSummary(){const e=this.transitiveModule;return{summaryKind:Xh.NgModule,type:this.type,entryComponents:e.entryComponents,providers:e.providers,modules:e.modules,exportedDirectives:e.exportedDirectives,exportedPipes:e.exportedPipes}}}class id{constructor(){this.directivesSet=new Set,this.directives=[],this.exportedDirectivesSet=new Set,this.exportedDirectives=[],this.pipesSet=new Set,this.pipes=[],this.exportedPipesSet=new Set,this.exportedPipes=[],this.modulesSet=new Set,this.modules=[],this.entryComponentsSet=new Set,this.entryComponents=[],this.providers=[]}addProvider(e,t){this.providers.push({provider:e,module:t})}addDirective(e){this.directivesSet.has(e.reference)||(this.directivesSet.add(e.reference),this.directives.push(e))}addExportedDirective(e){this.exportedDirectivesSet.has(e.reference)||(this.exportedDirectivesSet.add(e.reference),this.exportedDirectives.push(e))}addPipe(e){this.pipesSet.has(e.reference)||(this.pipesSet.add(e.reference),this.pipes.push(e))}addExportedPipe(e){this.exportedPipesSet.has(e.reference)||(this.exportedPipesSet.add(e.reference),this.exportedPipes.push(e))}addModule(e){this.modulesSet.has(e.reference)||(this.modulesSet.add(e.reference),this.modules.push(e))}addEntryComponent(e){this.entryComponentsSet.has(e.componentType)||(this.entryComponentsSet.add(e.componentType),this.entryComponents.push(e))}}function od(e){return e||[]}class ad{constructor(e,{useClass:t,useValue:n,useExisting:s,useFactory:r,deps:i,multi:o}){this.token=e,this.useClass=t||null,this.useValue=n,this.useExisting=s,this.useFactory=r||null,this.dependencies=i||null,this.multi=!!o}}function ld(e){return e.reduce((e,t)=>{const n=Array.isArray(t)?ld(t):t;return e.concat(n)},[])}function cd(e){return e.replace(/(\w+:\/\/[\w:-]+)?(\/+)?/,"ng:///")}function ud(e,t,n){let s;return s=n.isInline?t.type.reference instanceof jh?`${t.type.reference.filePath}.${t.type.reference.name}.html`:`${Wh(e)}/${Wh(t.type)}.html`:n.templateUrl,t.type.reference instanceof jh?s:cd(s)}const hd="@angular/core";class dd{}dd.NEW_METHOD="factory",dd.TRANSFORM_METHOD="transform",dd.PATCH_DEPS="patchedDeps",dd.namespaceHTML={name:"\u0275namespaceHTML",moduleName:hd},dd.namespaceMathML={name:"\u0275namespaceMathML",moduleName:hd},dd.namespaceSVG={name:"\u0275namespaceSVG",moduleName:hd},dd.element={name:"\u0275element",moduleName:hd},dd.elementStart={name:"\u0275elementStart",moduleName:hd},dd.elementEnd={name:"\u0275elementEnd",moduleName:hd},dd.elementProperty={name:"\u0275elementProperty",moduleName:hd},dd.elementAttribute={name:"\u0275elementAttribute",moduleName:hd},dd.elementClassProp={name:"\u0275elementClassProp",moduleName:hd},dd.elementContainerStart={name:"\u0275elementContainerStart",moduleName:hd},dd.elementContainerEnd={name:"\u0275elementContainerEnd",moduleName:hd},dd.elementStyling={name:"\u0275elementStyling",moduleName:hd},dd.elementStylingMap={name:"\u0275elementStylingMap",moduleName:hd},dd.elementStyleProp={name:"\u0275elementStyleProp",moduleName:hd},dd.elementStylingApply={name:"\u0275elementStylingApply",moduleName:hd},dd.containerCreate={name:"\u0275container",moduleName:hd},dd.nextContext={name:"\u0275nextContext",moduleName:hd},dd.templateCreate={name:"\u0275template",moduleName:hd},dd.text={name:"\u0275text",moduleName:hd},dd.textBinding={name:"\u0275textBinding",moduleName:hd},dd.bind={name:"\u0275bind",moduleName:hd},dd.enableBindings={name:"\u0275enableBindings",moduleName:hd},dd.disableBindings={name:"\u0275disableBindings",moduleName:hd},dd.getCurrentView={name:"\u0275getCurrentView",moduleName:hd},dd.restoreView={name:"\u0275restoreView",moduleName:hd},dd.interpolation1={name:"\u0275interpolation1",moduleName:hd},dd.interpolation2={name:"\u0275interpolation2",moduleName:hd},dd.interpolation3={name:"\u0275interpolation3",moduleName:hd},dd.interpolation4={name:"\u0275interpolation4",moduleName:hd},dd.interpolation5={name:"\u0275interpolation5",moduleName:hd},dd.interpolation6={name:"\u0275interpolation6",moduleName:hd},dd.interpolation7={name:"\u0275interpolation7",moduleName:hd},dd.interpolation8={name:"\u0275interpolation8",moduleName:hd},dd.interpolationV={name:"\u0275interpolationV",moduleName:hd},dd.pureFunction0={name:"\u0275pureFunction0",moduleName:hd},dd.pureFunction1={name:"\u0275pureFunction1",moduleName:hd},dd.pureFunction2={name:"\u0275pureFunction2",moduleName:hd},dd.pureFunction3={name:"\u0275pureFunction3",moduleName:hd},dd.pureFunction4={name:"\u0275pureFunction4",moduleName:hd},dd.pureFunction5={name:"\u0275pureFunction5",moduleName:hd},dd.pureFunction6={name:"\u0275pureFunction6",moduleName:hd},dd.pureFunction7={name:"\u0275pureFunction7",moduleName:hd},dd.pureFunction8={name:"\u0275pureFunction8",moduleName:hd},dd.pureFunctionV={name:"\u0275pureFunctionV",moduleName:hd},dd.pipeBind1={name:"\u0275pipeBind1",moduleName:hd},dd.pipeBind2={name:"\u0275pipeBind2",moduleName:hd},dd.pipeBind3={name:"\u0275pipeBind3",moduleName:hd},dd.pipeBind4={name:"\u0275pipeBind4",moduleName:hd},dd.pipeBindV={name:"\u0275pipeBindV",moduleName:hd},dd.i18n={name:"\u0275i18n",moduleName:hd},dd.i18nAttributes={name:"\u0275i18nAttributes",moduleName:hd},dd.i18nExp={name:"\u0275i18nExp",moduleName:hd},dd.i18nStart={name:"\u0275i18nStart",moduleName:hd},dd.i18nEnd={name:"\u0275i18nEnd",moduleName:hd},dd.i18nApply={name:"\u0275i18nApply",moduleName:hd},dd.i18nPostprocess={name:"\u0275i18nPostprocess",moduleName:hd},dd.load={name:"\u0275load",moduleName:hd},dd.loadQueryList={name:"\u0275loadQueryList",moduleName:hd},dd.pipe={name:"\u0275pipe",moduleName:hd},dd.projection={name:"\u0275projection",moduleName:hd},dd.projectionDef={name:"\u0275projectionDef",moduleName:hd},dd.reference={name:"\u0275reference",moduleName:hd},dd.inject={name:"inject",moduleName:hd},dd.injectAttribute={name:"\u0275injectAttribute",moduleName:hd},dd.directiveInject={name:"\u0275directiveInject",moduleName:hd},dd.templateRefExtractor={name:"\u0275templateRefExtractor",moduleName:hd},dd.defineBase={name:"\u0275defineBase",moduleName:hd},dd.BaseDef={name:"\u0275BaseDef",moduleName:hd},dd.defineComponent={name:"\u0275defineComponent",moduleName:hd},dd.ComponentDefWithMeta={name:"\u0275ComponentDefWithMeta",moduleName:hd},dd.defineDirective={name:"\u0275defineDirective",moduleName:hd},dd.DirectiveDefWithMeta={name:"\u0275DirectiveDefWithMeta",moduleName:hd},dd.InjectorDef={name:"\u0275InjectorDef",moduleName:hd},dd.defineInjector={name:"defineInjector",moduleName:hd},dd.NgModuleDefWithMeta={name:"\u0275NgModuleDefWithMeta",moduleName:hd},dd.defineNgModule={name:"\u0275defineNgModule",moduleName:hd},dd.PipeDefWithMeta={name:"\u0275PipeDefWithMeta",moduleName:hd},dd.definePipe={name:"\u0275definePipe",moduleName:hd},dd.query={name:"\u0275query",moduleName:hd},dd.queryRefresh={name:"\u0275queryRefresh",moduleName:hd},dd.registerContentQuery={name:"\u0275registerContentQuery",moduleName:hd},dd.NgOnChangesFeature={name:"\u0275NgOnChangesFeature",moduleName:hd},dd.InheritDefinitionFeature={name:"\u0275InheritDefinitionFeature",moduleName:hd},dd.ProvidersFeature={name:"\u0275ProvidersFeature",moduleName:hd},dd.listener={name:"\u0275listener",moduleName:hd},dd.getFactoryOf={name:"\u0275getFactoryOf",moduleName:hd},dd.getInheritedFactory={name:"\u0275getInheritedFactory",moduleName:hd},dd.sanitizeHtml={name:"\u0275sanitizeHtml",moduleName:hd},dd.sanitizeStyle={name:"\u0275sanitizeStyle",moduleName:hd},dd.defaultStyleSanitizer={name:"\u0275defaultStyleSanitizer",moduleName:hd},dd.sanitizeResourceUrl={name:"\u0275sanitizeResourceUrl",moduleName:hd},dd.sanitizeScript={name:"\u0275sanitizeScript",moduleName:hd},dd.sanitizeUrl={name:"\u0275sanitizeUrl",moduleName:hd};class pd{constructor(e,t,n,s,r,i){this.nodes=e,this.placeholders=t,this.placeholderToMessage=n,this.meaning=s,this.description=r,this.id=i,e.length?this.sources=[{filePath:e[0].sourceSpan.start.file.url,startLine:e[0].sourceSpan.start.line+1,startCol:e[0].sourceSpan.start.col+1,endLine:e[e.length-1].sourceSpan.end.line+1,endCol:e[0].sourceSpan.start.col+1}]:this.sources=[]}}class md{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitText(this,t)}}class fd{constructor(e,t){this.children=e,this.sourceSpan=t}visit(e,t){return e.visitContainer(this,t)}}class gd{constructor(e,t,n,s){this.expression=e,this.type=t,this.cases=n,this.sourceSpan=s}visit(e,t){return e.visitIcu(this,t)}}class vd{constructor(e,t,n,s,r,i,o){this.tag=e,this.attrs=t,this.startName=n,this.closeName=s,this.children=r,this.isVoid=i,this.sourceSpan=o}visit(e,t){return e.visitTagPlaceholder(this,t)}}class yd{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitPlaceholder(this,t)}}class _d{constructor(e,t,n){this.value=e,this.name=t,this.sourceSpan=n}visit(e,t){return e.visitIcuPlaceholder(this,t)}}class wd{visitText(e,t){}visitContainer(e,t){e.children.forEach(e=>e.visit(this))}visitIcu(e,t){Object.keys(e.cases).forEach(t=>{e.cases[t].visit(this)})}visitTagPlaceholder(e,t){e.children.forEach(e=>e.visit(this))}visitPlaceholder(e,t){}visitIcuPlaceholder(e,t){}}function Ed(e){return e.id||function(e){const t=bh(e),n=function(e,t){const n=Array(e.length+3>>>2);for(let s=0;s<n.length;s++)n[s]=Rd(e,4*s,t);return n}(t,kd.Big),s=8*t.length,r=new Array(80);let[i,o,a,l,c]=[1732584193,4023233417,2562383102,271733878,3285377520];n[s>>5]|=128<<24-s%32,n[15+(s+64>>9<<4)]=s;for(let u=0;u<n.length;u+=16){const[e,t,s,h,d]=[i,o,a,l,c];for(let p=0;p<80;p++){r[p]=p<16?n[u+p]:Od(r[p-3]^r[p-8]^r[p-14]^r[p-16],1);const[e,t]=Td(p,o,a,l),s=[Od(i,5),e,c,t,r[p]].reduce(Nd);[c,l,a,o,i]=[l,a,Od(o,30),i,s]}[i,o,a,l,c]=[Nd(i,e),Nd(o,t),Nd(a,s),Nd(l,h),Nd(c,d)]}return function(e){let t="";for(let n=0;n<e.length;n++){const s=Fd(e,n);t+=(s>>>4).toString(16)+(15&s).toString(16)}return t.toLowerCase()}(Ld([i,o,a,l,c]))}((t=e.nodes,t.map(e=>e.visit(Sd,null))).join("")+`[${e.meaning}]`);var t}function Cd(e){if(e.id)return e.id;const t=new xd;return function(e,t){let[n,s]=Ad(e);if(t){const[e,r]=Ad(t);[n,s]=function([e,t],[n,s]){const[r,i]=Md(t,s);return[Nd(Nd(e,n),r),i]}(function([e,t],n){return[e<<n|t>>>32-n,t<<n|e>>>32-n]}([n,s],1),[e,r])}return function(e){let t="",n="1";for(let s=e.length-1;s>=0;s--)t=$d(t,Vd(Fd(e,s),n)),n=Vd(256,n);return t.split("").reverse().join("")}(Ld([2147483647&n,s]))}(e.nodes.map(e=>e.visit(t,null)).join(""),e.meaning)}class bd{visitText(e,t){return e.value}visitContainer(e,t){return`[${e.children.map(e=>e.visit(this)).join(", ")}]`}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expression}, ${e.type}, ${n.join(", ")}}`}visitTagPlaceholder(e,t){return e.isVoid?`<ph tag name="${e.startName}"/>`:`<ph tag name="${e.startName}">${e.children.map(e=>e.visit(this)).join(", ")}</ph name="${e.closeName}">`}visitPlaceholder(e,t){return e.value?`<ph name="${e.name}">${e.value}</ph>`:`<ph name="${e.name}"/>`}visitIcuPlaceholder(e,t){return`<ph icu name="${e.name}">${e.value.visit(this)}</ph>`}}const Sd=new bd;class xd extends bd{visitIcu(e,t){let n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.type}, ${n.join(", ")}}`}}function Td(e,t,n,s){return e<20?[t&n|~t&s,1518500249]:e<40?[t^n^s,1859775393]:e<60?[t&n|t&s|n&s,2400959708]:[t^n^s,3395469782]}function Ad(e){const t=bh(e);let[n,s]=[Dd(t,0),Dd(t,102072)];return 0!=n||0!=s&&1!=s||(n^=319790063,s^=-1801410264),[n,s]}function Dd(e,t){let n,[s,r]=[2654435769,2654435769];const i=e.length;for(n=0;n+12<=i;n+=12)s=Nd(s,Rd(e,n,kd.Little)),r=Nd(r,Rd(e,n+4,kd.Little)),t=Nd(t,Rd(e,n+8,kd.Little)),[s,r,t]=Pd([s,r,t]);return s=Nd(s,Rd(e,n,kd.Little)),r=Nd(r,Rd(e,n+4,kd.Little)),t=Nd(t,i),Pd([s,r,t=Nd(t,Rd(e,n+8,kd.Little)<<8)])[2]}function Pd([e,t,n]){return e=Id(e,t),e=Id(e,n),e^=n>>>13,t=Id(t,n),t=Id(t,e),t^=e<<8,n=Id(n,e),n=Id(n,t),n^=t>>>13,e=Id(e,t),e=Id(e,n),e^=n>>>12,t=Id(t,n),t=Id(t,e),t^=e<<16,n=Id(n,e),n=Id(n,t),n^=t>>>5,e=Id(e,t),e=Id(e,n),e^=n>>>3,t=Id(t,n),t=Id(t,e),t^=e<<10,n=Id(n,e),n=Id(n,t),[e,t,n^=t>>>15]}var kd;function Nd(e,t){return Md(e,t)[1]}function Md(e,t){const n=(65535&e)+(65535&t),s=(e>>>16)+(t>>>16)+(n>>>16);return[s>>>16,s<<16|65535&n]}function Id(e,t){const n=(65535&e)-(65535&t);return(e>>16)-(t>>16)+(n>>16)<<16|65535&n}function Od(e,t){return e<<t|e>>>32-t}function Fd(e,t){return t>=e.length?0:255&e.charCodeAt(t)}function Rd(e,t,n){let s=0;if(n===kd.Big)for(let r=0;r<4;r++)s+=Fd(e,t+r)<<24-8*r;else for(let r=0;r<4;r++)s+=Fd(e,t+r)<<8*r;return s}function Ld(e){return e.reduce((e,t)=>e+function(e){let t="";for(let n=0;n<4;n++)t+=String.fromCharCode(e>>>8*(3-n)&255);return t}(t),"")}function $d(e,t){let n="";const s=Math.max(e.length,t.length);for(let r=0,i=0;r<s||i;r++){const s=i+ +(e[r]||0)+ +(t[r]||0);s>=10?(i=1,n+=s-10):(i=0,n+=s)}return n}function Vd(e,t){let n="",s=t;for(;0!==e;e>>>=1)1&e&&(n=$d(n,s)),s=$d(s,s);return n}!function(e){e[e.Little=0]="Little",e[e.Big=1]="Big"}(kd||(kd={}));class Bd{createNameMapper(e){return null}}class jd extends wd{constructor(e,t){super(),this.mapName=t,this.internalToPublic={},this.publicToNextId={},this.publicToInternal={},e.nodes.forEach(e=>e.visit(this))}toPublicName(e){return this.internalToPublic.hasOwnProperty(e)?this.internalToPublic[e]:null}toInternalName(e){return this.publicToInternal.hasOwnProperty(e)?this.publicToInternal[e]:null}visitText(e,t){return null}visitTagPlaceholder(e,t){this.visitPlaceholderName(e.startName),super.visitTagPlaceholder(e,t),this.visitPlaceholderName(e.closeName)}visitPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitIcuPlaceholder(e,t){this.visitPlaceholderName(e.name)}visitPlaceholderName(e){if(!e||this.internalToPublic.hasOwnProperty(e))return;let t=this.mapName(e);if(this.publicToInternal.hasOwnProperty(t)){const e=this.publicToNextId[t];this.publicToNextId[t]=e+1,t=`${t}_${e}`}else this.publicToNextId[t]=1;this.internalToPublic[e]=t,this.publicToInternal[t]=e}}const Ud=new class{visitTag(e){const t=this._serializeAttributes(e.attrs);if(0==e.children.length)return`<${e.name}${t}/>`;const n=e.children.map(e=>e.visit(this));return`<${e.name}${t}>${n.join("")}</${e.name}>`}visitText(e){return e.value}visitDeclaration(e){return`<?xml${this._serializeAttributes(e.attrs)} ?>`}_serializeAttributes(e){const t=Object.keys(e).map(t=>`${t}="${e[t]}"`).join(" ");return t.length>0?" "+t:""}visitDoctype(e){return`<!DOCTYPE ${e.rootTag} [\n${e.dtd}\n]>`}};function Hd(e){return e.map(e=>e.visit(Ud)).join("")}class qd{constructor(e){this.attrs={},Object.keys(e).forEach(t=>{this.attrs[t]=Zd(e[t])})}visit(e){return e.visitDeclaration(this)}}class zd{constructor(e,t){this.rootTag=e,this.dtd=t}visit(e){return e.visitDoctype(this)}}class Wd{constructor(e,t={},n=[]){this.name=e,this.children=n,this.attrs={},Object.keys(t).forEach(e=>{this.attrs[e]=Zd(t[e])})}visit(e){return e.visitTag(this)}}class Gd{constructor(e){this.value=Zd(e)}visit(e){return e.visitText(this)}}class Kd extends Gd{constructor(e=0){super(`\n${new Array(e+1).join(" ")}`)}}const Qd=[[/&/g,"&amp;"],[/"/g,"&quot;"],[/'/g,"&apos;"],[/</g,"&lt;"],[/>/g,"&gt;"]];function Zd(e){return Qd.reduce((e,t)=>e.replace(t[0],t[1]),e)}const Xd="messagebundle",Yd="msg",Jd="ph",ep="ex",tp="source",np='<!ELEMENT messagebundle (msg)*>\n<!ATTLIST messagebundle class CDATA #IMPLIED>\n\n<!ELEMENT msg (#PCDATA|ph|source)*>\n<!ATTLIST msg id CDATA #IMPLIED>\n<!ATTLIST msg seq CDATA #IMPLIED>\n<!ATTLIST msg name CDATA #IMPLIED>\n<!ATTLIST msg desc CDATA #IMPLIED>\n<!ATTLIST msg meaning CDATA #IMPLIED>\n<!ATTLIST msg obsolete (obsolete) #IMPLIED>\n<!ATTLIST msg xml:space (default|preserve) "default">\n<!ATTLIST msg is_hidden CDATA #IMPLIED>\n\n<!ELEMENT source (#PCDATA)>\n\n<!ELEMENT ph (#PCDATA|ex)*>\n<!ATTLIST ph name CDATA #REQUIRED>\n\n<!ELEMENT ex (#PCDATA)>';class sp extends Bd{write(e,t){const n=new op,s=new rp;let r=new Wd(Xd);return e.forEach(e=>{const t={id:e.id};e.description&&(t.desc=e.description),e.meaning&&(t.meaning=e.meaning);let n=[];e.sources.forEach(e=>{n.push(new Wd(tp,{},[new Gd(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),r.children.push(new Kd(2),new Wd(Yd,t,[...n,...s.serialize(e.nodes)]))}),r.children.push(new Kd),Hd([new qd({version:"1.0",encoding:"UTF-8"}),new Kd,new zd(Xd,np),new Kd,n.addDefaultExamples(r),new Kd])}load(e,t){throw new Error("Unsupported")}digest(e){return ip(e)}createNameMapper(e){return new jd(e,ap)}}class rp{visitText(e,t){return[new Gd(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Gd(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Gd(`${t} {`),...e.cases[t].visit(this),new Gd("} "))}),n.push(new Gd("}")),n}visitTagPlaceholder(e,t){const n=new Gd(`<${e.tag}>`),s=new Wd(ep,{},[n]),r=new Wd(Jd,{name:e.startName},[s,n]);if(e.isVoid)return[r];const i=new Gd(`</${e.tag}>`),o=new Wd(ep,{},[i]),a=new Wd(Jd,{name:e.closeName},[o,i]);return[r,...this.serialize(e.children),a]}visitPlaceholder(e,t){const n=new Gd(`{{${e.value}}}`),s=new Wd(ep,{},[n]);return[new Wd(Jd,{name:e.name},[s,n])]}visitIcuPlaceholder(e,t){const n=e.value.expression,s=e.value.type,r=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),i=new Gd(`{${n}, ${s}, ${r}}`),o=new Wd(ep,{},[i]);return[new Wd(Jd,{name:e.name},[o,i])]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}function ip(e){return Cd(e)}class op{addDefaultExamples(e){return e.visit(this),e}visitTag(e){if(e.name===Jd){if(!e.children||0==e.children.length){const t=new Gd(e.attrs.name||"...");e.children=[new Wd(ep,{},[t])]}}else e.children&&e.children.forEach(e=>e.visit(this))}visitText(e){}visitDeclaration(e){}visitDoctype(e){}}function ap(e){return e.toUpperCase().replace(/[^A-Z0-9_]/g,"_")}function lp(e,t=!1){return rh(Object.keys(e).map(n=>({key:n,quoted:t,value:e[n]})))}const cp="MSG_",up="goog.getMsg",hp="BACKUP_MESSAGE_ID",dp=new RegExp(hp),pp="|",mp="@@",fp="i18n",gp="i18n-",vp="VAR_",yp="I18N_EXP_",_p="\ufffd";function wp(e,t,n){const s=[ah(t)];n&&Object.keys(n).length&&s.push(lp(n,!0));const r=Ju(up).callFn(s);return e.set(r).toDeclStmt(Zc,[Mu.Final])}function Ep(e){return e===fp||e.startsWith(gp)}function Cp(e){return e instanceof pd}function bp(e){return Cp(e)&&1===e.nodes.length&&e.nodes[0]instanceof gd}function Sp(e){return{id:e.id||"",meaning:e.meaning||"",description:e.description||""}}function xp(e){return e.nodes[0]}function Tp(e,t=0){return`${_p}${e}${t>0?`:${t}`:""}${_p}`}function Ap(e){const t={};return e.forEach((e,n)=>{t[n]=ah(e.length>1?`[${e.join("|")}]`:e[0])}),t}function Dp(e,t,...n){const s=e.get(t)||[];s.push(...n),e.set(t,s)}function Pp(e,t=0,n=0){const s=t,r=new Map,i=e instanceof pd?e.nodes.find(e=>e instanceof fd):e;return i&&i.children.filter(e=>e instanceof yd).forEach((e,t)=>{const i=Tp(s+t,n);Dp(r,e.name,i)}),r}function kp(e){const t=ap(e).split("_");if(1===t.length)return e.toLowerCase();let n;/^\d+$/.test(t[t.length-1])&&(n=t.pop());let s=t.shift().toLowerCase();return t.length&&(s+=t.map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join("")),n?`${s}_${n}`:s}function Np(e,t,n,s={},r){const i=[],o=function(e){const t=[],{id:n,description:s,meaning:r}=e;if(n||s){const e=!!s&&dp.test(s),r=n&&!e?`[${hp}:${n}] ${s||""}`:s;t.push({tagName:"desc",text:r.trim()})}return r&&t.push({tagName:"meaning",text:r}),0==t.length?null:new Hu(t)}(n);if(o&&i.push(o),r){const n=Ju(`${e.name}_RAW`);i.push(wp(n,t,s)),i.push(e.set(r(n)).toDeclStmt(Zc,[Mu.Final]))}else i.push(wp(e,t,s));return i}const Mp="_t",Ip="ctx",Op="rf",Fp="_r",Rp="$implicit",Lp="ngNonBindable";function $p(e,t){let n=null;return()=>(n||(e.push(new Ou(Mp,void 0,Qc)),n=Ju(t)),n)}function Vp(e){if(this)throw new Error(`Builder ${this.constructor.name} doesn't support ${e} yet`);throw new Error(`Feature ${e} is not supported yet`)}function Bp(e){throw new Error(`Invalid state: Visitor ${this.constructor.name} doesn't handle undefined`)}function jp(e){return Array.isArray(e)?sh(e.map(jp)):ah(e,Zc)}function Up(e){return Object.getOwnPropertyNames(e).length>0?function(e,t=!1){return rh(Object.getOwnPropertyNames(e).map(n=>({key:n,quoted:t,value:jp(e[n])})))}(e):null}function Hp(e){for(;(t=e[e.length-1])instanceof fu&&null===t.value;)e.pop();var t;return e}class qp{constructor(){this.values=[]}set(e,t){t&&this.values.push({key:e,value:t,quoted:!1})}toLiteralMap(){return rh(this.values)}}function zp(e){const t={};return e.attributes.forEach(e=>{Ep(e.name)||(t[e.name]=e.value)}),e.inputs.forEach(e=>{t[e.name]=""}),e.outputs.forEach(e=>{t[e.name]=""}),t}var Wp,Gp;function Kp(e){const t=Ju("t"),n=[],s=Zp(e)?t:new bu(eu.Or,t,e.type);let r=null;if(null!==e.deps)r=new mu(s,Qp(e.deps,e.injectFn));else{const t=Ju(`\u0275${e.name}_BaseFactory`),i=eh(dd.getInheritedFactory),o=t.set(i.callFn([e.type])).toDeclStmt(Zc,[Mu.Exported,Mu.Final]);n.push(o),r=t.callFn([s])}const i=r,o=[];let a=null;function l(e){const n=Ju("r");return o.push(n.set(ku).toDeclStmt()),o.push(oh(t,[n.set(i).toStmt()],[n.set(e).toStmt()])),n}if(Zp(e)&&e.delegateType===Wp.Factory){const t=Ju(`\u0275${e.name}_BaseFactory`),s=eh(dd.getFactoryOf);if(e.delegate.isEquivalent(e.type))throw new Error("Illegal state: compiling factory that delegates to itself");const r=t.set(s.callFn([e.delegate])).toDeclStmt(Zc,[Mu.Exported,Mu.Final]);n.push(r),a=l(t.callFn([]))}else if(Zp(e)){const t=Qp(e.delegateDeps,e.injectFn);a=l(new(e.delegateType===Wp.Class?mu:pu)(e.delegate,t))}else if(function(e){return void 0!==e.expression}(e))a=l(e.expression);else if(e.extraStatementFn){const e=Ju("f");o.push(e.set(r).toDeclStmt()),a=e}else a=r;if(e.extraStatementFn){const t=e.extraStatementFn(a);o.push(...t)}return{factory:ih([new Eu("t",Qc)],[...o,new Lu(a)],Zc,void 0,`${e.name}_Factory`),statements:n}}function Qp(e,t){return e.map(e=>(function(e,t){switch(e.resolved){case Gp.Token:{const n=0|(e.self?2:0)|(e.skipSelf?4:0)|(e.host?1:0)|(e.optional?8:0),s=[e.token];return(0!==n||e.optional)&&s.push(ah(n)),eh(t).callFn(s)}case Gp.Attribute:return eh(dd.injectAttribute).callFn([e.token]);default:return Vp(`Unknown R3ResolvedDependencyType: ${Gp[e.resolved]}`)}})(e,t))}function Zp(e){return void 0!==e.delegateType}function Xp(e){return rh(Object.keys(e).map(t=>({key:t,value:e[t],quoted:!1})))}!function(e){e[e.Class=0]="Class",e[e.Function=1]="Function",e[e.Factory=2]="Factory"}(Wp||(Wp={})),function(e){e[e.Token=0]="Token",e[e.Attribute=1]="Attribute"}(Gp||(Gp={}));const Yp=3,Jp="# sourceMappingURL=data:application/json;base64,";class em{constructor(e=null){this.file=e,this.sourcesContent=new Map,this.lines=[],this.lastCol0=0,this.hasMappings=!1}addSource(e,t=null){return this.sourcesContent.has(e)||this.sourcesContent.set(e,t),this}addLine(){return this.lines.push([]),this.lastCol0=0,this}addMapping(e,t,n,s){if(!this.currentLine)throw new Error("A line must be added before mappings can be added");if(null!=t&&!this.sourcesContent.has(t))throw new Error(`Unknown source file "${t}"`);if(null==e)throw new Error("The column in the generated code must be provided");if(e<this.lastCol0)throw new Error("Mapping should be added in output order");if(t&&(null==n||null==s))throw new Error("The source location must be provided when a source url is provided");return this.hasMappings=!0,this.lastCol0=e,this.currentLine.push({col0:e,sourceUrl:t,sourceLine0:n,sourceCol0:s}),this}get currentLine(){return this.lines.slice(-1)[0]}toJSON(){if(!this.hasMappings)return null;const e=new Map,t=[],n=[];Array.from(this.sourcesContent.keys()).forEach((s,r)=>{e.set(s,r),t.push(s),n.push(this.sourcesContent.get(s)||null)});let s="",r=0,i=0,o=0,a=0;return this.lines.forEach(t=>{r=0,s+=t.map(t=>{let n=tm(t.col0-r);return r=t.col0,null!=t.sourceUrl&&(n+=tm(e.get(t.sourceUrl)-i),i=e.get(t.sourceUrl),n+=tm(t.sourceLine0-o),o=t.sourceLine0,n+=tm(t.sourceCol0-a),a=t.sourceCol0),n}).join(","),s+=";"}),s=s.slice(0,-1),{file:this.file||"",version:Yp,sourceRoot:"",sources:t,sourcesContent:n,mappings:s}}toJsComment(){return this.hasMappings?"//"+Jp+function(e){let t="";e=bh(e);for(let n=0;n<e.length;){const s=e.charCodeAt(n++),r=e.charCodeAt(n++),i=e.charCodeAt(n++);t+=sm(s>>2),t+=sm((3&s)<<4|(isNaN(r)?0:r>>4)),t+=isNaN(r)?"=":sm((15&r)<<2|i>>6),t+=isNaN(r)||isNaN(i)?"=":sm(63&i)}return t}(JSON.stringify(this,null,0)):""}}function tm(e){e=e<0?1+(-e<<1):e<<1;let t="";do{let n=31&e;(e>>=5)>0&&(n|=32),t+=sm(n)}while(e>0);return t}const nm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function sm(e){if(e<0||e>=64)throw new Error("Can only encode value in the range [0, 63]");return nm[e]}const rm=/'|\\|\n|\r|\$/g,im=/^[$A-Z_][0-9A-Z_$]*$/i,om="  ",am=Ju("error",null,null),lm=Ju("stack",null,null);class cm{constructor(e){this.indent=e,this.partsLength=0,this.parts=[],this.srcSpans=[]}}class um{constructor(e){this._indent=e,this._classes=[],this._preambleLineCount=0,this._lines=[new cm(e)]}static createRoot(){return new um(0)}get _currentLine(){return this._lines[this._lines.length-1]}println(e,t=""){this.print(e||null,t,!0)}lineIsEmpty(){return 0===this._currentLine.parts.length}lineLength(){return this._currentLine.indent*om.length+this._currentLine.partsLength}print(e,t,n=!1){t.length>0&&(this._currentLine.parts.push(t),this._currentLine.partsLength+=t.length,this._currentLine.srcSpans.push(e&&e.sourceSpan||null)),n&&this._lines.push(new cm(this._indent))}removeEmptyLastLine(){this.lineIsEmpty()&&this._lines.pop()}incIndent(){this._indent++,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}decIndent(){this._indent--,this.lineIsEmpty()&&(this._currentLine.indent=this._indent)}pushClass(e){this._classes.push(e)}popClass(){return this._classes.pop()}get currentClass(){return this._classes.length>0?this._classes[this._classes.length-1]:null}toSource(){return this.sourceLines.map(e=>e.parts.length>0?pm(e.indent)+e.parts.join(""):"").join("\n")}toSourceMapGenerator(e,t=0){const n=new em(e);let s=!1;const r=()=>{s||(n.addSource(e," ").addMapping(0,e,0,0),s=!0)};for(let i=0;i<t;i++)n.addLine(),r();return this.sourceLines.forEach((e,t)=>{n.addLine();const i=e.srcSpans,o=e.parts;let a=e.indent*om.length,l=0;for(;l<i.length&&!i[l];)a+=o[l].length,l++;for(l<i.length&&0===t&&0===a?s=!0:r();l<i.length;){const e=i[l],t=e.start.file,s=e.start.line,r=e.start.col;for(n.addSource(t.url,t.content).addMapping(a,t.url,s,r),a+=o[l].length,l++;l<i.length&&(e===i[l]||!i[l]);)a+=o[l].length,l++}}),n}setPreambleLineCount(e){return this._preambleLineCount=e}spanOf(e,t){const n=this._lines[e-this._preambleLineCount];if(n){let e=t-pm(n.indent).length;for(let t=0;t<n.parts.length;t++){const s=n.parts[t];if(s.length>e)return n.srcSpans[t];e-=s.length}}return null}get sourceLines(){return this._lines.length&&0===this._lines[this._lines.length-1].parts.length?this._lines.slice(0,-1):this._lines}}class hm{constructor(e){this._escapeDollarInStrings=e}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t),t.println(e,";"),null}visitReturnStmt(e,t){return t.print(e,"return "),e.value.visitExpression(this,t),t.println(e,";"),null}visitIfStmt(e,t){t.print(e,"if ("),e.condition.visitExpression(this,t),t.print(e,") {");const n=null!=e.falseCase&&e.falseCase.length>0;return e.trueCase.length<=1&&!n?(t.print(e," "),this.visitAllStatements(e.trueCase,t),t.removeEmptyLastLine(),t.print(e," ")):(t.println(),t.incIndent(),this.visitAllStatements(e.trueCase,t),t.decIndent(),n&&(t.println(e,"} else {"),t.incIndent(),this.visitAllStatements(e.falseCase,t),t.decIndent())),t.println(e,"}"),null}visitThrowStmt(e,t){return t.print(e,"throw "),e.error.visitExpression(this,t),t.println(e,";"),null}visitCommentStmt(e,t){return e.multiline?t.println(e,`/* ${e.comment} */`):e.comment.split("\n").forEach(n=>{t.println(e,`// ${n}`)}),null}visitJSDocCommentStmt(e,t){return t.println(e,`/*${e.toString()}*/`),null}visitWriteVarExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),t.print(e,`${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWriteKeyExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"] = "),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitWritePropExpr(e,t){const n=t.lineIsEmpty();return n||t.print(e,"("),e.receiver.visitExpression(this,t),t.print(e,`.${e.name} = `),e.value.visitExpression(this,t),n||t.print(e,")"),null}visitInvokeMethodExpr(e,t){e.receiver.visitExpression(this,t);let n=e.name;return null!=e.builtin&&null==(n=this.getBuiltinMethodName(e.builtin))?null:(t.print(e,`.${n}(`),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null)}visitInvokeFunctionExpr(e,t){return e.fn.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitWrappedNodeExpr(e,t){throw new Error("Abstract emitter cannot visit WrappedNodeExpr.")}visitTypeofExpr(e,t){t.print(e,"typeof "),e.expr.visitExpression(this,t)}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case tu.Super:n="super";break;case tu.This:n="this";break;case tu.CatchError:n=am.name;break;case tu.CatchStack:n=lm.name;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}return t.print(e,n),null}visitInstantiateExpr(e,t){return t.print(e,"new "),e.classExpr.visitExpression(this,t),t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitLiteralExpr(e,t){const n=e.value;return"string"==typeof n?t.print(e,dm(n,this._escapeDollarInStrings)):t.print(e,`${n}`),null}visitConditionalExpr(e,t){return t.print(e,"("),e.condition.visitExpression(this,t),t.print(e,"? "),e.trueCase.visitExpression(this,t),t.print(e,": "),e.falseCase.visitExpression(this,t),t.print(e,")"),null}visitNotExpr(e,t){return t.print(e,"!"),e.condition.visitExpression(this,t),null}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t),null}visitBinaryOperatorExpr(e,t){let n;switch(e.operator){case eu.Equals:n="==";break;case eu.Identical:n="===";break;case eu.NotEquals:n="!=";break;case eu.NotIdentical:n="!==";break;case eu.And:n="&&";break;case eu.BitwiseAnd:n="&";break;case eu.Or:n="||";break;case eu.Plus:n="+";break;case eu.Minus:n="-";break;case eu.Divide:n="/";break;case eu.Multiply:n="*";break;case eu.Modulo:n="%";break;case eu.Lower:n="<";break;case eu.LowerEquals:n="<=";break;case eu.Bigger:n=">";break;case eu.BiggerEquals:n=">=";break;default:throw new Error(`Unknown operator ${e.operator}`)}return e.parens&&t.print(e,"("),e.lhs.visitExpression(this,t),t.print(e,` ${n} `),e.rhs.visitExpression(this,t),e.parens&&t.print(e,")"),null}visitReadPropExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"."),t.print(e,e.name),null}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t),t.print(e,"["),e.index.visitExpression(this,t),t.print(e,"]"),null}visitLiteralArrayExpr(e,t){return t.print(e,"["),this.visitAllExpressions(e.entries,t,","),t.print(e,"]"),null}visitLiteralMapExpr(e,t){return t.print(e,"{"),this.visitAllObjects(n=>{t.print(e,`${dm(n.key,this._escapeDollarInStrings,n.quoted)}:`),n.value.visitExpression(this,t)},e.entries,t,","),t.print(e,"}"),null}visitCommaExpr(e,t){return t.print(e,"("),this.visitAllExpressions(e.parts,t,","),t.print(e,")"),null}visitAllExpressions(e,t,n){this.visitAllObjects(e=>e.visitExpression(this,t),e,t,n)}visitAllObjects(e,t,n,s){let r=!1;for(let i=0;i<t.length;i++)i>0&&(n.lineLength()>80?(n.print(null,s,!0),r||(n.incIndent(),n.incIndent(),r=!0)):n.print(null,s,!1)),e(t[i]);r&&(n.decIndent(),n.decIndent())}visitAllStatements(e,t){e.forEach(e=>e.visitStatement(this,t))}}function dm(e,t,n=!0){if(null==e)return null;const s=e.replace(rm,(...e)=>"$"==e[0]?t?"\\$":"$":"\n"==e[0]?"\\n":"\r"==e[0]?"\\r":`\\${e[0]}`);return n||!im.test(s)?`'${s}'`:s}function pm(e){let t="";for(let n=0;n<e;n++)t+=om;return t}class mm extends hm{constructor(){super(!1)}visitDeclareClassStmt(e,t){return t.pushClass(e),this._visitClassConstructor(e,t),null!=e.parent&&(t.print(e,`${e.name}.prototype = Object.create(`),e.parent.visitExpression(this,t),t.println(e,".prototype);")),e.getters.forEach(n=>this._visitClassGetter(e,n,t)),e.methods.forEach(n=>this._visitClassMethod(e,n,t)),t.popClass(),null}_visitClassConstructor(e,t){t.print(e,`function ${e.name}(`),null!=e.constructorMethod&&this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),null!=e.constructorMethod&&e.constructorMethod.body.length>0&&(t.println(e,"var self = this;"),this.visitAllStatements(e.constructorMethod.body,t)),t.decIndent(),t.println(e,"}")}_visitClassGetter(e,t,n){n.println(e,`Object.defineProperty(${e.name}.prototype, '${t.name}', { get: function() {`),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"}});")}_visitClassMethod(e,t,n){n.print(e,`${e.name}.prototype.${t.name} = function(`),this._visitParams(t.params,n),n.println(e,") {"),n.incIndent(),t.body.length>0&&(n.println(e,"var self = this;"),this.visitAllStatements(t.body,n)),n.decIndent(),n.println(e,"};")}visitWrappedNodeExpr(e,t){throw new Error("Cannot emit a WrappedNodeExpr in Javascript.")}visitReadVarExpr(e,t){if(e.builtin===tu.This)t.print(e,"self");else{if(e.builtin===tu.Super)throw new Error("'super' needs to be handled at a parent ast node, not at the variable level!");super.visitReadVarExpr(e,t)}return null}visitDeclareVarStmt(e,t){return t.print(e,`var ${e.name}`),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitCastExpr(e,t){return e.value.visitExpression(this,t),null}visitInvokeFunctionExpr(e,t){const n=e.fn;return n instanceof ou&&n.builtin===tu.Super?(t.currentClass.parent.visitExpression(this,t),t.print(e,".call(this"),e.args.length>0&&(t.print(e,", "),this.visitAllExpressions(e.args,t,",")),t.print(e,")")):super.visitInvokeFunctionExpr(e,t),null}visitFunctionExpr(e,t){return t.print(e,`function${e.name?" "+e.name:""}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${am.name}) {`),t.incIndent();const n=[lm.set(am.prop("stack")).toDeclStmt(null,[Mu.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}_visitParams(e,t){this.visitAllObjects(e=>t.print(null,e.name),e,t,",")}getBuiltinMethodName(e){let t;switch(e){case nu.ConcatArray:t="concat";break;case nu.SubscribeObservable:t="subscribe";break;case nu.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}}function fm(e,t,n,s){const r=new gm(n),i=um.createRoot();return r.visitAllStatements(t,i),r.createReturnStmt(i),function(e,t,n,s){let r=`${t.toSource()}\n//# sourceURL=${e}`;const i=[],o=[];for(const a in n)i.push(a),o.push(n[a]);if(s){const n=new Function(...i.concat("return null;")).toString(),s=n.slice(0,n.indexOf("return null;")).split("\n").length-1;r+=`\n${t.toSourceMapGenerator(e,s).toJsComment()}`}return new Function(...i.concat(r))(...o)}(e,i,r.getArgs(),s)}class gm extends mm{constructor(e){super(),this.reflector=e,this._evalArgNames=[],this._evalArgValues=[],this._evalExportedVars=[]}createReturnStmt(e){new Lu(new Du(this._evalExportedVars.map(e=>new Au(e,Ju(e),!1)))).visitStatement(this,e)}getArgs(){const e={};for(let t=0;t<this._evalArgNames.length;t++)e[this._evalArgNames[t]]=this._evalArgValues[t];return e}visitExternalExpr(e,t){return this._emitReferenceToExternal(e,this.reflector.resolveExternalReference(e.value),t),null}visitWrappedNodeExpr(e,t){return this._emitReferenceToExternal(e,e.node,t),null}visitDeclareVarStmt(e,t){return e.hasModifier(Mu.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareVarStmt(e,t)}visitDeclareFunctionStmt(e,t){return e.hasModifier(Mu.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareFunctionStmt(e,t)}visitDeclareClassStmt(e,t){return e.hasModifier(Mu.Exported)&&this._evalExportedVars.push(e.name),super.visitDeclareClassStmt(e,t)}_emitReferenceToExternal(e,t,n){let s=this._evalArgValues.indexOf(t);if(-1===s){s=this._evalArgValues.length,this._evalArgValues.push(t);const e=Wh({reference:t})||"val";this._evalArgNames.push(`jit_${e}_${s}`)}n.print(e,this._evalArgNames[s])}}class vm{constructor(e){this.context=e}resolveExternalReference(e){if("@angular/core"!==e.moduleName)throw new Error(`Cannot resolve external reference to ${e.moduleName}, only references to @angular/core are supported.`);if(!this.context.hasOwnProperty(e.name))throw new Error(`No value provided for @angular/core symbol '${e.name}'.`);return this.context[e.name]}parameters(e){throw new Error("Not implemented.")}annotations(e){throw new Error("Not implemented.")}shallowAnnotations(e){throw new Error("Not implemented.")}tryAnnotations(e){throw new Error("Not implemented.")}propMetadata(e){throw new Error("Not implemented.")}hasLifecycleHook(e,t){throw new Error("Not implemented.")}guards(e){throw new Error("Not implemented.")}componentModuleUrl(e,t){throw new Error("Not implemented.")}}function ym(e,t,n,s){return fm(n,[...s,new Ou("$def",e,void 0,[Mu.Exported])],new vm(t),!1).$def}function _m(e){const t=e.map(e=>(function(e){return new au(e)})(e.type));return e.length>0?nh(sh(t)):Jc}function wm(e){const t=[];t.push({key:"name",value:ah(e.pipeName),quoted:!1}),t.push({key:"type",value:e.type,quoted:!1});const n=Kp({name:e.name,type:e.type,deps:e.deps,injectFn:dd.directiveInject,extraStatementFn:null});return t.push({key:"factory",value:n.factory,quoted:!1}),t.push({key:"pure",value:ah(e.pure),quoted:!1}),{expression:eh(dd.definePipe).callFn([rh(t)]),type:new Wc(eh(dd.PipeDefWithMeta,[new Wc(e.type),new Wc(new fu(e.pipeName))])),statements:n.statements}}class Em{constructor(e,t,n,s){this.input=t,this.errLocation=n,this.ctxLocation=s,this.message=`Parser Error: ${e} ${n} [${t}] in ${s}`}}class Cm{constructor(e,t){this.start=e,this.end=t}}class bm{constructor(e){this.span=e}visit(e,t=null){return null}toString(){return"AST"}}class Sm extends bm{constructor(e,t,n,s){super(e),this.prefix=t,this.uninterpretedExpression=n,this.location=s}visit(e,t=null){return e.visitQuote(this,t)}toString(){return"Quote"}}class xm extends bm{visit(e,t=null){}}class Tm extends bm{visit(e,t=null){return e.visitImplicitReceiver(this,t)}}class Am extends bm{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitChain(this,t)}}class Dm extends bm{constructor(e,t,n,s){super(e),this.condition=t,this.trueExp=n,this.falseExp=s}visit(e,t=null){return e.visitConditional(this,t)}}class Pm extends bm{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitPropertyRead(this,t)}}class km extends bm{constructor(e,t,n,s){super(e),this.receiver=t,this.name=n,this.value=s}visit(e,t=null){return e.visitPropertyWrite(this,t)}}class Nm extends bm{constructor(e,t,n){super(e),this.receiver=t,this.name=n}visit(e,t=null){return e.visitSafePropertyRead(this,t)}}class Mm extends bm{constructor(e,t,n){super(e),this.obj=t,this.key=n}visit(e,t=null){return e.visitKeyedRead(this,t)}}class Im extends bm{constructor(e,t,n,s){super(e),this.obj=t,this.key=n,this.value=s}visit(e,t=null){return e.visitKeyedWrite(this,t)}}class Om extends bm{constructor(e,t,n,s){super(e),this.exp=t,this.name=n,this.args=s}visit(e,t=null){return e.visitPipe(this,t)}}class Fm extends bm{constructor(e,t){super(e),this.value=t}visit(e,t=null){return e.visitLiteralPrimitive(this,t)}}class Rm extends bm{constructor(e,t){super(e),this.expressions=t}visit(e,t=null){return e.visitLiteralArray(this,t)}}class Lm extends bm{constructor(e,t,n){super(e),this.keys=t,this.values=n}visit(e,t=null){return e.visitLiteralMap(this,t)}}class $m extends bm{constructor(e,t,n){super(e),this.strings=t,this.expressions=n}visit(e,t=null){return e.visitInterpolation(this,t)}}class Vm extends bm{constructor(e,t,n,s){super(e),this.operation=t,this.left=n,this.right=s}visit(e,t=null){return e.visitBinary(this,t)}}class Bm extends bm{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitPrefixNot(this,t)}}class jm extends bm{constructor(e,t){super(e),this.expression=t}visit(e,t=null){return e.visitNonNullAssert(this,t)}}class Um extends bm{constructor(e,t,n,s){super(e),this.receiver=t,this.name=n,this.args=s}visit(e,t=null){return e.visitMethodCall(this,t)}}class Hm extends bm{constructor(e,t,n,s){super(e),this.receiver=t,this.name=n,this.args=s}visit(e,t=null){return e.visitSafeMethodCall(this,t)}}class qm extends bm{constructor(e,t,n){super(e),this.target=t,this.args=n}visit(e,t=null){return e.visitFunctionCall(this,t)}}class zm extends bm{constructor(e,t,n,s){super(new Cm(0,null==t?0:t.length)),this.ast=e,this.source=t,this.location=n,this.errors=s}visit(e,t=null){return this.ast.visit(e,t)}toString(){return`${this.source} in ${this.location}`}}class Wm{constructor(e,t,n,s,r){this.span=e,this.key=t,this.keyIsVar=n,this.name=s,this.expression=r}}class Gm{visitBinary(e,t){return e.left.visit(this),e.right.visit(this),null}visitChain(e,t){return this.visitAll(e.expressions,t)}visitConditional(e,t){return e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this),null}visitPipe(e,t){return e.exp.visit(this),this.visitAll(e.args,t),null}visitFunctionCall(e,t){return e.target.visit(this),this.visitAll(e.args,t),null}visitImplicitReceiver(e,t){return null}visitInterpolation(e,t){return this.visitAll(e.expressions,t)}visitKeyedRead(e,t){return e.obj.visit(this),e.key.visit(this),null}visitKeyedWrite(e,t){return e.obj.visit(this),e.key.visit(this),e.value.visit(this),null}visitLiteralArray(e,t){return this.visitAll(e.expressions,t)}visitLiteralMap(e,t){return this.visitAll(e.values,t)}visitLiteralPrimitive(e,t){return null}visitMethodCall(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)}visitPrefixNot(e,t){return e.expression.visit(this),null}visitNonNullAssert(e,t){return e.expression.visit(this),null}visitPropertyRead(e,t){return e.receiver.visit(this),null}visitPropertyWrite(e,t){return e.receiver.visit(this),e.value.visit(this),null}visitSafePropertyRead(e,t){return e.receiver.visit(this),null}visitSafeMethodCall(e,t){return e.receiver.visit(this),this.visitAll(e.args,t)}visitAll(e,t){return e.forEach(e=>e.visit(this,t)),null}visitQuote(e,t){return null}}class Km{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){return new $m(e.span,e.strings,this.visitAll(e.expressions))}visitLiteralPrimitive(e,t){return new Fm(e.span,e.value)}visitPropertyRead(e,t){return new Pm(e.span,e.receiver.visit(this),e.name)}visitPropertyWrite(e,t){return new km(e.span,e.receiver.visit(this),e.name,e.value.visit(this))}visitSafePropertyRead(e,t){return new Nm(e.span,e.receiver.visit(this),e.name)}visitMethodCall(e,t){return new Um(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitSafeMethodCall(e,t){return new Hm(e.span,e.receiver.visit(this),e.name,this.visitAll(e.args))}visitFunctionCall(e,t){return new qm(e.span,e.target.visit(this),this.visitAll(e.args))}visitLiteralArray(e,t){return new Rm(e.span,this.visitAll(e.expressions))}visitLiteralMap(e,t){return new Lm(e.span,e.keys,this.visitAll(e.values))}visitBinary(e,t){return new Vm(e.span,e.operation,e.left.visit(this),e.right.visit(this))}visitPrefixNot(e,t){return new Bm(e.span,e.expression.visit(this))}visitNonNullAssert(e,t){return new jm(e.span,e.expression.visit(this))}visitConditional(e,t){return new Dm(e.span,e.condition.visit(this),e.trueExp.visit(this),e.falseExp.visit(this))}visitPipe(e,t){return new Om(e.span,e.exp.visit(this),e.name,this.visitAll(e.args))}visitKeyedRead(e,t){return new Mm(e.span,e.obj.visit(this),e.key.visit(this))}visitKeyedWrite(e,t){return new Im(e.span,e.obj.visit(this),e.key.visit(this),e.value.visit(this))}visitAll(e){const t=new Array(e.length);for(let n=0;n<e.length;++n)t[n]=e[n].visit(this);return t}visitChain(e,t){return new Am(e.span,this.visitAll(e.expressions))}visitQuote(e,t){return new Sm(e.span,e.prefix,e.uninterpretedExpression,e.location)}}class Qm{visitImplicitReceiver(e,t){return e}visitInterpolation(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new $m(e.span,e.strings,n):e}visitLiteralPrimitive(e,t){return e}visitPropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new Pm(e.span,n,e.name):e}visitPropertyWrite(e,t){const n=e.receiver.visit(this),s=e.value.visit(this);return n!==e.receiver||s!==e.value?new km(e.span,n,e.name,s):e}visitSafePropertyRead(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new Nm(e.span,n,e.name):e}visitMethodCall(e,t){const n=e.receiver.visit(this);return n!==e.receiver?new Um(e.span,n,e.name,this.visitAll(e.args)):e}visitSafeMethodCall(e,t){const n=e.receiver.visit(this),s=this.visitAll(e.args);return n!==e.receiver||s!==e.args?new Hm(e.span,n,e.name,s):e}visitFunctionCall(e,t){const n=e.target&&e.target.visit(this),s=this.visitAll(e.args);return n!==e.target||s!==e.args?new qm(e.span,n,s):e}visitLiteralArray(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new Rm(e.span,n):e}visitLiteralMap(e,t){const n=this.visitAll(e.values);return n!==e.values?new Lm(e.span,e.keys,n):e}visitBinary(e,t){const n=e.left.visit(this),s=e.right.visit(this);return n!==e.left||s!==e.right?new Vm(e.span,e.operation,n,s):e}visitPrefixNot(e,t){const n=e.expression.visit(this);return n!==e.expression?new Bm(e.span,n):e}visitNonNullAssert(e,t){const n=e.expression.visit(this);return n!==e.expression?new jm(e.span,n):e}visitConditional(e,t){const n=e.condition.visit(this),s=e.trueExp.visit(this),r=e.falseExp.visit(this);return n!==e.condition||s!==e.trueExp||r!=r?new Dm(e.span,n,s,r):e}visitPipe(e,t){const n=e.exp.visit(this),s=this.visitAll(e.args);return n!==e.exp||s!==e.args?new Om(e.span,n,e.name,s):e}visitKeyedRead(e,t){const n=e.obj.visit(this),s=e.key.visit(this);return n!==e.obj||s!==e.key?new Mm(e.span,n,s):e}visitKeyedWrite(e,t){const n=e.obj.visit(this),s=e.key.visit(this),r=e.value.visit(this);return n!==e.obj||s!==e.key||r!==e.value?new Im(e.span,n,s,r):e}visitAll(e){const t=new Array(e.length);let n=!1;for(let s=0;s<e.length;++s){const r=e[s],i=r.visit(this);t[s]=i,n=n||i!==r}return n?t:e}visitChain(e,t){const n=this.visitAll(e.expressions);return n!==e.expressions?new Am(e.span,n):e}visitQuote(e,t){return e}}class Zm{constructor(e,t,n,s){this.name=e,this.expression=t,this.type=n,this.sourceSpan=s,this.isLiteral=this.type===Xm.LITERAL_ATTR,this.isAnimation=this.type===Xm.ANIMATION}}var Xm,Ym,Jm,ef;!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.LITERAL_ATTR=1]="LITERAL_ATTR",e[e.ANIMATION=2]="ANIMATION"}(Xm||(Xm={}));class tf{constructor(e,t,n,s,r){this.name=e,this.targetOrPhase=t,this.type=n,this.handler=s,this.sourceSpan=r}}class nf{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}}class sf{constructor(e,t,n,s,r,i){this.name=e,this.type=t,this.securityContext=n,this.value=s,this.unit=r,this.sourceSpan=i}}class rf{}rf.event=Ju("$event");class of{constructor(e,t){this.stmts=e,this.allowDefault=t,this.render3Stmts=e.map(e=>{if(e instanceof Ou&&e.name==t.name&&e.value instanceof bu){const t=e.value.lhs;return new Lu(t.value)}return e})}}function af(e,t,n,s,r){e||(e=new vf);const i=lf({createLiteralArrayConverter:e=>e=>sh(e),createLiteralMapConverter:e=>t=>{return rh(e.map((e,n)=>({key:e.key,value:t[n],quoted:e.quoted})))},createPipeConverter:e=>{throw new Error(`Illegal State: Actions are not allowed to contain pipes. Pipe: ${e}`)}},n),o=new gf(e,t,s,r),a=[];!function e(t,n){Array.isArray(t)?t.forEach(t=>e(t,n)):n.push(t)}(i.visit(o,Jm.Statement),a),function(e,t,n){for(let s=e-1;s>=0;s--)n.unshift(df(t,s))}(o.temporaryCount,s,a);const l=a.length-1;let c=null;if(l>=0){const e=function(e){if(e instanceof Ru)return e.expr;if(e instanceof Lu)return e.value;return null}(a[l]);e&&(c=function(e){return Ju(`pd_${e}`)}(s),a[l]=c.set(e.cast(Qc).notIdentical(ah(!1))).toDeclStmt(null,[Mu.Final]))}return new of(a,c)}function lf(e,t){return function(e,t){const n=new ff(e);return t.visit(n)}(e,t)}class cf{constructor(e,t){this.stmts=e,this.currValExpr=t}}function uf(e,t,n,s,r,i){e||(e=new vf);const o=function(e){return Ju(`currVal_${e}`)}(s),a=[],l=new gf(e,t,s,i),c=n.visit(l,Jm.Expression);if(l.temporaryCount)for(let u=0;u<l.temporaryCount;u++)a.push(df(s,u));else if(r==Ym.TrySimple)return new cf([],c);return a.push(o.set(c).toDeclStmt(Qc,[Mu.Final])),new cf(a,o)}function hf(e,t){return`tmp_${e}_${t}`}function df(e,t){return new Ou(hf(e,t),ku)}function pf(e,t){if(e!==Jm.Expression)throw new Error(`Expected an expression, but saw ${t}`)}function mf(e,t){return e===Jm.Statement?t.toStmt():t}!function(e){e[e.General=0]="General",e[e.TrySimple=1]="TrySimple"}(Ym||(Ym={})),function(e){e[e.Statement=0]="Statement",e[e.Expression=1]="Expression"}(Jm||(Jm={}));class ff extends Km{constructor(e){super(),this._converterFactory=e}visitPipe(e,t){const n=[e.exp,...e.args].map(e=>e.visit(this,t));return new yf(e.span,n,this._converterFactory.createPipeConverter(e.name,n.length))}visitLiteralArray(e,t){const n=e.expressions.map(e=>e.visit(this,t));return new yf(e.span,n,this._converterFactory.createLiteralArrayConverter(e.expressions.length))}visitLiteralMap(e,t){const n=e.values.map(e=>e.visit(this,t));return new yf(e.span,n,this._converterFactory.createLiteralMapConverter(e.keys))}}class gf{constructor(e,t,n,s){this._localResolver=e,this._implicitReceiver=t,this.bindingId=n,this.interpolationFunction=s,this._nodeMap=new Map,this._resultMap=new Map,this._currentTemporary=0,this.temporaryCount=0}visitBinary(e,t){let n;switch(e.operation){case"+":n=eu.Plus;break;case"-":n=eu.Minus;break;case"*":n=eu.Multiply;break;case"/":n=eu.Divide;break;case"%":n=eu.Modulo;break;case"&&":n=eu.And;break;case"||":n=eu.Or;break;case"==":n=eu.Equals;break;case"!=":n=eu.NotEquals;break;case"===":n=eu.Identical;break;case"!==":n=eu.NotIdentical;break;case"<":n=eu.Lower;break;case">":n=eu.Bigger;break;case"<=":n=eu.LowerEquals;break;case">=":n=eu.BiggerEquals;break;default:throw new Error(`Unsupported operation ${e.operation}`)}return mf(t,new bu(n,this._visit(e.left,Jm.Expression),this._visit(e.right,Jm.Expression)))}visitChain(e,t){return function(e,t){if(e!==Jm.Statement)throw new Error(`Expected a statement, but saw ${t}`)}(t,e),this.visitAll(e.expressions,t)}visitConditional(e,t){return mf(t,this._visit(e.condition,Jm.Expression).conditional(this._visit(e.trueExp,Jm.Expression),this._visit(e.falseExp,Jm.Expression)))}visitPipe(e,t){throw new Error(`Illegal state: Pipes should have been converted into functions. Pipe: ${e.name}`)}visitFunctionCall(e,t){const n=this.visitAll(e.args,Jm.Expression);let s;return mf(t,s=e instanceof yf?e.converter(n):this._visit(e.target,Jm.Expression).callFn(n))}visitImplicitReceiver(e,t){return pf(t,e),this._implicitReceiver}visitInterpolation(e,t){pf(t,e);const n=[ah(e.expressions.length)];for(let s=0;s<e.strings.length-1;s++)n.push(ah(e.strings[s])),n.push(this._visit(e.expressions[s],Jm.Expression));return n.push(ah(e.strings[e.strings.length-1])),this.interpolationFunction?this.interpolationFunction(n):e.expressions.length<=9?eh($h.inlineInterpolate).callFn(n):eh($h.interpolate).callFn([n[0],sh(n.slice(1))])}visitKeyedRead(e,t){const n=this.leftMostSafeNode(e);return n?this.convertSafeAccess(e,n,t):mf(t,this._visit(e.obj,Jm.Expression).key(this._visit(e.key,Jm.Expression)))}visitKeyedWrite(e,t){const n=this._visit(e.obj,Jm.Expression),s=this._visit(e.key,Jm.Expression),r=this._visit(e.value,Jm.Expression);return mf(t,n.key(s).set(r))}visitLiteralArray(e,t){throw new Error("Illegal State: literal arrays should have been converted into functions")}visitLiteralMap(e,t){throw new Error("Illegal State: literal maps should have been converted into functions")}visitLiteralPrimitive(e,t){const n=null===e.value||void 0===e.value||!0===e.value||!0===e.value?Zc:void 0;return mf(t,ah(e.value,n))}_getLocal(e){return this._localResolver.getLocal(e)}visitMethodCall(e,t){if(e.receiver instanceof Tm&&"$any"==e.name){const t=this.visitAll(e.args,Jm.Expression);if(1!=t.length)throw new Error(`Invalid call to $any, expected 1 argument but received ${t.length||"none"}`);return t[0].cast(Qc)}const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{const n=this.visitAll(e.args,Jm.Expression);let s=null;const r=this._visit(e.receiver,Jm.Expression);if(r===this._implicitReceiver){const t=this._getLocal(e.name);t&&(s=t.callFn(n))}return null==s&&(s=r.callMethod(e.name,n)),mf(t,s)}}visitPrefixNot(e,t){return mf(t,(n=this._visit(e.expression,Jm.Expression),new yu(n,s)));var n,s}visitNonNullAssert(e,t){return mf(t,(n=this._visit(e.expression,Jm.Expression),new _u(n,s)));var n,s}visitPropertyRead(e,t){const n=this.leftMostSafeNode(e);if(n)return this.convertSafeAccess(e,n,t);{let n=null;const s=this._visit(e.receiver,Jm.Expression);return s===this._implicitReceiver&&(n=this._getLocal(e.name)),null==n&&(n=s.prop(e.name)),mf(t,n)}}visitPropertyWrite(e,t){const n=this._visit(e.receiver,Jm.Expression);let s=null;if(n===this._implicitReceiver){const t=this._getLocal(e.name);if(t){if(!(t instanceof Su))throw new Error("Cannot assign to a reference or variable!");s=t}}return null===s&&(s=n.prop(e.name)),mf(t,s.set(this._visit(e.value,Jm.Expression)))}visitSafePropertyRead(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitSafeMethodCall(e,t){return this.convertSafeAccess(e,this.leftMostSafeNode(e),t)}visitAll(e,t){return e.map(e=>this._visit(e,t))}visitQuote(e,t){throw new Error(`Quotes are not supported for evaluation!\n        Statement: ${e.uninterpretedExpression} located at ${e.location}`)}_visit(e,t){const n=this._resultMap.get(e);return n||(this._nodeMap.get(e)||e).visit(this,t)}convertSafeAccess(e,t,n){let s=this._visit(t.receiver,Jm.Expression),r=void 0;this.needsTemporary(t.receiver)&&(s=(r=this.allocateTemporary()).set(s),this._resultMap.set(t.receiver,r));const i=s.isBlank();t instanceof Hm?this._nodeMap.set(t,new Um(t.span,t.receiver,t.name,t.args)):this._nodeMap.set(t,new Pm(t.span,t.receiver,t.name));const o=this._visit(e,Jm.Expression);return this._nodeMap.delete(t),r&&this.releaseTemporary(r),mf(n,i.conditional(ah(null),o))}leftMostSafeNode(e){const t=(e,t)=>(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary:e=>null,visitChain:e=>null,visitConditional:e=>null,visitFunctionCall:e=>null,visitImplicitReceiver:e=>null,visitInterpolation:e=>null,visitKeyedRead(e){return t(this,e.obj)},visitKeyedWrite:e=>null,visitLiteralArray:e=>null,visitLiteralMap:e=>null,visitLiteralPrimitive:e=>null,visitMethodCall(e){return t(this,e.receiver)},visitPipe:e=>null,visitPrefixNot:e=>null,visitNonNullAssert:e=>null,visitPropertyRead(e){return t(this,e.receiver)},visitPropertyWrite:e=>null,visitQuote:e=>null,visitSafeMethodCall(e){return t(this,e.receiver)||e},visitSafePropertyRead(e){return t(this,e.receiver)||e}})}needsTemporary(e){const t=(e,t)=>t&&(this._nodeMap.get(t)||t).visit(e);return e.visit({visitBinary(e){return t(this,e.left)||t(this,e.right)},visitChain:e=>!1,visitConditional(e){return t(this,e.condition)||t(this,e.trueExp)||t(this,e.falseExp)},visitFunctionCall:e=>!0,visitImplicitReceiver:e=>!1,visitInterpolation(e){return((e,n)=>n.some(n=>t(e,n)))(this,e.expressions)},visitKeyedRead:e=>!1,visitKeyedWrite:e=>!1,visitLiteralArray:e=>!0,visitLiteralMap:e=>!0,visitLiteralPrimitive:e=>!1,visitMethodCall:e=>!0,visitPipe:e=>!0,visitPrefixNot(e){return t(this,e.expression)},visitNonNullAssert(e){return t(this,e.expression)},visitPropertyRead:e=>!1,visitPropertyWrite:e=>!1,visitQuote:e=>!1,visitSafeMethodCall:e=>!0,visitSafePropertyRead:e=>!1})}allocateTemporary(){const e=this._currentTemporary++;return this.temporaryCount=Math.max(this._currentTemporary,this.temporaryCount),new ou(hf(this.bindingId,e))}releaseTemporary(e){if(this._currentTemporary--,e.name!=hf(this.bindingId,this._currentTemporary))throw new Error(`Temporary ${e.name} released out of order`)}}class vf{getLocal(e){return e===rf.event.name?rf.event:null}}class yf extends qm{constructor(e,t,n){super(e,null,t),this.args=t,this.converter=n}}!function(e){e[e.OnInit=0]="OnInit",e[e.OnDestroy=1]="OnDestroy",e[e.DoCheck=2]="DoCheck",e[e.OnChanges=3]="OnChanges",e[e.AfterContentInit=4]="AfterContentInit",e[e.AfterContentChecked=5]="AfterContentChecked",e[e.AfterViewInit=6]="AfterViewInit",e[e.AfterViewChecked=7]="AfterViewChecked"}(ef||(ef={}));const _f=[ef.OnInit,ef.OnDestroy,ef.DoCheck,ef.OnChanges,ef.AfterContentInit,ef.AfterContentChecked,ef.AfterViewInit,ef.AfterViewChecked];function wf(e,t,n){return e.hasLifecycleHook(n,function(e){switch(e){case ef.OnInit:return"ngOnInit";case ef.OnDestroy:return"ngOnDestroy";case ef.DoCheck:return"ngDoCheck";case ef.OnChanges:return"ngOnChanges";case ef.AfterContentInit:return"ngAfterContentInit";case ef.AfterContentChecked:return"ngAfterContentChecked";case ef.AfterViewInit:return"ngAfterViewInit";case ef.AfterViewChecked:return"ngAfterViewChecked";default:const t=e;throw new Error(`unexpected ${t}`)}}(t))}const Ef=0,Cf=9,bf=10,Sf=11,xf=12,Tf=13,Af=32,Df=33,Pf=34,kf=35,Nf=36,Mf=37,If=38,Of=39,Ff=40,Rf=41,Lf=42,$f=43,Vf=44,Bf=45,jf=46,Uf=47,Hf=58,qf=59,zf=60,Wf=61,Gf=62,Kf=63,Qf=48,Zf=57,Xf=65,Yf=69,Jf=70,eg=88,tg=90,ng=91,sg=92,rg=93,ig=94,og=95,ag=97,lg=101,cg=102,ug=110,hg=114,dg=116,pg=117,mg=118,fg=120,gg=122,vg=123,yg=124,_g=125,wg=160,Eg=96;function Cg(e){return e>=Cf&&e<=Af||e==wg}function bg(e){return Qf<=e&&e<=Zf}function Sg(e){return e>=ag&&e<=gg||e>=Xf&&e<=tg}class xg{constructor(e,t,n,s){this.file=e,this.offset=t,this.line=n,this.col=s}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(e){const t=this.file.content,n=t.length;let s=this.offset,r=this.line,i=this.col;for(;s>0&&e<0;){if(s--,e++,t.charCodeAt(s)==bf){r--;const e=t.substr(0,s-1).lastIndexOf(String.fromCharCode(bf));i=e>0?s-e:s}else i--}for(;s<n&&e>0;){const n=t.charCodeAt(s);s++,e--,n==bf?(r++,i=0):i++}return new xg(this.file,s,r,i)}getContext(e,t){const n=this.file.content;let s=this.offset;if(null!=s){s>n.length-1&&(s=n.length-1);let r=s,i=0,o=0;for(;i<e&&s>0&&(i++,"\n"!=n[--s]||++o!=t););for(i=0,o=0;i<e&&r<n.length-1&&(i++,"\n"!=n[++r]||++o!=t););return{before:n.substring(s,this.offset),after:n.substring(this.offset,r+1)}}return null}}class Tg{constructor(e,t){this.content=e,this.url=t}}class Ag{constructor(e,t,n=null){this.start=e,this.end=t,this.details=n}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var Dg;!function(e){e[e.WARNING=0]="WARNING",e[e.ERROR=1]="ERROR"}(Dg||(Dg={}));class Pg{constructor(e,t,n=Dg.ERROR){this.span=e,this.msg=t,this.level=n}contextualMessage(){const e=this.span.start.getContext(100,3);return e?`${this.msg} ("${e.before}[${Dg[this.level]} ->]${e.after}")`:this.msg}toString(){const e=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${e}`}}function kg(e,t){const n=Gh(t),s=null!=n?`in ${e} ${Wh(t)} in ${n}`:`in ${e} ${Wh(t)}`,r=new Tg("",s);return new Ag(new xg(r,-1,-1,-1),new xg(r,-1,-1,-1))}class Ng{constructor(){this.strictStyling=!0}shimCssText(e,t,n=""){const s=e.match(Zg)||[];return e=function(e){return e.replace(Qg,"")}(e),e=this._insertDirectives(e),[this._scopeCssText(e,t,n),...s].join("\n")}_insertDirectives(e){return e=this._insertPolyfillDirectivesInCssText(e),this._insertPolyfillRulesInCssText(e)}_insertPolyfillDirectivesInCssText(e){return e.replace(Ig,function(...e){return e[2]+"{"})}_insertPolyfillRulesInCssText(e){return e.replace(Og,(...e)=>{const t=e[0].replace(e[1],"").replace(e[2],"");return e[4]+t})}_scopeCssText(e,t,n){const s=this._extractUnscopedRulesFromCssText(e);return e=this._insertPolyfillHostInCssText(e),e=this._convertColonHost(e),e=this._convertColonHostContext(e),e=this._convertShadowDOMSelectors(e),t&&(e=this._scopeSelectors(e,t,n)),(e=e+"\n"+s).trim()}_extractUnscopedRulesFromCssText(e){let t,n="";for(Fg.lastIndex=0;null!==(t=Fg.exec(e));){n+=t[0].replace(t[2],"").replace(t[1],t[4])+"\n\n"}return n}_convertColonHost(e){return this._convertColonRule(e,Vg,this._colonHostPartReplacer)}_convertColonHostContext(e){return this._convertColonRule(e,Bg,this._colonHostContextPartReplacer)}_convertColonRule(e,t,n){return e.replace(t,function(...e){if(e[2]){const t=e[2].split(","),s=[];for(let r=0;r<t.length;r++){const i=t[r].trim();if(!i)break;s.push(n(jg,i,e[3]))}return s.join(",")}return jg+e[3]})}_colonHostContextPartReplacer(e,t,n){return t.indexOf(Rg)>-1?this._colonHostPartReplacer(e,t,n):e+t+n+", "+t+" "+e+n}_colonHostPartReplacer(e,t,n){return e+t.replace(Rg,"")+n}_convertShadowDOMSelectors(e){return Hg.reduce((e,t)=>e.replace(t," "),e)}_scopeSelectors(e,t,n){return function(e,t){const n=function(e){const t=e.split(Yg),n=[],s=[];let r=0,i=[];for(let o=0;o<t.length;o++){const e=t[o];e==ev&&r--,r>0?i.push(e):(i.length>0&&(s.push(i.join("")),n.push(tv),i=[]),n.push(e)),e==Jg&&r++}i.length>0&&(s.push(i.join("")),n.push(tv));return new sv(n.join(""),s)}(e);let s=0;return n.escapedString.replace(Xg,function(...e){const r=e[2];let i="",o=e[4],a="";o&&o.startsWith("{"+tv)&&(i=n.blocks[s++],o=o.substring(tv.length+1),a="{");const l=t(new nv(r,i));return`${e[1]}${l.selector}${e[3]}${a}${l.content}${o}`})}(e,e=>{let s=e.selector,r=e.content;return"@"!=e.selector[0]?s=this._scopeSelector(e.selector,t,n,this.strictStyling):(e.selector.startsWith("@media")||e.selector.startsWith("@supports")||e.selector.startsWith("@page")||e.selector.startsWith("@document"))&&(r=this._scopeSelectors(e.content,t,n)),new nv(s,r)})}_scopeSelector(e,t,n,s){return e.split(",").map(e=>e.trim().split(qg)).map(e=>{const[r,...i]=e;return[(e=>this._selectorNeedsScoping(e,t)?s?this._applyStrictSelectorScope(e,t,n):this._applySelectorScope(e,t,n):e)(r),...i].join(" ")}).join(", ")}_selectorNeedsScoping(e,t){return!this._makeScopeMatcher(t).test(e)}_makeScopeMatcher(e){return e=e.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),new RegExp("^("+e+")"+zg,"m")}_applySelectorScope(e,t,n){return this._applySimpleSelectorScope(e,t,n)}_applySimpleSelectorScope(e,t,n){if(Wg.lastIndex=0,Wg.test(e)){const s=this.strictStyling?`[${n}]`:t;return e.replace(Ug,(e,t)=>t.replace(/([^:]*)(:*)(.*)/,(e,t,n,r)=>t+s+n+r)).replace(Wg,s+" ")}return t+" "+e}_applyStrictSelectorScope(e,t,n){const s="["+(t=t.replace(/\[is=([^\]]*)\]/g,(e,...t)=>t[0]))+"]",r=e=>{let r=e.trim();if(!r)return"";if(e.indexOf(jg)>-1)r=this._applySimpleSelectorScope(e,t,n);else{const t=e.replace(Wg,"");if(t.length>0){const e=t.match(/([^:]*)(:*)(.*)/);e&&(r=e[1]+s+e[2]+e[3])}}return r},i=new Mg(e);let o,a="",l=0;const c=/( |>|\+|~(?!=))\s*/g;let u=!((e=i.content()).indexOf(jg)>-1);for(;null!==(o=c.exec(e));){const t=o[1],n=e.slice(l,o.index).trim();a+=`${(u=u||n.indexOf(jg)>-1)?r(n):n} ${t} `,l=c.lastIndex}const h=e.substring(l);return a+=(u=u||h.indexOf(jg)>-1)?r(h):h,i.restore(a)}_insertPolyfillHostInCssText(e){return e.replace(Kg,Lg).replace(Gg,Rg)}}class Mg{constructor(e){this.placeholders=[],this.index=0,e=e.replace(/(\[[^\]]*\])/g,(e,t)=>{const n=`__ph-${this.index}__`;return this.placeholders.push(t),this.index++,n}),this._content=e.replace(/(:nth-[-\w]+)(\([^)]+\))/g,(e,t,n)=>{const s=`__ph-${this.index}__`;return this.placeholders.push(n),this.index++,t+s})}restore(e){return e.replace(/__ph-(\d+)__/g,(e,t)=>this.placeholders[+t])}content(){return this._content}}const Ig=/polyfill-next-selector[^}]*content:[\s]*?(['"])(.*?)\1[;\s]*}([^{]*?){/gim,Og=/(polyfill-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Fg=/(polyfill-unscoped-rule)[^}]*(content:[\s]*(['"])(.*?)\3)[;\s]*[^}]*}/gim,Rg="-shadowcsshost",Lg="-shadowcsscontext",$g=")(?:\\(((?:\\([^)(]*\\)|[^)(]*)+?)\\))?([^,{]*)",Vg=new RegExp("("+Rg+$g,"gim"),Bg=new RegExp("("+Lg+$g,"gim"),jg=Rg+"-no-combinator",Ug=/-shadowcsshost-no-combinator([^\s]*)/,Hg=[/::shadow/g,/::content/g,/\/shadow-deep\//g,/\/shadow\//g],qg=/(?:>>>)|(?:\/deep\/)|(?:::ng-deep)/g,zg="([>\\s~+[.,{:][\\s\\S]*)?$",Wg=/-shadowcsshost/gim,Gg=/:host/gim,Kg=/:host-context/gim,Qg=/\/\*\s*[\s\S]*?\*\//g;const Zg=/\/\*\s*#\s*source(Mapping)?URL=[\s\S]+?\*\//g;const Xg=/(\s*)([^;\{\}]+?)(\s*)((?:{%BLOCK%}?\s*;?)|(?:\s*;))/g,Yg=/([{}])/g,Jg="{",ev="}",tv="%BLOCK%";class nv{constructor(e,t){this.selector=e,this.content=t}}class sv{constructor(e,t){this.escapedString=e,this.blocks=t}}const rv="_nghost-%COMP%",iv="_ngcontent-%COMP%";class ov{constructor(e,t,n){this.name=e,this.moduleUrl=t,this.setValue=n}}class av{constructor(e,t,n,s,r){this.outputCtx=e,this.stylesVar=t,this.dependencies=n,this.isShimmed=s,this.meta=r}}class lv{constructor(e){this._urlResolver=e,this._shadowCss=new Ng}compileComponent(e,t){const n=t.template;return this._compileStyles(e,t,new ed({styles:n.styles,styleUrls:n.styleUrls,moduleUrl:Gh(t.type)}),this.needsStyleShim(t),!0)}compileStyles(e,t,n,s=this.needsStyleShim(t)){return this._compileStyles(e,t,n,s,!1)}needsStyleShim(e){return e.template.encapsulation===wc.Emulated}_compileStyles(e,t,n,s,r){const i=n.styles.map(e=>ah(this._shimIfNeeded(e,s))),o=[];n.styleUrls.forEach(t=>{const n=i.length;i.push(null),o.push(new ov(cv(null),t,t=>i[n]=e.importExpr(t)))});const a=cv(r?t:null),l=Ju(a).set(sh(i,new Gc(Qc,[Uc.Const]))).toDeclStmt(null,r?[Mu.Final]:[Mu.Final,Mu.Exported]);return e.statements.push(l),new av(e,a,o,s,n)}_shimIfNeeded(e,t){return t?this._shadowCss.shimCssText(e,iv,rv):e}}function cv(e){let t="styles";return e&&(t+=`_${Wh(e.type)}`),t}function uv(e){const t=e.charCodeAt(0);if(t==e.charCodeAt(e.length-1)&&(39==t||34==t)){const t=e.substring(1,e.length-1);-1==t.indexOf("'")&&-1==t.indexOf('"')&&(e=t)}return e}function hv(e){return e.replace(/[a-z][A-Z]/g,e=>e.charAt(0)+"-"+e.charAt(1)).toLowerCase()}class dv{constructor(e,t){this._elementIndexExpr=e,this._directiveIndexExpr=t,this.hasBindingsOrInitialValues=!1,this._classMapInput=null,this._styleMapInput=null,this._singleStyleInputs=null,this._singleClassInputs=null,this._lastStylingInput=null,this._stylesIndex=new Map,this._classesIndex=new Map,this._initialStyleValues={},this._initialClassValues={},this._useDefaultSanitizer=!1,this._applyFnRequired=!1}registerBoundInput(e){const t=e.name;let n=null;switch(e.type){case 0:"style"==t?n=this.registerStyleInput(null,e.value,"",e.sourceSpan):function(e){return"className"==e||"class"==e}(e.name)&&(n=this.registerClassInput(null,e.value,e.sourceSpan));break;case 3:n=this.registerStyleInput(e.name,e.value,e.unit,e.sourceSpan);break;case 2:n=this.registerClassInput(e.name,e.value,e.sourceSpan)}return!!n}registerStyleInput(e,t,n,s){const r={name:e,unit:n,value:t,sourceSpan:s};var i;return e?((this._singleStyleInputs=this._singleStyleInputs||[]).push(r),this._useDefaultSanitizer=this._useDefaultSanitizer||("background-image"===(i=e)||"background"===i||"border-image"===i||"filter"===i||"list-style"===i||"list-style-image"===i),pv(this._stylesIndex,e),this.hasBindingsOrInitialValues=!0):(this._useDefaultSanitizer=!0,this._styleMapInput=r),this._lastStylingInput=r,this.hasBindingsOrInitialValues=!0,this._applyFnRequired=!0,r}registerClassInput(e,t,n){const s={name:e,value:t,sourceSpan:n};return e?((this._singleClassInputs=this._singleClassInputs||[]).push(s),this.hasBindingsOrInitialValues=!0,pv(this._classesIndex,e)):this._classMapInput=s,this._lastStylingInput=s,this.hasBindingsOrInitialValues=!0,this._applyFnRequired=!0,s}registerStyleAttr(e){this._initialStyleValues=function(e){const t={};let n=0,s=0,r=0,i=0,o=0,a=null,l=!1;for(;n<e.length;)switch(e.charCodeAt(n++)){case 40:s++;break;case 41:s--;break;case 39:l=l||i>0,0===r?r=39:39===r&&92!==e.charCodeAt(n-1)&&(r=0);break;case 34:l=l||i>0,0===r?r=34:34===r&&92!==e.charCodeAt(n-1)&&(r=0);break;case 58:a||0!==s||0!==r||(a=hv(e.substring(o,n-1).trim()),i=n);break;case 59:if(a&&i>0&&0===s&&0===r){const s=e.substring(i,n-1).trim();t[a]=l?uv(s):s,o=n,i=0,a=null,l=!1}}if(a&&i){const n=e.substr(i).trim();t[a]=l?uv(n):n}return t}(e),Object.keys(this._initialStyleValues).forEach(e=>{pv(this._stylesIndex,e),this.hasBindingsOrInitialValues=!0})}registerClassAttr(e){this._initialClassValues={},e.split(/\s+/g).forEach(e=>{this._initialClassValues[e]=!0,pv(this._classesIndex,e),this.hasBindingsOrInitialValues=!0})}_buildInitExpr(e,t){const n=[],s=[];return e.forEach((e,r)=>{const i=ah(r);n.push(i);const o=t[r];o&&s.push(i,ah(o))}),s.length&&(n.push(ah(1)),n.push(...s)),n.length?sh(n):null}buildCreateLevelInstruction(e,t){if(this.hasBindingsOrInitialValues){const n=this._buildInitExpr(this._classesIndex,this._initialClassValues),s=this._buildInitExpr(this._stylesIndex,this._initialStyleValues),r=this._useDefaultSanitizer,i=[];return n?i.push(t.getConstLiteral(n,!0)):(s||r)&&i.push(ku),s?i.push(t.getConstLiteral(s,!0)):(r||this._directiveIndexExpr)&&i.push(ku),(r||this._directiveIndexExpr)&&(i.push(r?eh(dd.defaultStyleSanitizer):ku),this._directiveIndexExpr&&i.push(this._directiveIndexExpr)),{sourceSpan:e,reference:dd.elementStyling,buildParams:()=>i}}return null}_buildStylingMap(e){if(this._classMapInput||this._styleMapInput){const t=this._classMapInput||this._styleMapInput,n=this._classMapInput?this._classMapInput.value.visit(e):null,s=this._styleMapInput?this._styleMapInput.value.visit(e):null;return{sourceSpan:t.sourceSpan,reference:dd.elementStylingMap,buildParams:e=>{const t=[this._elementIndexExpr];return n?t.push(e(n)):this._styleMapInput&&t.push(ku),s?t.push(e(s)):this._directiveIndexExpr&&t.push(ku),this._directiveIndexExpr&&t.push(this._directiveIndexExpr),t}}}return null}_buildSingleInputs(e,t,n,s,r){return t.map(t=>{const i=n.get(t.name),o=t.value.visit(r);return{sourceSpan:t.sourceSpan,reference:e,buildParams:e=>{const n=[this._elementIndexExpr,ah(i),e(o)];return s&&(t.unit?n.push(ah(t.unit)):this._directiveIndexExpr&&n.push(ku)),this._directiveIndexExpr&&n.push(this._directiveIndexExpr),n}}})}_buildClassInputs(e){return this._singleClassInputs?this._buildSingleInputs(dd.elementClassProp,this._singleClassInputs,this._classesIndex,!1,e):[]}_buildStyleInputs(e){return this._singleStyleInputs?this._buildSingleInputs(dd.elementStyleProp,this._singleStyleInputs,this._stylesIndex,!0,e):[]}_buildApplyFn(){return{sourceSpan:this._lastStylingInput?this._lastStylingInput.sourceSpan:null,reference:dd.elementStylingApply,buildParams:()=>{const e=[this._elementIndexExpr];return this._directiveIndexExpr&&e.push(this._directiveIndexExpr),e}}}buildUpdateLevelInstructions(e){const t=[];if(this.hasBindingsOrInitialValues){const n=this._buildStylingMap(e);n&&t.push(n),t.push(...this._buildStyleInputs(e)),t.push(...this._buildClassInputs(e)),this._applyFnRequired&&t.push(this._buildApplyFn())}return t}}function pv(e,t){e.has(t)||e.set(t,e.size)}var mv;!function(e){e[e.Character=0]="Character",e[e.Identifier=1]="Identifier",e[e.Keyword=2]="Keyword",e[e.String=3]="String",e[e.Operator=4]="Operator",e[e.Number=5]="Number",e[e.Error=6]="Error"}(mv||(mv={}));const fv=["var","let","as","null","undefined","true","false","if","else","this"];class gv{tokenize(e){const t=new Ev(e),n=[];let s=t.scanToken();for(;null!=s;)n.push(s),s=t.scanToken();return n}}class vv{constructor(e,t,n,s){this.index=e,this.type=t,this.numValue=n,this.strValue=s}isCharacter(e){return this.type==mv.Character&&this.numValue==e}isNumber(){return this.type==mv.Number}isString(){return this.type==mv.String}isOperator(e){return this.type==mv.Operator&&this.strValue==e}isIdentifier(){return this.type==mv.Identifier}isKeyword(){return this.type==mv.Keyword}isKeywordLet(){return this.type==mv.Keyword&&"let"==this.strValue}isKeywordAs(){return this.type==mv.Keyword&&"as"==this.strValue}isKeywordNull(){return this.type==mv.Keyword&&"null"==this.strValue}isKeywordUndefined(){return this.type==mv.Keyword&&"undefined"==this.strValue}isKeywordTrue(){return this.type==mv.Keyword&&"true"==this.strValue}isKeywordFalse(){return this.type==mv.Keyword&&"false"==this.strValue}isKeywordThis(){return this.type==mv.Keyword&&"this"==this.strValue}isError(){return this.type==mv.Error}toNumber(){return this.type==mv.Number?this.numValue:-1}toString(){switch(this.type){case mv.Character:case mv.Identifier:case mv.Keyword:case mv.Operator:case mv.String:case mv.Error:return this.strValue;case mv.Number:return this.numValue.toString();default:return null}}}function yv(e,t){return new vv(e,mv.Character,t,String.fromCharCode(t))}function _v(e,t){return new vv(e,mv.Operator,0,t)}const wv=new vv(-1,mv.Character,0,"");class Ev{constructor(e){this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}advance(){this.peek=++this.index>=this.length?Ef:this.input.charCodeAt(this.index)}scanToken(){const e=this.input,t=this.length;let n=this.peek,s=this.index;for(;n<=Af;){if(++s>=t){n=Ef;break}n=e.charCodeAt(s)}if(this.peek=n,this.index=s,s>=t)return null;if(Cv(n))return this.scanIdentifier();if(bg(n))return this.scanNumber(s);const r=s;switch(n){case jf:return this.advance(),bg(this.peek)?this.scanNumber(r):yv(r,jf);case Ff:case Rf:case vg:case _g:case ng:case rg:case Vf:case Hf:case qf:return this.scanCharacter(r,n);case Of:case Pf:return this.scanString();case kf:case $f:case Bf:case Lf:case Uf:case Mf:case ig:return this.scanOperator(r,String.fromCharCode(n));case Kf:return this.scanComplexOperator(r,"?",jf,".");case zf:case Gf:return this.scanComplexOperator(r,String.fromCharCode(n),Wf,"=");case Df:case Wf:return this.scanComplexOperator(r,String.fromCharCode(n),Wf,"=",Wf,"=");case If:return this.scanComplexOperator(r,"&",If,"&");case yg:return this.scanComplexOperator(r,"|",yg,"|");case wg:for(;Cg(this.peek);)this.advance();return this.scanToken()}return this.advance(),this.error(`Unexpected character [${String.fromCharCode(n)}]`,0)}scanCharacter(e,t){return this.advance(),yv(e,t)}scanOperator(e,t){return this.advance(),_v(e,t)}scanComplexOperator(e,t,n,s,r,i){this.advance();let o=t;return this.peek==n&&(this.advance(),o+=s),null!=r&&this.peek==r&&(this.advance(),o+=i),_v(e,o)}scanIdentifier(){const e=this.index;for(this.advance();bv(this.peek);)this.advance();const t=this.input.substring(e,this.index);return fv.indexOf(t)>-1?(n=t,new vv(e,mv.Keyword,0,n)):function(e,t){return new vv(e,mv.Identifier,0,t)}(e,t);var n}scanNumber(e){let t=this.index===e;for(this.advance();;){if(bg(this.peek));else if(this.peek==jf)t=!1;else{if((n=this.peek)!=lg&&n!=Yf)break;if(this.advance(),Sv(this.peek)&&this.advance(),!bg(this.peek))return this.error("Invalid exponent",-1);t=!1}this.advance()}var n;const s=this.input.substring(e,this.index),r=t?function(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}(s):parseFloat(s);return i=r,new vv(e,mv.Number,i,"");var i}scanString(){const e=this.index,t=this.peek;this.advance();let n="",s=this.index;const r=this.input;for(;this.peek!=t;)if(this.peek==sg){let e;if(n+=r.substring(s,this.index),this.advance(),this.peek=this.peek,this.peek==pg){const t=r.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(t))return this.error(`Invalid unicode escape [\\u${t}]`,0);e=parseInt(t,16);for(let e=0;e<5;e++)this.advance()}else e=xv(this.peek),this.advance();n+=String.fromCharCode(e),s=this.index}else{if(this.peek==Ef)return this.error("Unterminated quote",0);this.advance()}const i=r.substring(s,this.index);return this.advance(),o=n+i,new vv(e,mv.String,0,o);var o}error(e,t){const n=this.index+t;return function(e,t){return new vv(e,mv.Error,0,t)}(n,`Lexer Error: ${e} at column ${n} in expression [${this.input}]`)}}function Cv(e){return ag<=e&&e<=gg||Xf<=e&&e<=tg||e==og||e==Nf}function bv(e){return Sg(e)||bg(e)||e==og||e==Nf}function Sv(e){return e==Bf||e==$f}function xv(e){switch(e){case ug:return bf;case cg:return xf;case hg:return Tf;case dg:return Cf;case mg:return Sf;default:return e}}function Tv(e,t){if(null!=t){if(!Array.isArray(t))throw new Error(`Expected '${e}' to be an array of strings.`);for(let n=0;n<t.length;n+=1)if("string"!=typeof t[n])throw new Error(`Expected '${e}' to be an array of strings.`)}}const Av=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];function Dv(e,t){if(!(null==t||Array.isArray(t)&&2==t.length))throw new Error(`Expected '${e}' to be an array, [start, end].`);if(null!=t){const e=t[0],n=t[1];Av.forEach(t=>{if(t.test(e)||t.test(n))throw new Error(`['${e}', '${n}'] contains unusable interpolation symbol.`)})}}class Pv{constructor(e,t){this.start=e,this.end=t}static fromArray(e){return e?(Dv("interpolation",e),new Pv(e[0],e[1])):kv}}const kv=new Pv("{{","}}");class Nv{constructor(e,t,n){this.strings=e,this.expressions=t,this.offsets=n}}class Mv{constructor(e,t,n){this.templateBindings=e,this.warnings=t,this.errors=n}}function Iv(e){const t=Eh(e.start)+"([\\s\\S]*?)"+Eh(e.end);return new RegExp(t,"g")}class Ov{constructor(e){this._lexer=e,this.errors=[]}parseAction(e,t,n=kv){this._checkNoInterpolation(e,t,n);const s=this._stripComments(e),r=this._lexer.tokenize(this._stripComments(e)),i=new Fv(e,t,r,s.length,!0,this.errors,e.length-s.length).parseChain();return new zm(i,e,t,this.errors)}parseBinding(e,t,n=kv){const s=this._parseBindingAst(e,t,n);return new zm(s,e,t,this.errors)}parseSimpleBinding(e,t,n=kv){const s=this._parseBindingAst(e,t,n),r=Rv.check(s);return r.length>0&&this._reportError(`Host binding expression cannot contain ${r.join(" ")}`,e,t),new zm(s,e,t,this.errors)}_reportError(e,t,n,s){this.errors.push(new Em(e,t,n,s))}_parseBindingAst(e,t,n){const s=this._parseQuote(e,t);if(null!=s)return s;this._checkNoInterpolation(e,t,n);const r=this._stripComments(e),i=this._lexer.tokenize(r);return new Fv(e,t,i,r.length,!1,this.errors,e.length-r.length).parseChain()}_parseQuote(e,t){if(null==e)return null;const n=e.indexOf(":");if(-1==n)return null;const s=e.substring(0,n).trim();if(!function(e){if(0==e.length)return!1;const t=new Ev(e);if(!Cv(t.peek))return!1;for(t.advance();t.peek!==Ef;){if(!bv(t.peek))return!1;t.advance()}return!0}(s))return null;const r=e.substring(n+1);return new Sm(new Cm(0,e.length),s,r,t)}parseTemplateBindings(e,t,n){const s=this._lexer.tokenize(t);return new Fv(t,n,s,t.length,!1,this.errors,0).parseTemplateBindings(e)}parseInterpolation(e,t,n=kv){const s=this.splitInterpolation(e,t,n);if(null==s)return null;const r=[];for(let i=0;i<s.expressions.length;++i){const n=s.expressions[i],o=this._stripComments(n),a=this._lexer.tokenize(o),l=new Fv(e,t,a,o.length,!1,this.errors,s.offsets[i]+(n.length-o.length)).parseChain();r.push(l)}return new zm(new $m(new Cm(0,null==e?0:e.length),s.strings,r),e,t,this.errors)}splitInterpolation(e,t,n=kv){const s=Iv(n),r=e.split(s);if(r.length<=1)return null;const i=[],o=[],a=[];let l=0;for(let c=0;c<r.length;c++){const s=r[c];c%2==0?(i.push(s),l+=s.length):s.trim().length>0?(l+=n.start.length,o.push(s),a.push(l),l+=s.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",e,`at column ${this._findInterpolationErrorColumn(r,c,n)} in`,t),o.push("$implict"),a.push(l))}return new Nv(i,o,a)}wrapLiteralPrimitive(e,t){return new zm(new Fm(new Cm(0,null==e?0:e.length),e),e,t,this.errors)}_stripComments(e){const t=this._commentStart(e);return null!=t?e.substring(0,t).trim():e}_commentStart(e){let t=null;for(let s=0;s<e.length-1;s++){const r=e.charCodeAt(s),i=e.charCodeAt(s+1);if(r===Uf&&i==Uf&&null==t)return s;t===r?t=null:null==t&&((n=r)===Of||n===Pf||n===Eg)&&(t=r)}var n;return null}_checkNoInterpolation(e,t,n){const s=Iv(n),r=e.split(s);r.length>1&&this._reportError(`Got interpolation (${n.start}${n.end}) where expression was expected`,e,`at column ${this._findInterpolationErrorColumn(r,1,n)} in`,t)}_findInterpolationErrorColumn(e,t,n){let s="";for(let r=0;r<t;r++)s+=r%2==0?e[r]:`${n.start}${e[r]}${n.end}`;return s.length}}class Fv{constructor(e,t,n,s,r,i,o){this.input=e,this.location=t,this.tokens=n,this.inputLength=s,this.parseAction=r,this.errors=i,this.offset=o,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}peek(e){const t=this.index+e;return t<this.tokens.length?this.tokens[t]:wv}get next(){return this.peek(0)}get inputIndex(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}span(e){return new Cm(e,this.inputIndex)}advance(){this.index++}optionalCharacter(e){return!!this.next.isCharacter(e)&&(this.advance(),!0)}peekKeywordLet(){return this.next.isKeywordLet()}peekKeywordAs(){return this.next.isKeywordAs()}expectCharacter(e){this.optionalCharacter(e)||this.error(`Missing expected ${String.fromCharCode(e)}`)}optionalOperator(e){return!!this.next.isOperator(e)&&(this.advance(),!0)}expectOperator(e){this.optionalOperator(e)||this.error(`Missing expected operator ${e}`)}expectIdentifierOrKeyword(){const e=this.next;return e.isIdentifier()||e.isKeyword()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier or keyword`),"")}expectIdentifierOrKeywordOrString(){const e=this.next;return e.isIdentifier()||e.isKeyword()||e.isString()?(this.advance(),e.toString()):(this.error(`Unexpected token ${e}, expected identifier, keyword, or string`),"")}parseChain(){const e=[],t=this.inputIndex;for(;this.index<this.tokens.length;){const t=this.parsePipe();if(e.push(t),this.optionalCharacter(qf))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(qf););else this.index<this.tokens.length&&this.error(`Unexpected token '${this.next}'`)}return 0==e.length?new xm(this.span(t)):1==e.length?e[0]:new Am(this.span(t),e)}parsePipe(){let e=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{const t=this.expectIdentifierOrKeyword(),n=[];for(;this.optionalCharacter(Hf);)n.push(this.parseExpression());e=new Om(this.span(e.span.start),e,t,n)}while(this.optionalOperator("|"))}return e}parseExpression(){return this.parseConditional()}parseConditional(){const e=this.inputIndex,t=this.parseLogicalOr();if(this.optionalOperator("?")){const n=this.parsePipe();let s;if(this.optionalCharacter(Hf))s=this.parsePipe();else{const t=this.inputIndex,n=this.input.substring(e,t);this.error(`Conditional expression ${n} requires all 3 expressions`),s=new xm(this.span(e))}return new Dm(this.span(e),t,n,s)}return t}parseLogicalOr(){let e=this.parseLogicalAnd();for(;this.optionalOperator("||");){const t=this.parseLogicalAnd();e=new Vm(this.span(e.span.start),"||",e,t)}return e}parseLogicalAnd(){let e=this.parseEquality();for(;this.optionalOperator("&&");){const t=this.parseEquality();e=new Vm(this.span(e.span.start),"&&",e,t)}return e}parseEquality(){let e=this.parseRelational();for(;this.next.type==mv.Operator;){const t=this.next.strValue;switch(t){case"==":case"===":case"!=":case"!==":this.advance();const n=this.parseRelational();e=new Vm(this.span(e.span.start),t,e,n);continue}break}return e}parseRelational(){let e=this.parseAdditive();for(;this.next.type==mv.Operator;){const t=this.next.strValue;switch(t){case"<":case">":case"<=":case">=":this.advance();const n=this.parseAdditive();e=new Vm(this.span(e.span.start),t,e,n);continue}break}return e}parseAdditive(){let e=this.parseMultiplicative();for(;this.next.type==mv.Operator;){const t=this.next.strValue;switch(t){case"+":case"-":this.advance();let n=this.parseMultiplicative();e=new Vm(this.span(e.span.start),t,e,n);continue}break}return e}parseMultiplicative(){let e=this.parsePrefix();for(;this.next.type==mv.Operator;){const t=this.next.strValue;switch(t){case"*":case"%":case"/":this.advance();let n=this.parsePrefix();e=new Vm(this.span(e.span.start),t,e,n);continue}break}return e}parsePrefix(){if(this.next.type==mv.Operator){const e=this.inputIndex,t=this.next.strValue;let n;switch(t){case"+":return this.advance(),n=this.parsePrefix(),new Vm(this.span(e),"-",n,new Fm(new Cm(e,e),0));case"-":return this.advance(),n=this.parsePrefix(),new Vm(this.span(e),t,new Fm(new Cm(e,e),0),n);case"!":return this.advance(),n=this.parsePrefix(),new Bm(this.span(e),n)}}return this.parseCallChain()}parseCallChain(){let e=this.parsePrimary();for(;;)if(this.optionalCharacter(jf))e=this.parseAccessMemberOrMethodCall(e,!1);else if(this.optionalOperator("?."))e=this.parseAccessMemberOrMethodCall(e,!0);else if(this.optionalCharacter(ng)){this.rbracketsExpected++;const t=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(rg),this.optionalOperator("=")){const n=this.parseConditional();e=new Im(this.span(e.span.start),e,t,n)}else e=new Mm(this.span(e.span.start),e,t)}else if(this.optionalCharacter(Ff)){this.rparensExpected++;const t=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(Rf),e=new qm(this.span(e.span.start),e,t)}else{if(!this.optionalOperator("!"))return e;e=new jm(this.span(e.span.start),e)}}parsePrimary(){const e=this.inputIndex;if(this.optionalCharacter(Ff)){this.rparensExpected++;const e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(Rf),e}if(this.next.isKeywordNull())return this.advance(),new Fm(this.span(e),null);if(this.next.isKeywordUndefined())return this.advance(),new Fm(this.span(e),void 0);if(this.next.isKeywordTrue())return this.advance(),new Fm(this.span(e),!0);if(this.next.isKeywordFalse())return this.advance(),new Fm(this.span(e),!1);if(this.next.isKeywordThis())return this.advance(),new Tm(this.span(e));if(this.optionalCharacter(ng)){this.rbracketsExpected++;const t=this.parseExpressionList(rg);return this.rbracketsExpected--,this.expectCharacter(rg),new Rm(this.span(e),t)}if(this.next.isCharacter(vg))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Tm(this.span(e)),!1);if(this.next.isNumber()){const t=this.next.toNumber();return this.advance(),new Fm(this.span(e),t)}if(this.next.isString()){const t=this.next.toString();return this.advance(),new Fm(this.span(e),t)}return this.index>=this.tokens.length?(this.error(`Unexpected end of expression: ${this.input}`),new xm(this.span(e))):(this.error(`Unexpected token ${this.next}`),new xm(this.span(e)))}parseExpressionList(e){const t=[];if(!this.next.isCharacter(e))do{t.push(this.parsePipe())}while(this.optionalCharacter(Vf));return t}parseLiteralMap(){const e=[],t=[],n=this.inputIndex;if(this.expectCharacter(vg),!this.optionalCharacter(_g)){this.rbracesExpected++;do{const n=this.next.isString(),s=this.expectIdentifierOrKeywordOrString();e.push({key:s,quoted:n}),this.expectCharacter(Hf),t.push(this.parsePipe())}while(this.optionalCharacter(Vf));this.rbracesExpected--,this.expectCharacter(_g)}return new Lm(this.span(n),e,t)}parseAccessMemberOrMethodCall(e,t=!1){const n=e.span.start,s=this.expectIdentifierOrKeyword();if(this.optionalCharacter(Ff)){this.rparensExpected++;const r=this.parseCallArguments();this.expectCharacter(Rf),this.rparensExpected--;const i=this.span(n);return t?new Hm(i,e,s,r):new Um(i,e,s,r)}if(t)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new xm(this.span(n))):new Nm(this.span(n),e,s);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new xm(this.span(n));const t=this.parseConditional();return new km(this.span(n),e,s,t)}return new Pm(this.span(n),e,s)}parseCallArguments(){if(this.next.isCharacter(Rf))return[];const e=[];do{e.push(this.parsePipe())}while(this.optionalCharacter(Vf));return e}expectTemplateBindingKey(){let e="",t=!1;do{e+=this.expectIdentifierOrKeywordOrString(),(t=this.optionalOperator("-"))&&(e+="-")}while(t);return e.toString()}parseTemplateBindings(e){let t=!0;const n=[];do{const s=this.inputIndex;let r,i,o=!1;t?(r=i=e,t=!1):((o=this.peekKeywordLet())&&this.advance(),r=this.expectTemplateBindingKey(),i=o?r:e+r[0].toUpperCase()+r.substring(1),this.optionalCharacter(Hf));let a=null,l=null;if(o)a=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.peekKeywordAs())this.advance(),a=r,i=this.expectTemplateBindingKey(),o=!0;else if(this.next!==wv&&!this.peekKeywordLet()){const e=this.inputIndex,t=this.parsePipe(),n=this.input.substring(e-this.offset,this.inputIndex-this.offset);l=new zm(t,n,this.location,this.errors)}if(n.push(new Wm(this.span(s),i,o,a,l)),this.peekKeywordAs()&&!o){const e=this.inputIndex;this.advance();const t=this.expectTemplateBindingKey();n.push(new Wm(this.span(e),t,!0,i,null))}this.optionalCharacter(qf)||this.optionalCharacter(Vf)}while(this.index<this.tokens.length);return new Mv(n,[],this.errors)}error(e,t=null){this.errors.push(new Em(e,this.input,this.locationText(t),this.location)),this.skip()}locationText(e=null){return null==e&&(e=this.index),e<this.tokens.length?`at column ${this.tokens[e].index+1} in`:"at the end of the expression"}skip(){let e=this.next;for(;this.index<this.tokens.length&&!e.isCharacter(qf)&&(this.rparensExpected<=0||!e.isCharacter(Rf))&&(this.rbracesExpected<=0||!e.isCharacter(_g))&&(this.rbracketsExpected<=0||!e.isCharacter(rg));)this.next.isError()&&this.errors.push(new Em(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),e=this.next}}class Rv{constructor(){this.errors=[]}static check(e){const t=new Rv;return e.visit(t),t.errors}visitImplicitReceiver(e,t){}visitInterpolation(e,t){}visitLiteralPrimitive(e,t){}visitPropertyRead(e,t){}visitPropertyWrite(e,t){}visitSafePropertyRead(e,t){}visitMethodCall(e,t){}visitSafeMethodCall(e,t){}visitFunctionCall(e,t){}visitLiteralArray(e,t){this.visitAll(e.expressions)}visitLiteralMap(e,t){this.visitAll(e.values)}visitBinary(e,t){}visitPrefixNot(e,t){}visitNonNullAssert(e,t){}visitConditional(e,t){}visitPipe(e,t){this.errors.push("pipes")}visitKeyedRead(e,t){}visitKeyedWrite(e,t){}visitAll(e){return e.map(e=>e.visit(this))}visitChain(e,t){}visitQuote(e,t){}}class Lv{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e,t){return e.visitText(this,t)}}class $v{constructor(e,t,n,s,r,i){this.switchValue=e,this.type=t,this.cases=n,this.sourceSpan=s,this.switchValueSourceSpan=r,this.i18n=i}visit(e,t){return e.visitExpansion(this,t)}}class Vv{constructor(e,t,n,s,r){this.value=e,this.expression=t,this.sourceSpan=n,this.valueSourceSpan=s,this.expSourceSpan=r}visit(e,t){return e.visitExpansionCase(this,t)}}class Bv{constructor(e,t,n,s,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=s,this.i18n=r}visit(e,t){return e.visitAttribute(this,t)}}class jv{constructor(e,t,n,s,r=null,i=null,o){this.name=e,this.attrs=t,this.children=n,this.sourceSpan=s,this.startSourceSpan=r,this.endSourceSpan=i,this.i18n=o}visit(e,t){return e.visitElement(this,t)}}class Uv{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e,t){return e.visitComment(this,t)}}function Hv(e,t,n=null){const s=[],r=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=r(e);t&&s.push(t)}),s}var qv;!function(e){e[e.TAG_OPEN_START=0]="TAG_OPEN_START",e[e.TAG_OPEN_END=1]="TAG_OPEN_END",e[e.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",e[e.TAG_CLOSE=3]="TAG_CLOSE",e[e.TEXT=4]="TEXT",e[e.ESCAPABLE_RAW_TEXT=5]="ESCAPABLE_RAW_TEXT",e[e.RAW_TEXT=6]="RAW_TEXT",e[e.COMMENT_START=7]="COMMENT_START",e[e.COMMENT_END=8]="COMMENT_END",e[e.CDATA_START=9]="CDATA_START",e[e.CDATA_END=10]="CDATA_END",e[e.ATTR_NAME=11]="ATTR_NAME",e[e.ATTR_VALUE=12]="ATTR_VALUE",e[e.DOC_TYPE=13]="DOC_TYPE",e[e.EXPANSION_FORM_START=14]="EXPANSION_FORM_START",e[e.EXPANSION_CASE_VALUE=15]="EXPANSION_CASE_VALUE",e[e.EXPANSION_CASE_EXP_START=16]="EXPANSION_CASE_EXP_START",e[e.EXPANSION_CASE_EXP_END=17]="EXPANSION_CASE_EXP_END",e[e.EXPANSION_FORM_END=18]="EXPANSION_FORM_END",e[e.EOF=19]="EOF"}(qv||(qv={}));class zv{constructor(e,t,n){this.type=e,this.parts=t,this.sourceSpan=n}}class Wv extends Pg{constructor(e,t,n){super(n,e),this.tokenType=t}}class Gv{constructor(e,t){this.tokens=e,this.errors=t}}const Kv=/\r\n?/g;function Qv(e){return`Unexpected character "${e===Ef?"EOF":String.fromCharCode(e)}"`}function Zv(e){return`Unknown entity "${e}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}class Xv{constructor(e){this.error=e}}class Yv{constructor(e,t,n,s=kv){this._file=e,this._getTagDefinition=t,this._tokenizeIcu=n,this._interpolationConfig=s,this._peek=-1,this._nextPeek=-1,this._index=-1,this._line=0,this._column=-1,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this._input=e.content,this._length=e.content.length,this._advance()}_processCarriageReturns(e){return e.replace(Kv,"\n")}tokenize(){for(;this._peek!==Ef;){const t=this._getLocation();try{this._attemptCharCode(zf)?this._attemptCharCode(Df)?this._attemptCharCode(ng)?this._consumeCdata(t):this._attemptCharCode(Bf)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(Uf)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){if(!(e instanceof Xv))throw e;this.errors.push(e.error)}}return this._beginToken(qv.EOF),this._endToken([]),new Gv(function(e){const t=[];let n=void 0;for(let s=0;s<e.length;s++){const r=e[s];n&&n.type==qv.TEXT&&r.type==qv.TEXT?(n.parts[0]+=r.parts[0],n.sourceSpan.end=r.sourceSpan.end):(n=r,t.push(n))}return t}(this.tokens),this.errors)}_tokenizeExpansionForm(){if(sy(this._input,this._index,this._interpolationConfig))return this._consumeExpansionFormStart(),!0;if(((e=this._peek)===Wf||Sg(e)||bg(e))&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;var e;if(this._peek===_g){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_getLocation(){return new xg(this._file,this._index,this._line,this._column)}_getSpan(e=this._getLocation(),t=this._getLocation()){return new Ag(e,t)}_beginToken(e,t=this._getLocation()){this._currentTokenStart=t,this._currentTokenType=e}_endToken(e,t=this._getLocation()){const n=new zv(this._currentTokenType,e,new Ag(this._currentTokenStart,t));return this.tokens.push(n),this._currentTokenStart=null,this._currentTokenType=null,n}_createError(e,t){this._isInExpansionForm()&&(e+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const n=new Wv(e,this._currentTokenType,t);return this._currentTokenStart=null,this._currentTokenType=null,new Xv(n)}_advance(){if(this._index>=this._length)throw this._createError(Qv(Ef),this._getSpan());this._peek===bf?(this._line++,this._column=0):this._peek!==bf&&this._peek!==Tf&&this._column++,this._index++,this._peek=this._index>=this._length?Ef:this._input.charCodeAt(this._index),this._nextPeek=this._index+1>=this._length?Ef:this._input.charCodeAt(this._index+1)}_attemptCharCode(e){return this._peek===e&&(this._advance(),!0)}_attemptCharCodeCaseInsensitive(e){return t=this._peek,n=e,ry(t)==ry(n)&&(this._advance(),!0);var t,n}_requireCharCode(e){const t=this._getLocation();if(!this._attemptCharCode(e))throw this._createError(Qv(this._peek),this._getSpan(t,t))}_attemptStr(e){const t=e.length;if(this._index+t>this._length)return!1;const n=this._savePosition();for(let s=0;s<t;s++)if(!this._attemptCharCode(e.charCodeAt(s)))return this._restorePosition(n),!1;return!0}_attemptStrCaseInsensitive(e){for(let t=0;t<e.length;t++)if(!this._attemptCharCodeCaseInsensitive(e.charCodeAt(t)))return!1;return!0}_requireStr(e){const t=this._getLocation();if(!this._attemptStr(e))throw this._createError(Qv(this._peek),this._getSpan(t))}_attemptCharCodeUntilFn(e){for(;!e(this._peek);)this._advance()}_requireCharCodeUntilFn(e,t){const n=this._getLocation();if(this._attemptCharCodeUntilFn(e),this._index-n.offset<t)throw this._createError(Qv(this._peek),this._getSpan(n,n))}_attemptUntilChar(e){for(;this._peek!==e;)this._advance()}_readChar(e){if(e&&this._peek===If)return this._decodeEntity();{const e=this._index;return this._advance(),this._input[e]}}_decodeEntity(){const e=this._getLocation();if(this._advance(),!this._attemptCharCode(kf)){const t=this._savePosition();if(this._attemptCharCodeUntilFn(ny),this._peek!=qf)return this._restorePosition(t),"&";this._advance();const n=this._input.substring(e.offset+1,this._index-1),s=tc[n];if(!s)throw this._createError(Zv(n),this._getSpan(e));return s}{const n=this._attemptCharCode(fg)||this._attemptCharCode(eg),s=this._getLocation().offset;if(this._attemptCharCodeUntilFn(ty),this._peek!=qf)throw this._createError(Qv(this._peek),this._getSpan());this._advance();const r=this._input.substring(s,this._index-1);try{const s=parseInt(r,n?16:10);return String.fromCharCode(s)}catch(t){const n=this._input.substring(e.offset+1,this._index-1);throw this._createError(Zv(n),this._getSpan(e))}}}_consumeRawText(e,t,n){let s;const r=this._getLocation();this._beginToken(e?qv.ESCAPABLE_RAW_TEXT:qv.RAW_TEXT,r);const i=[];for(;s=this._getLocation(),!this._attemptCharCode(t)||!n();)for(this._index>s.offset&&i.push(this._input.substring(s.offset,this._index));this._peek!==t;)i.push(this._readChar(e));return this._endToken([this._processCarriageReturns(i.join(""))],s)}_consumeComment(e){this._beginToken(qv.COMMENT_START,e),this._requireCharCode(Bf),this._endToken([]);const t=this._consumeRawText(!1,Bf,()=>this._attemptStr("->"));this._beginToken(qv.COMMENT_END,t.sourceSpan.end),this._endToken([])}_consumeCdata(e){this._beginToken(qv.CDATA_START,e),this._requireStr("CDATA["),this._endToken([]);const t=this._consumeRawText(!1,rg,()=>this._attemptStr("]>"));this._beginToken(qv.CDATA_END,t.sourceSpan.end),this._endToken([])}_consumeDocType(e){this._beginToken(qv.DOC_TYPE,e),this._attemptUntilChar(Gf),this._advance(),this._endToken([this._input.substring(e.offset+2,this._index-1)])}_consumePrefixAndName(){const e=this._index;let t=null;for(;this._peek!==Hf&&!(((n=this._peek)<ag||gg<n)&&(n<Xf||tg<n)&&(n<Qf||n>Zf));)this._advance();var n;let s;return this._peek===Hf?(this._advance(),t=this._input.substring(e,this._index-1),s=this._index):s=e,this._requireCharCodeUntilFn(ey,this._index===s?1:0),[t,this._input.substring(s,this._index)]}_consumeTagOpen(e){const t=this._savePosition();let n,s;try{if(!Sg(this._peek))throw this._createError(Qv(this._peek),this._getSpan());const r=this._index;for(this._consumeTagOpenStart(e),s=(n=this._input.substring(r,this._index)).toLowerCase(),this._attemptCharCodeUntilFn(Jv);this._peek!==Uf&&this._peek!==Gf;)this._consumeAttributeName(),this._attemptCharCodeUntilFn(Jv),this._attemptCharCode(Wf)&&(this._attemptCharCodeUntilFn(Jv),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(Jv);this._consumeTagOpenEnd()}catch(i){if(i instanceof Xv)return this._restorePosition(t),this._beginToken(qv.TEXT,e),void this._endToken(["<"]);throw i}const r=this._getTagDefinition(n).contentType;r===Kl.RAW_TEXT?this._consumeRawTextWithTagClose(s,!1):r===Kl.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(s,!0)}_consumeRawTextWithTagClose(e,t){const n=this._consumeRawText(t,zf,()=>!!this._attemptCharCode(Uf)&&(this._attemptCharCodeUntilFn(Jv),!!this._attemptStrCaseInsensitive(e)&&(this._attemptCharCodeUntilFn(Jv),this._attemptCharCode(Gf))));this._beginToken(qv.TAG_CLOSE,n.sourceSpan.end),this._endToken([null,e])}_consumeTagOpenStart(e){this._beginToken(qv.TAG_OPEN_START,e);const t=this._consumePrefixAndName();this._endToken(t)}_consumeAttributeName(){this._beginToken(qv.ATTR_NAME);const e=this._consumePrefixAndName();this._endToken(e)}_consumeAttributeValue(){let e;if(this._beginToken(qv.ATTR_VALUE),this._peek===Of||this._peek===Pf){const t=this._peek;this._advance();const n=[];for(;this._peek!==t;)n.push(this._readChar(!0));e=n.join(""),this._advance()}else{const t=this._index;this._requireCharCodeUntilFn(ey,1),e=this._input.substring(t,this._index)}this._endToken([this._processCarriageReturns(e)])}_consumeTagOpenEnd(){const e=this._attemptCharCode(Uf)?qv.TAG_OPEN_END_VOID:qv.TAG_OPEN_END;this._beginToken(e),this._requireCharCode(Gf),this._endToken([])}_consumeTagClose(e){this._beginToken(qv.TAG_CLOSE,e),this._attemptCharCodeUntilFn(Jv);const t=this._consumePrefixAndName();this._attemptCharCodeUntilFn(Jv),this._requireCharCode(Gf),this._endToken(t)}_consumeExpansionFormStart(){this._beginToken(qv.EXPANSION_FORM_START,this._getLocation()),this._requireCharCode(vg),this._endToken([]),this._expansionCaseStack.push(qv.EXPANSION_FORM_START),this._beginToken(qv.RAW_TEXT,this._getLocation());const e=this._readUntil(Vf);this._endToken([e],this._getLocation()),this._requireCharCode(Vf),this._attemptCharCodeUntilFn(Jv),this._beginToken(qv.RAW_TEXT,this._getLocation());const t=this._readUntil(Vf);this._endToken([t],this._getLocation()),this._requireCharCode(Vf),this._attemptCharCodeUntilFn(Jv)}_consumeExpansionCaseStart(){this._beginToken(qv.EXPANSION_CASE_VALUE,this._getLocation());const e=this._readUntil(vg).trim();this._endToken([e],this._getLocation()),this._attemptCharCodeUntilFn(Jv),this._beginToken(qv.EXPANSION_CASE_EXP_START,this._getLocation()),this._requireCharCode(vg),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Jv),this._expansionCaseStack.push(qv.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(qv.EXPANSION_CASE_EXP_END,this._getLocation()),this._requireCharCode(_g),this._endToken([],this._getLocation()),this._attemptCharCodeUntilFn(Jv),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(qv.EXPANSION_FORM_END,this._getLocation()),this._requireCharCode(_g),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const e=this._getLocation();this._beginToken(qv.TEXT,e);const t=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(t.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(t.push(this._interpolationConfig.end),this._inInterpolation=!1):t.push(this._readChar(!0))}while(!this._isTextEnd());this._endToken([this._processCarriageReturns(t.join(""))])}_isTextEnd(){if(this._peek===zf||this._peek===Ef)return!0;if(this._tokenizeIcu&&!this._inInterpolation){if(sy(this._input,this._index,this._interpolationConfig))return!0;if(this._peek===_g&&this._isInExpansionCase())return!0}return!1}_savePosition(){return[this._peek,this._index,this._column,this._line,this.tokens.length]}_readUntil(e){const t=this._index;return this._attemptUntilChar(e),this._input.substring(t,this._index)}_restorePosition(e){this._peek=e[0],this._index=e[1],this._column=e[2],this._line=e[3];const t=e[4];t<this.tokens.length&&(this.tokens=this.tokens.slice(0,t))}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===qv.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===qv.EXPANSION_FORM_START}}function Jv(e){return!Cg(e)||e===Ef}function ey(e){return Cg(e)||e===Gf||e===Uf||e===Of||e===Pf||e===Wf}function ty(e){return e==qf||e==Ef||!function(e){return e>=ag&&e<=cg||e>=Xf&&e<=Jf||bg(e)}(e)}function ny(e){return e==qf||e==Ef||!Sg(e)}function sy(e,t,n){const s=!!n&&e.indexOf(n.start,t)==t;return e.charCodeAt(t)==vg&&!s}function ry(e){return e>=ag&&e<=gg?e-ag+Xf:e}class iy extends Pg{constructor(e,t,n){super(t,n),this.elementName=e}static create(e,t,n){return new iy(e,t,n)}}class oy{constructor(e,t){this.rootNodes=e,this.errors=t}}class ay{constructor(e){this.getTagDefinition=e}parse(e,t,n=!1,s=kv){const r=function(e,t,n,s=!1,r=kv){return new Yv(new Tg(e,t),n,s,r).tokenize()}(e,t,this.getTagDefinition,n,s),i=new ly(r.tokens,this.getTagDefinition).build();return new oy(i.rootNodes,r.errors.concat(i.errors))}}class ly{constructor(e,t){this.tokens=e,this.getTagDefinition=t,this._index=-1,this._rootNodes=[],this._errors=[],this._elementStack=[],this._advance()}build(){for(;this._peek.type!==qv.EOF;)this._peek.type===qv.TAG_OPEN_START?this._consumeStartTag(this._advance()):this._peek.type===qv.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===qv.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===qv.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===qv.TEXT||this._peek.type===qv.RAW_TEXT||this._peek.type===qv.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===qv.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance();return new oy(this._rootNodes,this._errors)}_advance(){const e=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],e}_advanceIf(e){return this._peek.type===e?this._advance():null}_consumeCdata(e){this._consumeText(this._advance()),this._advanceIf(qv.CDATA_END)}_consumeComment(e){const t=this._advanceIf(qv.RAW_TEXT);this._advanceIf(qv.COMMENT_END);const n=null!=t?t.parts[0].trim():null;this._addToParent(new Uv(n,e.sourceSpan))}_consumeExpansion(e){const t=this._advance(),n=this._advance(),s=[];for(;this._peek.type===qv.EXPANSION_CASE_VALUE;){const e=this._parseExpansionCase();if(!e)return;s.push(e)}if(this._peek.type!==qv.EXPANSION_FORM_END)return void this._errors.push(iy.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const r=new Ag(e.sourceSpan.start,this._peek.sourceSpan.end);this._addToParent(new $v(t.parts[0],n.parts[0],s,r,t.sourceSpan)),this._advance()}_parseExpansionCase(){const e=this._advance();if(this._peek.type!==qv.EXPANSION_CASE_EXP_START)return this._errors.push(iy.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const t=this._advance(),n=this._collectExpansionExpTokens(t);if(!n)return null;const s=this._advance();n.push(new zv(qv.EOF,[],s.sourceSpan));const r=new ly(n,this.getTagDefinition).build();if(r.errors.length>0)return this._errors=this._errors.concat(r.errors),null;const i=new Ag(e.sourceSpan.start,s.sourceSpan.end),o=new Ag(t.sourceSpan.start,s.sourceSpan.end);return new Vv(e.parts[0],r.rootNodes,i,e.sourceSpan,o)}_collectExpansionExpTokens(e){const t=[],n=[qv.EXPANSION_CASE_EXP_START];for(;;){if(this._peek.type!==qv.EXPANSION_FORM_START&&this._peek.type!==qv.EXPANSION_CASE_EXP_START||n.push(this._peek.type),this._peek.type===qv.EXPANSION_CASE_EXP_END){if(!cy(n,qv.EXPANSION_CASE_EXP_START))return this._errors.push(iy.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(n.pop(),0==n.length)return t}if(this._peek.type===qv.EXPANSION_FORM_END){if(!cy(n,qv.EXPANSION_FORM_START))return this._errors.push(iy.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;n.pop()}if(this._peek.type===qv.EOF)return this._errors.push(iy.create(null,e.sourceSpan,"Invalid ICU message. Missing '}'.")),null;t.push(this._advance())}}_consumeText(e){let t=e.parts[0];if(t.length>0&&"\n"==t[0]){const e=this._getParentElement();null!=e&&0==e.children.length&&this.getTagDefinition(e.name).ignoreFirstLf&&(t=t.substring(1))}t.length>0&&this._addToParent(new Lv(t,e.sourceSpan))}_closeVoidElement(){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isVoid&&this._elementStack.pop()}_consumeStartTag(e){const t=e.parts[0],n=e.parts[1],s=[];for(;this._peek.type===qv.ATTR_NAME;)s.push(this._consumeAttr(this._advance()));const r=this._getElementFullName(t,n,this._getParentElement());let i=!1;if(this._peek.type===qv.TAG_OPEN_END_VOID){this._advance(),i=!0;const t=this.getTagDefinition(r);t.canSelfClose||null!==Jl(r)||t.isVoid||this._errors.push(iy.create(r,e.sourceSpan,`Only void and foreign elements can be self closed "${e.parts[1]}"`))}else this._peek.type===qv.TAG_OPEN_END&&(this._advance(),i=!1);const o=this._peek.sourceSpan.start,a=new Ag(e.sourceSpan.start,o),l=new jv(r,s,[],a,a,void 0);this._pushElement(l),i&&(this._popElement(r),l.endSourceSpan=a)}_pushElement(e){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isClosedByChild(e.name)&&this._elementStack.pop();const n=this.getTagDefinition(e.name),{parent:s,container:r}=this._getParentElementSkippingContainers();if(s&&n.requireExtraParent(s.name)){const t=new jv(n.parentToAdd,[],[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan);this._insertBeforeContainer(s,r,t)}this._addToParent(e),this._elementStack.push(e)}_consumeEndTag(e){const t=this._getElementFullName(e.parts[0],e.parts[1],this._getParentElement());if(this._getParentElement()&&(this._getParentElement().endSourceSpan=e.sourceSpan),this.getTagDefinition(t).isVoid)this._errors.push(iy.create(t,e.sourceSpan,`Void elements do not have end tags "${e.parts[1]}"`));else if(!this._popElement(t)){const n=`Unexpected closing tag "${t}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`;this._errors.push(iy.create(t,e.sourceSpan,n))}}_popElement(e){for(let t=this._elementStack.length-1;t>=0;t--){const n=this._elementStack[t];if(n.name==e)return this._elementStack.splice(t,this._elementStack.length-t),!0;if(!this.getTagDefinition(n.name).closedByParent)return!1}return!1}_consumeAttr(e){const t=ec(e.parts[0],e.parts[1]);let n=e.sourceSpan.end,s="",r=void 0;if(this._peek.type===qv.ATTR_VALUE){const e=this._advance();s=e.parts[0],n=e.sourceSpan.end,r=e.sourceSpan}return new Bv(t,s,new Ag(e.sourceSpan.start,n),r)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_getParentElementSkippingContainers(){let e=null;for(let t=this._elementStack.length-1;t>=0;t--){if(!Zl(this._elementStack[t].name))return{parent:this._elementStack[t],container:e};e=this._elementStack[t]}return{parent:null,container:e}}_addToParent(e){const t=this._getParentElement();null!=t?t.children.push(e):this._rootNodes.push(e)}_insertBeforeContainer(e,t,n){if(t){if(e){const s=e.children.indexOf(t);e.children[s]=n}else this._rootNodes.push(n);n.children.push(t),this._elementStack.splice(this._elementStack.indexOf(t),0,n)}else this._addToParent(n),this._elementStack.push(n)}_getElementFullName(e,t,n){return null==e&&null==(e=this.getTagDefinition(t).implicitNamespacePrefix)&&null!=n&&(e=Jl(n.name)),ec(e,t)}}function cy(e,t){return e.length>0&&e[e.length-1]===t}class uy extends ay{constructor(){super(oc)}parse(e,t,n=!1,s=kv){return super.parse(e,t,n,s)}}const hy="ngPreserveWhitespaces",dy=new Set(["pre","template","textarea","script","style"]),py=" \f\n\r\t\v\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff",my=new RegExp(`[^${py}]`),fy=new RegExp(`[${py}]{2,}`,"g");function gy(e){return e.replace(new RegExp(nc,"g")," ")}class vy{visitElement(e,t){return dy.has(e.name)||e.attrs.some(e=>e.name===hy)?new jv(e.name,Hv(this,e.attrs),e.children,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n):new jv(e.name,e.attrs,Hv(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}visitAttribute(e,t){return e.name!==hy?e:null}visitText(e,t){return e.value.match(my)?new Lv(gy(e.value).replace(fy," "),e.sourceSpan,e.i18n):null}visitComment(e,t){return e}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}}function yy(e){return new oy(Hv(new vy,e.rootNodes),e.errors)}let _y;function wy(){return _y||(_y={},Ey(Lc.HTML,["iframe|srcdoc","*|innerHTML","*|outerHTML"]),Ey(Lc.STYLE,["*|style"]),Ey(Lc.URL,["*|formAction","area|href","area|ping","audio|src","a|href","a|ping","blockquote|cite","body|background","del|cite","form|action","img|src","img|srcset","input|src","ins|cite","q|cite","source|src","source|srcset","track|src","video|poster","video|src"]),Ey(Lc.RESOURCE_URL,["applet|code","applet|codebase","base|href","embed|src","frame|src","head|profile","html|manifest","iframe|src","link|href","media|src","object|codebase","object|data","script|src"])),_y}function Ey(e,t){for(const n of t)_y[n.toLowerCase()]=e}class Cy{}const by="boolean",Sy="number",xy="string",Ty="object",Ay=["[Element]|textContent,%classList,className,id,innerHTML,*beforecopy,*beforecut,*beforepaste,*copy,*cut,*paste,*search,*selectstart,*webkitfullscreenchange,*webkitfullscreenerror,*wheel,outerHTML,#scrollLeft,#scrollTop,slot,*message,*mozfullscreenchange,*mozfullscreenerror,*mozpointerlockchange,*mozpointerlockerror,*webglcontextcreationerror,*webglcontextlost,*webglcontextrestored","[HTMLElement]^[Element]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","abbr,address,article,aside,b,bdi,bdo,cite,code,dd,dfn,dt,em,figcaption,figure,footer,header,i,kbd,main,mark,nav,noscript,rb,rp,rt,rtc,ruby,s,samp,section,small,strong,sub,sup,u,var,wbr^[HTMLElement]|accessKey,contentEditable,dir,!draggable,!hidden,innerText,lang,*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,outerText,!spellcheck,%style,#tabIndex,title,!translate","media^[HTMLElement]|!autoplay,!controls,%controlsList,%crossOrigin,#currentTime,!defaultMuted,#defaultPlaybackRate,!disableRemotePlayback,!loop,!muted,*encrypted,*waitingforkey,#playbackRate,preload,src,%srcObject,#volume",":svg:^[HTMLElement]|*abort,*auxclick,*blur,*cancel,*canplay,*canplaythrough,*change,*click,*close,*contextmenu,*cuechange,*dblclick,*drag,*dragend,*dragenter,*dragleave,*dragover,*dragstart,*drop,*durationchange,*emptied,*ended,*error,*focus,*gotpointercapture,*input,*invalid,*keydown,*keypress,*keyup,*load,*loadeddata,*loadedmetadata,*loadstart,*lostpointercapture,*mousedown,*mouseenter,*mouseleave,*mousemove,*mouseout,*mouseover,*mouseup,*mousewheel,*pause,*play,*playing,*pointercancel,*pointerdown,*pointerenter,*pointerleave,*pointermove,*pointerout,*pointerover,*pointerup,*progress,*ratechange,*reset,*resize,*scroll,*seeked,*seeking,*select,*show,*stalled,*submit,*suspend,*timeupdate,*toggle,*volumechange,*waiting,%style,#tabIndex",":svg:graphics^:svg:|",":svg:animation^:svg:|*begin,*end,*repeat",":svg:geometry^:svg:|",":svg:componentTransferFunction^:svg:|",":svg:gradient^:svg:|",":svg:textContent^:svg:graphics|",":svg:textPositioning^:svg:textContent|","a^[HTMLElement]|charset,coords,download,hash,host,hostname,href,hreflang,name,password,pathname,ping,port,protocol,referrerPolicy,rel,rev,search,shape,target,text,type,username","area^[HTMLElement]|alt,coords,download,hash,host,hostname,href,!noHref,password,pathname,ping,port,protocol,referrerPolicy,rel,search,shape,target,username","audio^media|","br^[HTMLElement]|clear","base^[HTMLElement]|href,target","body^[HTMLElement]|aLink,background,bgColor,link,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,text,vLink","button^[HTMLElement]|!autofocus,!disabled,formAction,formEnctype,formMethod,!formNoValidate,formTarget,name,type,value","canvas^[HTMLElement]|#height,#width","content^[HTMLElement]|select","dl^[HTMLElement]|!compact","datalist^[HTMLElement]|","details^[HTMLElement]|!open","dialog^[HTMLElement]|!open,returnValue","dir^[HTMLElement]|!compact","div^[HTMLElement]|align","embed^[HTMLElement]|align,height,name,src,type,width","fieldset^[HTMLElement]|!disabled,name","font^[HTMLElement]|color,face,size","form^[HTMLElement]|acceptCharset,action,autocomplete,encoding,enctype,method,name,!noValidate,target","frame^[HTMLElement]|frameBorder,longDesc,marginHeight,marginWidth,name,!noResize,scrolling,src","frameset^[HTMLElement]|cols,*beforeunload,*blur,*error,*focus,*hashchange,*languagechange,*load,*message,*offline,*online,*pagehide,*pageshow,*popstate,*rejectionhandled,*resize,*scroll,*storage,*unhandledrejection,*unload,rows","hr^[HTMLElement]|align,color,!noShade,size,width","head^[HTMLElement]|","h1,h2,h3,h4,h5,h6^[HTMLElement]|align","html^[HTMLElement]|version","iframe^[HTMLElement]|align,!allowFullscreen,frameBorder,height,longDesc,marginHeight,marginWidth,name,referrerPolicy,%sandbox,scrolling,src,srcdoc,width","img^[HTMLElement]|align,alt,border,%crossOrigin,#height,#hspace,!isMap,longDesc,lowsrc,name,referrerPolicy,sizes,src,srcset,useMap,#vspace,#width","input^[HTMLElement]|accept,align,alt,autocapitalize,autocomplete,!autofocus,!checked,!defaultChecked,defaultValue,dirName,!disabled,%files,formAction,formEnctype,formMethod,!formNoValidate,formTarget,#height,!incremental,!indeterminate,max,#maxLength,min,#minLength,!multiple,name,pattern,placeholder,!readOnly,!required,selectionDirection,#selectionEnd,#selectionStart,#size,src,step,type,useMap,value,%valueAsDate,#valueAsNumber,#width","li^[HTMLElement]|type,#value","label^[HTMLElement]|htmlFor","legend^[HTMLElement]|align","link^[HTMLElement]|as,charset,%crossOrigin,!disabled,href,hreflang,integrity,media,referrerPolicy,rel,%relList,rev,%sizes,target,type","map^[HTMLElement]|name","marquee^[HTMLElement]|behavior,bgColor,direction,height,#hspace,#loop,#scrollAmount,#scrollDelay,!trueSpeed,#vspace,width","menu^[HTMLElement]|!compact","meta^[HTMLElement]|content,httpEquiv,name,scheme","meter^[HTMLElement]|#high,#low,#max,#min,#optimum,#value","ins,del^[HTMLElement]|cite,dateTime","ol^[HTMLElement]|!compact,!reversed,#start,type","object^[HTMLElement]|align,archive,border,code,codeBase,codeType,data,!declare,height,#hspace,name,standby,type,useMap,#vspace,width","optgroup^[HTMLElement]|!disabled,label","option^[HTMLElement]|!defaultSelected,!disabled,label,!selected,text,value","output^[HTMLElement]|defaultValue,%htmlFor,name,value","p^[HTMLElement]|align","param^[HTMLElement]|name,type,value,valueType","picture^[HTMLElement]|","pre^[HTMLElement]|#width","progress^[HTMLElement]|#max,#value","q,blockquote,cite^[HTMLElement]|","script^[HTMLElement]|!async,charset,%crossOrigin,!defer,event,htmlFor,integrity,src,text,type","select^[HTMLElement]|!autofocus,!disabled,#length,!multiple,name,!required,#selectedIndex,#size,value","shadow^[HTMLElement]|","slot^[HTMLElement]|name","source^[HTMLElement]|media,sizes,src,srcset,type","span^[HTMLElement]|","style^[HTMLElement]|!disabled,media,type","caption^[HTMLElement]|align","th,td^[HTMLElement]|abbr,align,axis,bgColor,ch,chOff,#colSpan,headers,height,!noWrap,#rowSpan,scope,vAlign,width","col,colgroup^[HTMLElement]|align,ch,chOff,#span,vAlign,width","table^[HTMLElement]|align,bgColor,border,%caption,cellPadding,cellSpacing,frame,rules,summary,%tFoot,%tHead,width","tr^[HTMLElement]|align,bgColor,ch,chOff,vAlign","tfoot,thead,tbody^[HTMLElement]|align,ch,chOff,vAlign","template^[HTMLElement]|","textarea^[HTMLElement]|autocapitalize,!autofocus,#cols,defaultValue,dirName,!disabled,#maxLength,#minLength,name,placeholder,!readOnly,!required,#rows,selectionDirection,#selectionEnd,#selectionStart,value,wrap","title^[HTMLElement]|text","track^[HTMLElement]|!default,kind,label,src,srclang","ul^[HTMLElement]|!compact,type","unknown^[HTMLElement]|","video^media|#height,poster,#width",":svg:a^:svg:graphics|",":svg:animate^:svg:animation|",":svg:animateMotion^:svg:animation|",":svg:animateTransform^:svg:animation|",":svg:circle^:svg:geometry|",":svg:clipPath^:svg:graphics|",":svg:defs^:svg:graphics|",":svg:desc^:svg:|",":svg:discard^:svg:|",":svg:ellipse^:svg:geometry|",":svg:feBlend^:svg:|",":svg:feColorMatrix^:svg:|",":svg:feComponentTransfer^:svg:|",":svg:feComposite^:svg:|",":svg:feConvolveMatrix^:svg:|",":svg:feDiffuseLighting^:svg:|",":svg:feDisplacementMap^:svg:|",":svg:feDistantLight^:svg:|",":svg:feDropShadow^:svg:|",":svg:feFlood^:svg:|",":svg:feFuncA^:svg:componentTransferFunction|",":svg:feFuncB^:svg:componentTransferFunction|",":svg:feFuncG^:svg:componentTransferFunction|",":svg:feFuncR^:svg:componentTransferFunction|",":svg:feGaussianBlur^:svg:|",":svg:feImage^:svg:|",":svg:feMerge^:svg:|",":svg:feMergeNode^:svg:|",":svg:feMorphology^:svg:|",":svg:feOffset^:svg:|",":svg:fePointLight^:svg:|",":svg:feSpecularLighting^:svg:|",":svg:feSpotLight^:svg:|",":svg:feTile^:svg:|",":svg:feTurbulence^:svg:|",":svg:filter^:svg:|",":svg:foreignObject^:svg:graphics|",":svg:g^:svg:graphics|",":svg:image^:svg:graphics|",":svg:line^:svg:geometry|",":svg:linearGradient^:svg:gradient|",":svg:mpath^:svg:|",":svg:marker^:svg:|",":svg:mask^:svg:|",":svg:metadata^:svg:|",":svg:path^:svg:geometry|",":svg:pattern^:svg:|",":svg:polygon^:svg:geometry|",":svg:polyline^:svg:geometry|",":svg:radialGradient^:svg:gradient|",":svg:rect^:svg:geometry|",":svg:svg^:svg:graphics|#currentScale,#zoomAndPan",":svg:script^:svg:|type",":svg:set^:svg:animation|",":svg:stop^:svg:|",":svg:style^:svg:|!disabled,media,title,type",":svg:switch^:svg:graphics|",":svg:symbol^:svg:|",":svg:tspan^:svg:textPositioning|",":svg:text^:svg:textPositioning|",":svg:textPath^:svg:textContent|",":svg:title^:svg:|",":svg:use^:svg:graphics|",":svg:view^:svg:|#zoomAndPan","data^[HTMLElement]|value","keygen^[HTMLElement]|!autofocus,challenge,!disabled,form,keytype,name","menuitem^[HTMLElement]|type,label,icon,!disabled,!checked,radiogroup,!default","summary^[HTMLElement]|","time^[HTMLElement]|dateTime",":svg:cursor^:svg:|"],Dy={class:"className",for:"htmlFor",formaction:"formAction",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"};class Py extends Cy{constructor(){super(),this._schema={},Ay.forEach(e=>{const t={},[n,s]=e.split("|"),r=s.split(","),[i,o]=n.split("^");i.split(",").forEach(e=>this._schema[e.toLowerCase()]=t);const a=o&&this._schema[o.toLowerCase()];a&&Object.keys(a).forEach(e=>{t[e]=a[e]}),r.forEach(e=>{if(e.length>0)switch(e[0]){case"*":break;case"!":t[e.substring(1)]=by;break;case"#":t[e.substring(1)]=Sy;break;case"%":t[e.substring(1)]=Ty;break;default:t[e]=xy}})})}hasProperty(e,t,n){if(n.some(e=>e.name===Nc.name))return!0;if(e.indexOf("-")>-1){if(Zl(e)||Xl(e))return!1;if(n.some(e=>e.name===kc.name))return!0}return!!(this._schema[e.toLowerCase()]||this._schema.unknown)[t]}hasElement(e,t){if(t.some(e=>e.name===Nc.name))return!0;if(e.indexOf("-")>-1){if(Zl(e)||Xl(e))return!0;if(t.some(e=>e.name===kc.name))return!0}return!!this._schema[e.toLowerCase()]}securityContext(e,t,n){n&&(t=this.getMappedPropName(t)),e=e.toLowerCase(),t=t.toLowerCase();let s=wy()[e+"|"+t];return s||((s=wy()["*|"+t])||Lc.NONE)}getMappedPropName(e){return Dy[e]||e}getDefaultComponentElementName(){return"ng-component"}validateProperty(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event property '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`+`\nIf '${e}' is a directive input, make sure the directive is imported by the`+" current module."}}return{error:!1}}validateAttribute(e){if(e.toLowerCase().startsWith("on")){return{error:!0,msg:`Binding to event attribute '${e}' is disallowed for security reasons, `+`please use (${e.slice(2)})=...`}}return{error:!1}}allKnownElementNames(){return Object.keys(this._schema)}normalizeAnimationStyleProperty(e){return e.replace(ch,(...e)=>e[1].toUpperCase())}normalizeAnimationStyleValue(e,t,n){let s="";const r=n.toString().trim();let i=null;if(function(e){switch(e){case"width":case"height":case"minWidth":case"minHeight":case"maxWidth":case"maxHeight":case"left":case"top":case"bottom":case"right":case"fontSize":case"outlineWidth":case"outlineOffset":case"paddingTop":case"paddingLeft":case"paddingBottom":case"paddingRight":case"marginTop":case"marginLeft":case"marginBottom":case"marginRight":case"borderRadius":case"borderWidth":case"borderTopWidth":case"borderLeftWidth":case"borderRightWidth":case"borderBottomWidth":case"textIndent":return!0;default:return!1}}(e)&&0!==n&&"0"!==n)if("number"==typeof n)s="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&(i=`Please provide a CSS unit value for ${t}:${n}`)}return{error:i,value:r+s}}}const ky=".",Ny="attr",My="class",Iy="style",Oy="animate-";class Fy{constructor(e,t,n,s,r){if(this._exprParser=e,this._interpolationConfig=t,this._schemaRegistry=n,this.errors=r,this.pipesByName=null,this._usedPipes=new Map,s){const e=new Map;s.forEach(t=>e.set(t.name,t)),this.pipesByName=e}}getUsedPipes(){return Array.from(this._usedPipes.values())}createBoundHostProperties(e,t){if(e.hostProperties){const n=[];return Object.keys(e.hostProperties).forEach(s=>{const r=e.hostProperties[s];"string"==typeof r?this.parsePropertyBinding(s,r,!0,t,[],n):this._reportError(`Value of the host property binding "${s}" needs to be a string representing an expression but got "${r}" (${typeof r})`,t)}),n}return null}createDirectiveHostPropertyAsts(e,t,n){const s=this.createBoundHostProperties(e,n);return s&&s.map(e=>this.createBoundElementProperty(t,e))}createDirectiveHostEventAsts(e,t){if(e.hostListeners){const n=[];return Object.keys(e.hostListeners).forEach(s=>{const r=e.hostListeners[s];"string"==typeof r?this.parseEvent(s,r,t,[],n):this._reportError(`Value of the host listener "${s}" needs to be a string representing an expression but got "${r}" (${typeof r})`,t)}),n}return null}parseInterpolation(e,t){const n=t.start.toString();try{const r=this._exprParser.parseInterpolation(e,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),this._checkPipes(r,t),r}catch(s){return this._reportError(`${s}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}}parseInlineTemplateBinding(e,t,n,s,r,i){const o=this._parseTemplateBindings(e,t,n);for(let a=0;a<o.length;a++){const e=o[a];e.keyIsVar?i.push(new nf(e.key,e.name,n)):e.expression?this._parsePropertyAst(e.key,e.expression,n,s,r):(s.push([e.key,""]),this.parseLiteralAttr(e.key,null,n,s,r))}}_parseTemplateBindings(e,t,n){const s=n.start.toString();try{const i=this._exprParser.parseTemplateBindings(e,t,s);return this._reportExpressionParserErrors(i.errors,n),i.templateBindings.forEach(e=>{e.expression&&this._checkPipes(e.expression,n)}),i.warnings.forEach(e=>{this._reportError(e,n,Dg.WARNING)}),i.templateBindings}catch(r){return this._reportError(`${r}`,n),[]}}parseLiteralAttr(e,t,n,s,r){Ly(e)?(e=e.substring(1),t&&this._reportError('Assigning animation triggers via @prop="exp" attributes with an expression is invalid. Use property bindings (e.g. [@prop]="exp") or use an attribute without a value (e.g. @prop) instead.',n,Dg.ERROR),this._parseAnimation(e,t,n,s,r)):r.push(new Zm(e,this._exprParser.wrapLiteralPrimitive(t,""),Xm.LITERAL_ATTR,n))}parsePropertyBinding(e,t,n,s,r,i){let o=!1;e.startsWith(Oy)?(o=!0,e=e.substring(Oy.length)):Ly(e)&&(o=!0,e=e.substring(1)),o?this._parseAnimation(e,t,s,r,i):this._parsePropertyAst(e,this._parseBinding(t,n,s),s,r,i)}parsePropertyInterpolation(e,t,n,s,r){const i=this.parseInterpolation(t,n);return!!i&&(this._parsePropertyAst(e,i,n,s,r),!0)}_parsePropertyAst(e,t,n,s,r){s.push([e,t.source]),r.push(new Zm(e,t,Xm.DEFAULT,n))}_parseAnimation(e,t,n,s,r){const i=this._parseBinding(t||"undefined",!1,n);s.push([e,i.source]),r.push(new Zm(e,i,Xm.ANIMATION,n))}_parseBinding(e,t,n){const s=(n&&n.start||"(unknown)").toString();try{const i=t?this._exprParser.parseSimpleBinding(e,s,this._interpolationConfig):this._exprParser.parseBinding(e,s,this._interpolationConfig);return i&&this._reportExpressionParserErrors(i.errors,n),this._checkPipes(i,n),i}catch(r){return this._reportError(`${r}`,n),this._exprParser.wrapLiteralPrimitive("ERROR",s)}}createBoundElementProperty(e,t){if(t.isAnimation)return new sf(t.name,4,Lc.NONE,t.expression,null,t.sourceSpan);let n=null,s=void 0,r=null;const i=t.name.split(ky);let o=void 0;if(i.length>1)if(i[0]==Ny){r=i[1],this._validatePropertyOrAttributeName(r,t.sourceSpan,!0),o=$y(this._schemaRegistry,e,r,!0);const n=r.indexOf(":");if(n>-1){const e=r.substring(0,n),t=r.substring(n+1);r=ec(e,t)}s=1}else i[0]==My?(r=i[1],s=2,o=[Lc.NONE]):i[0]==Iy&&(n=i.length>2?i[2]:null,r=i[1],s=3,o=[Lc.STYLE]);return null===r&&(r=this._schemaRegistry.getMappedPropName(t.name),o=$y(this._schemaRegistry,e,r,!1),s=0,this._validatePropertyOrAttributeName(r,t.sourceSpan,!1)),new sf(r,s,o[0],t.expression,n,t.sourceSpan)}parseEvent(e,t,n,s,r){Ly(e)?(e=e.substr(1),this._parseAnimationEvent(e,t,n,r)):this._parseRegularEvent(e,t,n,s,r)}_parseAnimationEvent(e,t,n,s){const r=hh(e,".",[e,""]);const i=r[0],o=r[1].toLowerCase();if(o)switch(o){case"start":case"done":const e=this._parseAction(t,n);s.push(new tf(i,o,1,e,n));break;default:this._reportError(`The provided animation output phase value "${o}" for "@${i}" is not supported (use start or done)`,n)}else this._reportError(`The animation trigger output event (@${i}) is missing its phase value name (start or done are currently supported)`,n)}_parseRegularEvent(e,t,n,s,r){const[i,o]=uh(e,[null,e]),a=this._parseAction(t,n);s.push([e,a.source]),r.push(new tf(o,i,0,a,n))}_parseAction(e,t){const n=(t&&t.start||"(unknown").toString();try{const r=this._exprParser.parseAction(e,n,this._interpolationConfig);return r&&this._reportExpressionParserErrors(r.errors,t),!r||r.ast instanceof xm?(this._reportError("Empty expressions are not allowed",t),this._exprParser.wrapLiteralPrimitive("ERROR",n)):(this._checkPipes(r,t),r)}catch(s){return this._reportError(`${s}`,t),this._exprParser.wrapLiteralPrimitive("ERROR",n)}}_reportError(e,t,n=Dg.ERROR){this.errors.push(new Pg(t,e,n))}_reportExpressionParserErrors(e,t){for(const n of e)this._reportError(n.message,t)}_checkPipes(e,t){if(e&&this.pipesByName){const n=new Ry;e.visit(n),n.pipes.forEach((e,n)=>{const s=this.pipesByName.get(n);s?this._usedPipes.set(n,s):this._reportError(`The pipe '${n}' could not be found`,new Ag(t.start.moveBy(e.span.start),t.start.moveBy(e.span.end)))})}}_validatePropertyOrAttributeName(e,t,n){const s=n?this._schemaRegistry.validateAttribute(e):this._schemaRegistry.validateProperty(e);s.error&&this._reportError(s.msg,t,Dg.ERROR)}}class Ry extends Gm{constructor(){super(...arguments),this.pipes=new Map}visitPipe(e,t){return this.pipes.set(e.name,e),e.exp.visit(this),this.visitAll(e.args,t),null}}function Ly(e){return"@"==e[0]}function $y(e,t,n,s){const r=[];return lc.parse(t).forEach(t=>{const i=t.element?[t.element]:e.allKnownElementNames(),o=new Set(t.notSelectors.filter(e=>e.isElementSelector()).map(e=>e.element)),a=i.filter(e=>!o.has(e));r.push(...a.map(t=>e.securityContext(t,n,s)))}),0===r.length?[Lc.NONE]:Array.from(new Set(r)).sort()}class Vy{constructor(e,t){this.value=e,this.sourceSpan=t}visit(e){return e.visitText(this)}}class By{constructor(e,t,n){this.value=e,this.sourceSpan=t,this.i18n=n}visit(e){return e.visitBoundText(this)}}class jy{constructor(e,t,n,s,r){this.name=e,this.value=t,this.sourceSpan=n,this.valueSpan=s,this.i18n=r}visit(e){return e.visitTextAttribute(this)}}class Uy{constructor(e,t,n,s,r,i,o){this.name=e,this.type=t,this.securityContext=n,this.value=s,this.unit=r,this.sourceSpan=i,this.i18n=o}static fromBoundElementProperty(e,t){return new Uy(e.name,e.type,e.securityContext,e.value,e.unit,e.sourceSpan,t)}visit(e){return e.visitBoundAttribute(this)}}class Hy{constructor(e,t,n,s,r){this.name=e,this.handler=t,this.target=n,this.phase=s,this.sourceSpan=r}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new Hy(e.name,e.handler,t,n,e.sourceSpan)}visit(e){return e.visitBoundEvent(this)}}class qy{constructor(e,t,n,s,r,i,o,a,l,c){this.name=e,this.attributes=t,this.inputs=n,this.outputs=s,this.children=r,this.references=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitElement(this)}}class zy{constructor(e,t,n,s,r,i,o,a,l,c){this.attributes=e,this.inputs=t,this.outputs=n,this.children=s,this.references=r,this.variables=i,this.sourceSpan=o,this.startSourceSpan=a,this.endSourceSpan=l,this.i18n=c}visit(e){return e.visitTemplate(this)}}class Wy{constructor(e,t,n,s){this.selectorIndex=e,this.attributes=t,this.sourceSpan=n,this.i18n=s}visit(e){return e.visitContent(this)}}class Gy{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e){return e.visitVariable(this)}}class Ky{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e){return e.visitReference(this)}}class Qy{constructor(e,t,n,s){this.vars=e,this.placeholders=t,this.sourceSpan=n,this.i18n=s}visit(e){return e.visitIcu(this)}}function Zy(e,t){const n=[];if(e.visit)for(const s of t){e.visit(s)||s.visit(e)}else for(const s of t){const t=s.visit(e);t&&n.push(t)}return n}class Xy{constructor(e,t){this.style=e,this.styleUrls=t}}function Yy(e){if(null==e||0===e.length||"/"==e[0])return!1;const t=e.match(t_);return null===t||"package"==t[1]||"asset"==t[1]}const Jy=/@import\s+(?:url\()?\s*(?:(?:['"]([^'"]*))|([^;\)\s]*))[^;]*;?/g,e_=/\/\*(?!#\s*(?:sourceURL|sourceMappingURL)=)[\s\S]+?\*\//g,t_=/^([^:\/?#]+):/,n_="select",s_="link",r_="rel",i_="href",o_="stylesheet",a_="style",l_="script",c_="ngNonBindable",u_="ngProjectAs";function h_(e){let t=null,n=null,s=null,r=!1,i="";e.attrs.forEach(e=>{const o=e.name.toLowerCase();o==n_?t=e.value:o==i_?n=e.value:o==r_?s=e.value:e.name==c_?r=!0:e.name==u_&&e.value.length>0&&(i=e.value)}),t=function(e){if(null===e||0===e.length)return"*";return e}(t);const o=e.name.toLowerCase();let a=d_.OTHER;return Xl(o)?a=d_.NG_CONTENT:o==a_?a=d_.STYLE:o==l_?a=d_.SCRIPT:o==s_&&s==o_&&(a=d_.STYLESHEET),new p_(a,t,n,r,i)}var d_;!function(e){e[e.NG_CONTENT=0]="NG_CONTENT",e[e.STYLE=1]="STYLE",e[e.STYLESHEET=2]="STYLESHEET",e[e.SCRIPT=3]="SCRIPT",e[e.OTHER=4]="OTHER"}(d_||(d_={}));class p_{constructor(e,t,n,s,r){this.type=e,this.selectAttr=t,this.hrefAttr=n,this.nonBindable=s,this.projectAs=r}}const m_=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,f_=1,g_=2,v_=3,y_=4,__=5,w_=6,E_=7,C_=8,b_=9,S_=10,x_="*",T_="*";function A_(e,t){const n=new D_(t),s=Hv(n,e),r=t.errors.concat(n.errors),i=r.filter(e=>e.level===Dg.ERROR);if(i.length>0){throw yh(`Template parse errors:\n${i.join("\n")}`,i)}return{nodes:s,errors:r,ngContentSelectors:n.ngContentSelectors,hasNgContent:n.hasNgContent}}class D_{constructor(e){this.bindingParser=e,this.errors=[],this.ngContentSelectors=[],this.hasNgContent=!1}visitElement(e){const t=h_(e);if(t.type===d_.SCRIPT||t.type===d_.STYLE)return null;if(t.type===d_.STYLESHEET&&Yy(t.hrefAttr))return null;const n=Yl(e.name),s=[],r=[],i=[],o=[],a=[],l={},c=[],u=[];let h=!1;for(const m of e.attrs){let e=!1;const t=k_(m.name);let d=!1;if(m.i18n&&(l[m.name]=m.i18n),t.startsWith(x_)){h&&this.reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",m.sourceSpan),d=!0,h=!0;const e=m.value,n=t.substring(x_.length),s=[];this.bindingParser.parseInlineTemplateBinding(n,e,m.sourceSpan,[],c,s),u.push(...s.map(e=>new Gy(e.name,e.value,e.sourceSpan)))}else e=this.parseAttribute(n,m,[],s,r,i,o);e||d||a.push(this.visitAttribute(m))}const d=Hv(t.nonBindable?P_:this,e.children);let p;if(t.type===d_.NG_CONTENT){this.hasNgContent=!0,e.children&&!e.children.every(M_)&&this.reportError("<ng-content> element cannot have content.",e.sourceSpan);const n=t.selectAttr;let s=e.attrs.map(e=>this.visitAttribute(e));const r=n===T_?0:this.ngContentSelectors.push(n);p=new Wy(r,s,e.sourceSpan,e.i18n)}else if(n){const t=this.extractAttributes(e.name,s,l);p=new zy(a,t.bound,r,d,o,i,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}else{const t=this.extractAttributes(e.name,s,l);p=new qy(e.name,a,t.bound,r,d,o,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}if(h){const t=this.extractAttributes("ng-template",c,l);p=new zy(t.literal,t.bound,[],[p],[],u,e.sourceSpan,e.startSourceSpan,e.endSourceSpan,e.i18n)}return p}visitAttribute(e){return new jy(e.name,e.value,e.sourceSpan,e.valueSpan,e.i18n)}visitText(e){return this._visitTextWithInterpolation(e.value,e.sourceSpan,e.i18n)}visitExpansion(e){const t=e.i18n;if(!t)return null;const n={},s={};return Object.keys(t.placeholders).forEach(r=>{const i=t.placeholders[r];r.startsWith(vp)?n[r]=this._visitTextWithInterpolation(`{{${i}}}`,e.sourceSpan):s[r]=this._visitTextWithInterpolation(i,e.sourceSpan)}),new Qy(n,s,e.sourceSpan,t)}visitExpansionCase(e){return null}visitComment(e){return null}extractAttributes(e,t,n){const s=[],r=[];return t.forEach(t=>{const i=n[t.name];if(t.isLiteral)r.push(new jy(t.name,t.expression.source||"",t.sourceSpan,void 0,i));else{const n=this.bindingParser.createBoundElementProperty(e,t);s.push(Uy.fromBoundElementProperty(n,i))}}),{bound:s,literal:r}}parseAttribute(e,t,n,s,r,i,o){const a=k_(t.name),l=t.value,c=t.sourceSpan,u=a.match(m_);let h=!1;if(u){if(h=!0,null!=u[f_])this.bindingParser.parsePropertyBinding(u[E_],l,!1,c,n,s);else if(u[g_])if(e){const e=u[E_];this.parseVariable(e,l,c,i)}else this.reportError('"let-" is only supported on ng-template elements.',c);else if(u[v_]){const e=u[E_];this.parseReference(e,l,c,o)}else if(u[y_]){const e=[];this.bindingParser.parseEvent(u[E_],l,c,n,e),N_(e,r)}else if(u[__])this.bindingParser.parsePropertyBinding(u[E_],l,!1,c,n,s),this.parseAssignmentEvent(u[E_],l,c,n,r);else if(u[w_])this.bindingParser.parseLiteralAttr(a,l,c,n,s);else if(u[C_])this.bindingParser.parsePropertyBinding(u[C_],l,!1,c,n,s),this.parseAssignmentEvent(u[C_],l,c,n,r);else if(u[b_])this.bindingParser.parsePropertyBinding(u[b_],l,!1,c,n,s);else if(u[S_]){const e=[];this.bindingParser.parseEvent(u[S_],l,c,n,e),N_(e,r)}}else h=this.bindingParser.parsePropertyInterpolation(a,l,c,n,s);return h}_visitTextWithInterpolation(e,t,n){const s=gy(e),r=this.bindingParser.parseInterpolation(s,t);return r?new By(r,t,n):new Vy(s,t)}parseVariable(e,t,n,s){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in variable names',n),s.push(new Gy(e,t,n))}parseReference(e,t,n,s){e.indexOf("-")>-1&&this.reportError('"-" is not allowed in reference names',n),s.push(new Ky(e,t,n))}parseAssignmentEvent(e,t,n,s,r){const i=[];this.bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,s,i),N_(i,r)}reportError(e,t,n=Dg.ERROR){this.errors.push(new Pg(t,e,n))}}const P_=new class{visitElement(e){const t=h_(e);if(t.type===d_.SCRIPT||t.type===d_.STYLE||t.type===d_.STYLESHEET)return null;const n=Hv(this,e.children,null);return new qy(e.name,Hv(this,e.attrs),[],[],n,[],e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitComment(e){return null}visitAttribute(e){return new jy(e.name,e.value,e.sourceSpan,void 0,e.i18n)}visitText(e){return new Vy(e.value,e.sourceSpan)}visitExpansion(e){return null}visitExpansionCase(e){return null}};function k_(e){return/^data-/i.test(e)?e.substring(5):e}function N_(e,t){t.push(...e.map(e=>Hy.fromParsedEvent(e)))}function M_(e){return e instanceof Lv&&0==e.value.trim().length}var I_;!function(e){e[e.ELEMENT=0]="ELEMENT",e[e.TEMPLATE=1]="TEMPLATE"}(I_||(I_={}));class O_{constructor(e,t,n=0,s=null,r,i){this.index=e,this.ref=t,this.level=n,this.templateIndex=s,this.meta=r,this.registry=i,this.bindings=new Set,this.placeholders=new Map,this._unresolvedCtxCount=0,this._registry=i||{getUniqueId:function(e=0){let t=e;return()=>t++}(),icus:new Map},this.id=this._registry.getUniqueId()}appendTag(e,t,n,s){if(t.isVoid&&s)return;const r=t.isVoid||!s?t.startName:t.closeName,i={type:e,index:n,ctx:this.id,isVoid:t.isVoid,closed:s};Dp(this.placeholders,r,i)}get icus(){return this._registry.icus}get isRoot(){return 0===this.level}get isResolved(){return 0===this._unresolvedCtxCount}getSerializedPlaceholders(){const e=new Map;return this.placeholders.forEach((t,n)=>e.set(n,t.map($_))),e}appendBinding(e){this.bindings.add(e)}appendIcu(e,t){Dp(this._registry.icus,e,t)}appendBoundText(e){Pp(e,this.bindings.size,this.id).forEach((e,t)=>Dp(this.placeholders,t,...e))}appendTemplate(e,t){this.appendTag(I_.TEMPLATE,e,t,!1),this.appendTag(I_.TEMPLATE,e,t,!0),this._unresolvedCtxCount++}appendElement(e,t,n){this.appendTag(I_.ELEMENT,e,t,n)}forkChildContext(e,t,n){return new O_(e,this.ref,this.level+1,t,n,this._registry)}reconcileChildContext(e){["start","close"].forEach(t=>{const n=e.meta[`${t}Name`],s=(this.placeholders.get(n)||[]).find(L_(this.id,e.templateIndex));s&&(s.ctx=e.id)}),e.placeholders.forEach((t,n)=>{const s=this.placeholders.get(n);if(!s)return void this.placeholders.set(n,t);const r=function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return-1}(s,L_(e.id,e.templateIndex));if(r>=0){const e=n.startsWith("CLOSE");if(n.endsWith("NG-TEMPLATE"))s.splice(r+(e?0:1),0,...t);else{t[e?t.length-1:0].tmpl=s[r],s.splice(r,1,...t)}}else s.push(...t);this.placeholders.set(n,s)}),this._unresolvedCtxCount--}}function F_(e,t,n,s){return Tp(`${s?"/":""}${e}${t}`,n)}function R_(e,{index:t,ctx:n,isVoid:s},r){return s?F_(e,t,n)+F_(e,t,n,!0):F_(e,t,n,r)}function L_(e,t){return n=>"object"==typeof n&&n.type===I_.TEMPLATE&&n.index===t&&n.ctx===e}function $_(e){const t=(e,t)=>R_("#",e,t),n=(e,t)=>R_("*",e,t);switch(e.type){case I_.ELEMENT:return e.closed?t(e,!0)+(e.tmpl?n(e.tmpl,!0):""):e.tmpl?n(e.tmpl)+t(e)+(e.isVoid?n(e.tmpl,!0):""):t(e);case I_.TEMPLATE:return n(e,e.closed);default:return e}}const V_={A:"LINK",B:"BOLD_TEXT",BR:"LINE_BREAK",EM:"EMPHASISED_TEXT",H1:"HEADING_LEVEL1",H2:"HEADING_LEVEL2",H3:"HEADING_LEVEL3",H4:"HEADING_LEVEL4",H5:"HEADING_LEVEL5",H6:"HEADING_LEVEL6",HR:"HORIZONTAL_RULE",I:"ITALIC_TEXT",LI:"LIST_ITEM",LINK:"MEDIA_LINK",OL:"ORDERED_LIST",P:"PARAGRAPH",Q:"QUOTATION",S:"STRIKETHROUGH_TEXT",SMALL:"SMALL_TEXT",SUB:"SUBSTRIPT",SUP:"SUPERSCRIPT",TBODY:"TABLE_BODY",TD:"TABLE_CELL",TFOOT:"TABLE_FOOTER",TH:"TABLE_HEADER_CELL",THEAD:"TABLE_HEADER",TR:"TABLE_ROW",TT:"MONOSPACED_TEXT",U:"UNDERLINED_TEXT",UL:"UNORDERED_LIST"};class B_{constructor(){this._placeHolderNameCounts={},this._signatureToName={}}getStartTagPlaceholderName(e,t,n){const s=this._hashTag(e,t,n);if(this._signatureToName[s])return this._signatureToName[s];const r=e.toUpperCase(),i=V_[r]||`TAG_${r}`,o=this._generateUniqueName(n?i:`START_${i}`);return this._signatureToName[s]=o,o}getCloseTagPlaceholderName(e){const t=this._hashClosingTag(e);if(this._signatureToName[t])return this._signatureToName[t];const n=e.toUpperCase(),s=V_[n]||`TAG_${n}`,r=this._generateUniqueName(`CLOSE_${s}`);return this._signatureToName[t]=r,r}getPlaceholderName(e,t){const n=e.toUpperCase(),s=`PH: ${n}=${t}`;if(this._signatureToName[s])return this._signatureToName[s];const r=this._generateUniqueName(n);return this._signatureToName[s]=r,r}getUniquePlaceholder(e){return this._generateUniqueName(e.toUpperCase())}_hashTag(e,t,n){return`<${e}`+Object.keys(t).sort().map(e=>` ${e}=${t[e]}`).join("")+(n?"/>":`></${e}>`)}_hashClosingTag(e){return this._hashTag(`/${e}`,{},!1)}_generateUniqueName(e){if(!this._placeHolderNameCounts.hasOwnProperty(e))return this._placeHolderNameCounts[e]=1,e;const t=this._placeHolderNameCounts[e];return this._placeHolderNameCounts[e]=t+1,`${e}_${t}`}}const j_=new Ov(new gv);function U_(e){const t=new H_(j_,e);return(e,n,s,r,i)=>t.toI18nMessage(e,n,s,r,i)}class H_{constructor(e,t){this._expressionParser=e,this._interpolationConfig=t}toI18nMessage(e,t,n,s,r){this._isIcu=1==e.length&&e[0]instanceof $v,this._icuDepth=0,this._placeholderRegistry=new B_,this._placeholderToContent={},this._placeholderToMessage={},this._visitNodeFn=r;const i=Hv(this,e,{});return new pd(i,this._placeholderToContent,this._placeholderToMessage,t,n,s)}_visitNode(e,t){return this._visitNodeFn&&this._visitNodeFn(e,t),t}visitElement(e,t){const n=Hv(this,e.children),s={};e.attrs.forEach(e=>{s[e.name]=e.value});const r=oc(e.name).isVoid,i=this._placeholderRegistry.getStartTagPlaceholderName(e.name,s,r);this._placeholderToContent[i]=e.sourceSpan.toString();let o="";r||(o=this._placeholderRegistry.getCloseTagPlaceholderName(e.name),this._placeholderToContent[o]=`</${e.name}>`);const a=new vd(e.name,s,i,o,n,r,e.sourceSpan);return this._visitNode(e,a)}visitAttribute(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitText(e,t){const n=this._visitTextWithInterpolation(e.value,e.sourceSpan);return this._visitNode(e,n)}visitComment(e,t){return null}visitExpansion(e,t){this._icuDepth++;const n={},s=new gd(e.switchValue,e.type,n,e.sourceSpan);if(e.cases.forEach(e=>{n[e.value]=new fd(e.expression.map(e=>e.visit(this,{})),e.expSourceSpan)}),this._icuDepth--,this._isIcu||this._icuDepth>0){const t=this._placeholderRegistry.getUniquePlaceholder(`VAR_${e.type}`);return s.expressionPlaceholder=t,this._placeholderToContent[t]=e.switchValue,this._visitNode(e,s)}const r=this._placeholderRegistry.getPlaceholderName("ICU",e.sourceSpan.toString()),i=new H_(this._expressionParser,this._interpolationConfig);this._placeholderToMessage[r]=i.toI18nMessage([e],"","","");const o=new _d(s,r,e.sourceSpan);return this._visitNode(e,o)}visitExpansionCase(e,t){throw new Error("Unreachable code")}_visitTextWithInterpolation(e,t){const n=this._expressionParser.splitInterpolation(e,t.start.toString(),this._interpolationConfig);if(!n)return new md(e,t);const s=[],r=new fd(s,t),{start:i,end:o}=this._interpolationConfig;for(let l=0;l<n.strings.length-1;l++){const e=n.expressions[l],r=e.split(q_)[2]||"INTERPOLATION",a=this._placeholderRegistry.getPlaceholderName(r,e);n.strings[l].length&&s.push(new md(n.strings[l],t)),s.push(new yd(e,a,t)),this._placeholderToContent[a]=i+e+o}const a=n.strings.length-1;return n.strings[a].length&&s.push(new md(n.strings[a],t)),r}}const q_=/\/\/[\s\S]*i18n[\s\S]*\([\s\S]*ph[\s\S]*=[\s\S]*("|')([\s\S]*?)\1[\s\S]*\)/g;function z_(e,t){e.i18n=t}class W_{constructor(e){this.config=e,this._createI18nMessage=U_(kv)}_generateI18nMessage(e,t="",n){const s="string"==typeof t?function(e){let t,n,s;if(e){const r=e.indexOf(mp),i=e.indexOf(pp);let o;[o,t]=r>-1?[e.slice(0,r),e.slice(r+2)]:[e,""],[n,s]=i>-1?[o.slice(0,i),o.slice(i+1)]:["",o]}return{id:t,meaning:n,description:s}}(t):Sp(t),r=this._createI18nMessage(e,s.meaning||"",s.description||"",s.id||"",n);return r.id||(r.id="string"!=typeof t&&t.id||Cd(r)),r}visitElement(e,t){if(function(e){return e.attrs.some(e=>Ep(e.name))}(e)){const t=[],n={};for(const s of e.attrs)if(s.name===fp){const t=e.i18n||s.value,n=this._generateI18nMessage(e.children,t,z_);n.nodes.length&&(e.i18n=n)}else if(s.name.startsWith(gp)){n[s.name.slice(gp.length)]=s.value}else t.push(s);if(Object.keys(n).length)for(const e of t){const t=n[e.name];void 0!==t&&e.value&&(e.i18n=this._generateI18nMessage([e],e.i18n||t))}this.config.keepI18nAttrs||(e.attrs=t)}return Hv(this,e.children),e}visitExpansion(e,t){let n;const s=e.i18n;if(s instanceof _d){const t=s.name;xp(n=this._generateI18nMessage([e],s)).name=t}else n=this._generateI18nMessage([e],s);return e.i18n=n,e}visitText(e,t){return e}visitAttribute(e,t){return e}visitComment(e,t){return e}visitExpansionCase(e,t){return e}}const G_=e=>`{$${kp(e)}}`;const K_=new class{visitText(e,t){return e.value}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${e.expressionPlaceholder}, ${e.type}, ${n.join(" ")}}`}visitTagPlaceholder(e,t){return e.isVoid?G_(e.startName):`${G_(e.startName)}${e.children.map(e=>e.visit(this)).join("")}${G_(e.closeName)}`}visitPlaceholder(e,t){return G_(e.name)}visitIcuPlaceholder(e,t){return G_(e.name)}};function Q_(e,t){return oh(Ju(Op).bitwiseAnd(ah(e),null,!1),t)}class Z_{constructor(e,t,n=0,s,r,i,o,a,l,c,u,h,d,p){this.constantPool=e,this.level=n,this.contextName=s,this.i18nContext=r,this.templateIndex=i,this.templateName=o,this.viewQueries=a,this.directiveMatcher=l,this.directives=c,this.pipeTypeByName=u,this.pipes=h,this._namespace=d,this.relativeContextFilePath=p,this._dataIndex=0,this._bindingContext=0,this._prefixCode=[],this._creationCodeFns=[],this._updateCodeFns=[],this._tempVariables=[],this._nestedTemplateFns=[],this._unsupported=Vp,this.i18n=null,this._pureFunctionSlots=0,this._bindingSlots=0,this.visitReference=Bp,this.visitVariable=Bp,this.visitTextAttribute=Bp,this.visitBoundAttribute=Bp,this.visitBoundEvent=Bp,this._dataIndex=a.length,this._bindingScope=t.nestedScope(n),this.fileBasedI18nSuffix=p.replace(/[^A-Za-z0-9]/g,"_")+"_",this._valueConverter=new X_(e,()=>this.allocateDataSlot(),e=>this.allocatePureFunctionSlots(e),(e,t,n,s)=>{const r=u.get(e);r&&this.pipes.add(r),this._bindingScope.set(this.level,t,s),this.creationInstruction(null,dd.pipe,[ah(n),ah(e)])})}registerContextVariables(e){const t=this._bindingScope.freshReferenceName(),n=this.level,s=Ju(e.name+t);this._bindingScope.set(n,e.name,s,1,(t,r)=>{let i;if(t.bindingLevel===n)i=Ju(Ip);else{const e=t.getSharedContextName(n);i=e||tw(r)}return[s.set(i.prop(e.value||Rp)).toConstDecl()]})}buildTemplateFunction(e,t,n=!1,s=[],r){if(this._namespace!==dd.namespaceHTML&&this.creationInstruction(null,this._namespace),t.forEach(e=>this.registerContextVariables(e)),n){const e=[];if(s.length>1){const t=s.map(e=>jc(e)),n=this.constantPool.getConstLiteral(jp(t),!0),r=this.constantPool.getConstLiteral(jp(s),!0);e.push(n,r)}this.creationInstruction(null,dd.projectionDef,e)}const i=this.i18nContext||Cp(r)&&!(lw(e)&&e[0].i18n===r),o=cw(e);i&&this.i18nStart(null,r,o),Zy(this,e),this._pureFunctionSlots+=this._bindingSlots,this._valueConverter.updatePipeSlotOffsets(this._bindingSlots),this._nestedTemplateFns.forEach(e=>e()),i&&this.i18nEnd(null,o);const a=this._creationCodeFns.map(e=>e()),l=this._updateCodeFns.map(e=>e()),c=this._bindingScope.viewSnapshotStatements(),u=this._bindingScope.variableDeclarations().concat(this._tempVariables),h=a.length>0?[Q_(1,c.concat(a))]:[],d=l.length>0?[Q_(2,u.concat(l))]:[];return ih([new Eu(Op,Yc),new Eu(Ip,null)],[...this._prefixCode,...h,...d],Zc,null,this.templateName)}getLocal(e){return this._bindingScope.get(e)}i18nTranslate(e,t={},n,s){const r=n||this.i18nAllocateRef(),i={};t&&Object.keys(t).length&&Object.keys(t).forEach(e=>i[kp(e)]=t[e]);const o=Sp(e),a=Np(r,function(e){return e.nodes.map(e=>e.visit(K_,null)).join("")}(e),o,i,s);return this.constantPool.statements.push(...a),r}i18nAppendBindings(e){if(!this.i18n||!e.length)return;const t=Ju(Ip);e.forEach(e=>{const n=this.convertExpressionBinding(t,e);this.i18n.appendBinding(n)})}i18nBindProps(e){const t={};return Object.keys(e).forEach(n=>{const s=e[n];if(s instanceof Vy)t[n]=ah(s.value);else{const e=s.value.visit(this._valueConverter);if(e instanceof $m){const{strings:s,expressions:r}=e,{id:i,bindings:o}=this.i18n,a=function(e,t=0,n=0){if(!e.length)return"";let s="";const r=e.length-1;for(let i=0;i<r;i++)s+=`${e[i]}${Tp(t+i,n)}`;return s+=e[r]}(s,o.size,i);this.i18nAppendBindings(r),t[n]=ah(a)}}}),t}i18nAllocateRef(){const e=(t=this.fileBasedI18nSuffix,`${cp}${t}`.toUpperCase());var t;return Ju(this.constantPool.uniqueName(e))}i18nUpdateRef(e){const{icus:t,meta:n,isRoot:s,isResolved:r}=e;if(s&&r&&!bp(n)){const s=e.getSerializedPlaceholders();let r={},i=s.size?Ap(s):{};let o;t.size&&t.forEach((e,t)=>{if(1===e.length)i[t]=e[0];else{const n=Tp(`${yp}${t}`);i[t]=ah(n),r[t]=sh(e)}}),(Array.from(s.values()).some(e=>e.length>1)||Object.keys(r).length)&&(o=(e=>{const t=[e];return Object.keys(r).length&&t.push(lp(r,!0)),ew(null,dd.i18nPostprocess,t)})),this.i18nTranslate(n,i,e.ref,o)}}i18nStart(e=null,t,n){const s=this.allocateDataSlot();if(this.i18nContext)this.i18n=this.i18nContext.forkChildContext(s,this.templateIndex,t);else{const e=this.i18nAllocateRef();this.i18n=new O_(s,e,0,this.templateIndex,t)}const{id:r,ref:i}=this.i18n,o=[ah(s),i];r>0&&o.push(ah(r)),this.creationInstruction(e,n?dd.i18n:dd.i18nStart,o)}i18nEnd(e=null,t){if(!this.i18n)throw new Error("i18nEnd is executed with no i18n context present");this.i18nContext?(this.i18nContext.reconcileChildContext(this.i18n),this.i18nUpdateRef(this.i18nContext)):this.i18nUpdateRef(this.i18n);const{index:n,bindings:s}=this.i18n;s.size&&(s.forEach(t=>this.updateInstruction(e,dd.i18nExp,[t])),this.updateInstruction(e,dd.i18nApply,[ah(n)])),t||this.creationInstruction(e,dd.i18nEnd),this.i18n=null}visitContent(e){const t=this.allocateDataSlot(),n=e.selectorIndex,s=[ah(t)],r=[];e.attributes.forEach(e=>{const t=e.name;"select"!==t&&r.push(t,e.value)}),r.length>0?s.push(ah(n),jp(r)):0!==n&&s.push(ah(n)),this.creationInstruction(e.sourceSpan,dd.projection,s)}getNamespaceInstruction(e){switch(e){case"math":return dd.namespaceMathML;case"svg":return dd.namespaceSVG;default:return dd.namespaceHTML}}addNamespaceInstruction(e,t){this._namespace=e,this.creationInstruction(t.sourceSpan,e)}visitElement(e){const t=this.allocateDataSlot(),n=new dv(ah(t),null);let s=!1;const r=Cp(e.i18n);if(r&&this.i18n)throw new Error("Could not mark an element as translatable inside of a translatable section");const i=[],o=[],[a,l]=Ql(e.name),c=Zl(e.name);for(const y of e.attributes){const{name:e,value:t}=y;e===Lp?s=!0:"style"==e?n.registerStyleAttr(t):"class"==e?n.registerClassAttr(t):y.i18n?i.push(y):o.push(y)}this.matchDirectives(e.name,e);const u=[ah(t)];c||u.push(ah(l));const h=[],d=[];e.inputs.forEach(e=>{n.registerBoundInput(e)||(0==e.type&&e.i18n?i.push(e):d.push(e))}),o.forEach(e=>h.push(ah(e.name),ah(e.value))),h.push(...this.prepareSyntheticAndSelectOnlyAttrs(d,e.outputs)),u.push(this.toAttrsParam(h)),u.push(this.prepareRefsParameter(e.references));const p=this._namespace,m=this.getNamespaceInstruction(a);m!==p&&this.addNamespaceInstruction(m,e);const f=Ju(Ip);this.i18n&&this.i18n.appendElement(e.i18n,t);const g=!n.hasBindingsOrInitialValues&&!c&&0===e.outputs.length&&0===i.length&&!(()=>!r&&this.i18n?!cw(e.children):e.children.length>0)(),v=!g&&cw(e.children);if(g)this.creationInstruction(e.sourceSpan,dd.element,Hp(u));else{if(this.creationInstruction(e.sourceSpan,c?dd.elementContainerStart:dd.elementStart,Hp(u)),s&&this.creationInstruction(e.sourceSpan,dd.disableBindings),r&&this.i18nStart(e.sourceSpan,e.i18n,v),i.length){let t=!1;const n=[];if(i.forEach(s=>{const r=s.i18n;if(s instanceof jy)n.push(ah(s.name),this.i18nTranslate(r));else{const i=s.value.visit(this._valueConverter);if(i instanceof $m){const o=Ap(Pp(r));n.push(ah(s.name),this.i18nTranslate(r,o)),i.expressions.forEach(n=>{t=!0;const s=this.convertExpressionBinding(f,n);this.updateInstruction(e.sourceSpan,dd.i18nExp,[s])})}}}),n.length){const s=ah(this.allocateDataSlot()),r=this.constantPool.getConstLiteral(sh(n),!0);this.creationInstruction(e.sourceSpan,dd.i18nAttributes,[s,r]),t&&this.updateInstruction(e.sourceSpan,dd.i18nApply,[s])}}this.processStylingInstruction(f,n.buildCreateLevelInstruction(e.sourceSpan,this.constantPool),!0),e.outputs.forEach(t=>{this.creationInstruction(t.sourceSpan,dd.listener,this.prepareListenerParameter(e.name,t))})}if(n.buildUpdateLevelInstructions(this._valueConverter).forEach(e=>{this.processStylingInstruction(f,e,!1)}),d.forEach(e=>{const n=function(e){switch(e){case 0:return dd.elementProperty;case 2:return dd.elementClassProp;case 1:case 4:return dd.elementAttribute;default:return}}(e.type);if(4===e.type){const n=e.value.visit(this._valueConverter);if(n.name||n.value){const s=aw(e.name);this.updateInstruction(e.sourceSpan,dd.elementAttribute,()=>[ah(t),ah(s),this.convertPropertyBinding(f,n)])}}else if(n){const s=[],r=function(e,t){switch(t){case Lc.HTML:return eh(dd.sanitizeHtml);case Lc.SCRIPT:return eh(dd.sanitizeScript);case Lc.STYLE:return 1===e.type?eh(dd.sanitizeStyle):null;case Lc.URL:return eh(dd.sanitizeUrl);case Lc.RESOURCE_URL:return eh(dd.sanitizeResourceUrl);default:return null}}(e,e.securityContext);r&&s.push(r);const i=e.value.visit(this._valueConverter);this.allocateBindingSlots(i),this.updateInstruction(e.sourceSpan,n,()=>[ah(t),ah(e.name),this.convertPropertyBinding(f,i),...s])}else this._unsupported(`binding type ${e.type}`)}),Zy(this,e.children),!r&&this.i18n&&this.i18n.appendElement(e.i18n,t,!0),!g){const t=e.endSourceSpan||e.sourceSpan;r&&this.i18nEnd(t,v),s&&this.creationInstruction(t,dd.enableBindings),this.creationInstruction(t,c?dd.elementContainerEnd:dd.elementEnd)}}visitTemplate(e){const t=this.allocateDataSlot();this.i18n&&this.i18n.appendTemplate(e.i18n,t);let n="";lw(e.children)&&(n=qh(e.children[0].name));const s=n?`${this.contextName}_${n}`:"",r=s?`${s}_Template_${t}`:`Template_${t}`,i=[ah(t),Ju(r),Nu];this.matchDirectives("ng-template",e);const o=[];e.attributes.forEach(e=>{o.push(jp(e.name),jp(e.value))}),o.push(...this.prepareSyntheticAndSelectOnlyAttrs(e.inputs,e.outputs)),i.push(this.toAttrsParam(o)),e.references&&e.references.length&&(i.push(this.prepareRefsParameter(e.references)),i.push(eh(dd.templateRefExtractor)));const a=Ju(Ip);e.inputs.forEach(n=>{const s=n.value.visit(this._valueConverter);this.allocateBindingSlots(s),this.updateInstruction(e.sourceSpan,dd.elementProperty,()=>[ah(t),ah(n.name),this.convertPropertyBinding(a,s)])});const l=new Z_(this.constantPool,this._bindingScope,this.level+1,s,this.i18n,t,r,[],this.directiveMatcher,this.directives,this.pipeTypeByName,this.pipes,this._namespace,this.fileBasedI18nSuffix);this._nestedTemplateFns.push(()=>{const t=l.buildTemplateFunction(e.children,e.variables,!1,[],e.i18n);this.constantPool.statements.push(t.toDeclStmt(r,null))}),this.creationInstruction(e.sourceSpan,dd.templateCreate,()=>(i.splice(2,0,ah(l.getConstCount()),ah(l.getVarCount())),Hp(i))),e.outputs.forEach(e=>{this.creationInstruction(e.sourceSpan,dd.listener,this.prepareListenerParameter("ng_template",e))})}visitBoundText(e){if(this.i18n){const t=e.value.visit(this._valueConverter);return void(t instanceof $m&&(this.i18n.appendBoundText(e.i18n),this.i18nAppendBindings(t.expressions)))}const t=this.allocateDataSlot();this.creationInstruction(e.sourceSpan,dd.text,[ah(t)]);const n=e.value.visit(this._valueConverter);this.allocateBindingSlots(n),this.updateInstruction(e.sourceSpan,dd.textBinding,()=>[ah(t),this.convertPropertyBinding(Ju(Ip),n)])}visitText(e){this.i18n||this.creationInstruction(e.sourceSpan,dd.text,[ah(this.allocateDataSlot()),ah(e.value)])}visitIcu(e){let t=!1;this.i18n||(t=!0,this.i18nStart(null,e.i18n,!0));const n=this.i18n,s=this.i18nBindProps(e.vars),r=this.i18nBindProps(e.placeholders),i=e.i18n,o=e=>ew(null,dd.i18nPostprocess,[e,lp(s,!0)]);if(bp(n.meta))this.i18nTranslate(i,r,n.ref,o);else{const e=this.i18nTranslate(i,r,void 0,o);n.appendIcu(xp(i).name,e)}return t&&this.i18nEnd(null,!0),null}allocateDataSlot(){return this._dataIndex++}getConstCount(){return this._dataIndex}getVarCount(){return this._pureFunctionSlots}bindingContext(){return`${this._bindingContext++}`}instructionFn(e,t,n,s){e.push(()=>{const e=Array.isArray(s)?s:s();return ew(t,n,e).toStmt()})}processStylingInstruction(e,t,n){if(t){const s=()=>t.buildParams(t=>this.convertPropertyBinding(e,t,!0));n?this.creationInstruction(t.sourceSpan,t.reference,s):this.updateInstruction(t.sourceSpan,t.reference,s)}}creationInstruction(e,t,n){this.instructionFn(this._creationCodeFns,e,t,n||[])}updateInstruction(e,t,n){this.instructionFn(this._updateCodeFns,e,t,n||[])}allocatePureFunctionSlots(e){const t=this._pureFunctionSlots;return this._pureFunctionSlots+=e,t}allocateBindingSlots(e){this._bindingSlots+=e instanceof $m?e.expressions.length:1}convertExpressionBinding(e,t){const n=uf(this,e,t,this.bindingContext(),Ym.TrySimple).currValExpr;return eh(dd.bind).callFn([n])}convertPropertyBinding(e,t,n){const s=t instanceof $m?iw:()=>vh("Unexpected interpolation"),r=uf(this,e,t,this.bindingContext(),Ym.TrySimple,s);this._tempVariables.push(...r.stmts);const i=r.currValExpr;return t instanceof $m||n?i:eh(dd.bind).callFn([i])}matchDirectives(e,t){if(this.directiveMatcher){const n=function(e,t){const n=new lc;return n.setElement(e),Object.getOwnPropertyNames(t).forEach(e=>{const s=t[e];n.addAttribute(e,s),"class"===e.toLowerCase()&&s.trim().split(/\s+/g).forEach(e=>n.addClassName(e))}),n}(e,zp(t));this.directiveMatcher.match(n,(e,t)=>{this.directives.add(t)})}}prepareSyntheticAndSelectOnlyAttrs(e,t){const n=[],s=[];if(e.length){const t=jp("");e.forEach(e=>{4===e.type?n.push(jp(aw(e.name)),t):s.push(e)})}return(s.length||t.length)&&(n.push(ah(1)),s.forEach(e=>n.push(jp(e.name))),t.forEach(e=>n.push(jp(e.name)))),n}toAttrsParam(e){return e.length>0?this.constantPool.getConstLiteral(sh(e),!0):Nu}prepareRefsParameter(e){if(!e||0===e.length)return Nu;const t=ld(e.map(e=>{const t=this.allocateDataSlot(),n=this._bindingScope.freshReferenceName(),s=this.level,r=Ju(n);return this._bindingScope.set(s,e.name,r,0,(e,n)=>{const s=n>0?[tw(n).toStmt()]:[],i=r.set(eh(dd.reference).callFn([ah(t)]));return s.concat(i.toConstDecl())},!0),[e.name,e.value]}));return this.constantPool.getConstLiteral(jp(t),!0)}prepareListenerParameter(e,t){const n=qh(t.name),s=qh(e),r=`${this.templateName}_${s}_${n}_listener`;return()=>{const e=this._bindingScope.nestedScope(this._bindingScope.bindingLevel),n=af(e,Ju(Ip),t.handler,"b",()=>vh("Unexpected interpolation")),s=[...e.restoreViewStatement(),...e.variableDeclarations(),...n.render3Stmts],i=ih([new Eu("$event",Qc)],s,Zc,null,r);return[ah(t.name),i]}}}class X_ extends Qm{constructor(e,t,n,s){super(),this.constantPool=e,this.allocateSlot=t,this.allocatePureFunctionSlots=n,this.definePipe=s,this._pipeBindExprs=[]}visitPipe(e,t){const n=this.allocateSlot(),s=`PIPE:${n}`,r=this.allocatePureFunctionSlots(2+e.args.length),i=new Pm(e.span,new Tm(e.span),s),{identifier:o,isVarLength:a}=function(e){const t=Y_[e.length];return{identifier:t||dd.pipeBindV,isVarLength:!t}}(e.args);this.definePipe(e.name,s,n,eh(o));const l=[e.exp,...e.args],c=a?this.visitAll([new Rm(e.span,l)]):this.visitAll(l),u=new qm(e.span,i,[new Fm(e.span,n),new Fm(e.span,r),...c]);return this._pipeBindExprs.push(u),u}updatePipeSlotOffsets(e){this._pipeBindExprs.forEach(t=>{t.args[1].value+=e})}visitLiteralArray(e,t){return new yf(e.span,this.visitAll(e.expressions),e=>{const t=sh(e);return e.every(e=>e.isConstant())?this.constantPool.getConstLiteral(t,!0):nw(this.constantPool,t,this.allocatePureFunctionSlots)})}visitLiteralMap(e,t){return new yf(e.span,this.visitAll(e.values),t=>{const n=rh(t.map((t,n)=>({key:e.keys[n].key,value:t,quoted:e.keys[n].quoted})));return t.every(e=>e.isConstant())?this.constantPool.getConstLiteral(n,!0):nw(this.constantPool,n,this.allocatePureFunctionSlots)})}}const Y_=[dd.pipeBind1,dd.pipeBind2,dd.pipeBind3,dd.pipeBind4];const J_=[dd.pureFunction0,dd.pureFunction1,dd.pureFunction2,dd.pureFunction3,dd.pureFunction4,dd.pureFunction5,dd.pureFunction6,dd.pureFunction7,dd.pureFunction8];function ew(e,t,n){return eh(t,null,e).callFn(n,e)}function tw(e){return eh(dd.nextContext).callFn(e>1?[ah(e)]:[])}function nw(e,t,n){const{literalFactory:s,literalFactoryArguments:r}=e.getLiteralFactory(t),i=n(1+r.length);r.length>0||vh("Expected arguments to a literal factory function");const{identifier:o,isVarLength:a}=function(e){const t=J_[e.length];return{identifier:t||dd.pureFunctionV,isVarLength:!t}}(r),l=[ah(i),s];return a?l.push(sh(r)):l.push(...r),eh(o).callFn(l)}const sw="$$shared_ctx$$";class rw{constructor(e=0,t=null){this.bindingLevel=e,this.parent=t,this.map=new Map,this.referenceNameIndex=0,this.restoreViewVariable=null}static get ROOT_SCOPE(){return rw._ROOT_SCOPE||(rw._ROOT_SCOPE=(new rw).set(0,"$event",Ju("$event"))),rw._ROOT_SCOPE}get(e){let t=this;for(;t;){let n=t.map.get(e);if(null!=n)return t!==this&&(n={retrievalLevel:n.retrievalLevel,lhs:n.lhs,declareLocalCallback:n.declareLocalCallback,declare:!1,priority:n.priority,localRef:n.localRef},this.map.set(e,n),this.maybeGenerateSharedContextVar(n),this.maybeRestoreView(n.retrievalLevel,n.localRef)),n.declareLocalCallback&&!n.declare&&(n.declare=!0),n.lhs;t=t.parent}return 0===this.bindingLevel?null:this.getComponentProperty(e)}set(e,t,n,s=0,r,i){return!this.map.has(t)||vh(`The name ${t} is already defined in scope to be ${this.map.get(t)}`),this.map.set(t,{retrievalLevel:e,lhs:n,declare:!1,declareLocalCallback:r,priority:s,localRef:i||!1}),this}getLocal(e){return this.get(e)}nestedScope(e){const t=new rw(e,this);return e>0&&t.generateSharedContextVar(0),t}getSharedContextName(e){const t=this.map.get(sw+e);return t&&t.declare?t.lhs:null}maybeGenerateSharedContextVar(e){if(1===e.priority){const t=this.map.get(sw+e.retrievalLevel);t?t.declare=!0:this.generateSharedContextVar(e.retrievalLevel)}}generateSharedContextVar(e){const t=Ju(Ip+this.freshReferenceName());this.map.set(sw+e,{retrievalLevel:e,lhs:t,declareLocalCallback:(e,n)=>[t.set(tw(n)).toConstDecl()],declare:!1,priority:2,localRef:!1})}getComponentProperty(e){const t=this.map.get(sw+0);return t.declare=!0,this.maybeRestoreView(0,!1),t.lhs.prop(e)}maybeRestoreView(e,t){this.isListenerScope()&&(e<this.bindingLevel||t)&&(this.parent.restoreViewVariable||(this.parent.restoreViewVariable=Ju(this.parent.freshReferenceName())),this.restoreViewVariable=this.parent.restoreViewVariable)}restoreViewStatement(){return this.restoreViewVariable?[ew(null,dd.restoreView,[this.restoreViewVariable]).toStmt()]:[]}viewSnapshotStatements(){const e=ew(null,dd.getCurrentView,[]);return this.restoreViewVariable?[this.restoreViewVariable.set(e).toConstDecl()]:[]}isListenerScope(){return this.parent&&this.parent.bindingLevel===this.bindingLevel}variableDeclarations(){let e=0;return Array.from(this.map.values()).filter(e=>e.declare).sort((e,t)=>t.retrievalLevel-e.retrievalLevel||t.priority-e.priority).reduce((t,n)=>{const s=this.bindingLevel-n.retrievalLevel,r=n.declareLocalCallback(this,s-e);return e=s,t.concat(r)},[])}freshReferenceName(){let e=this;for(;e.parent;)e=e.parent;return`${Fp}${e.referenceNameIndex++}`}}function iw(e){switch((e=e.slice(1)).length){case 3:return eh(dd.interpolation1).callFn(e);case 5:return eh(dd.interpolation2).callFn(e);case 7:return eh(dd.interpolation3).callFn(e);case 9:return eh(dd.interpolation4).callFn(e);case 11:return eh(dd.interpolation5).callFn(e);case 13:return eh(dd.interpolation6).callFn(e);case 15:return eh(dd.interpolation7).callFn(e);case 17:return eh(dd.interpolation8).callFn(e)}return e.length>=19&&e.length%2==1||vh(`Invalid interpolation argument length ${e.length}`),eh(dd.interpolationV).callFn([sh(e)])}function ow(){return new Fy(new Ov(new gv),kv,new Py,null,[])}function aw(e){return"@"+e}function lw(e){return 1===e.length&&e[0]instanceof qy}function cw(e){return!e.find(e=>!(e instanceof Vy||e instanceof By||e instanceof Qy))}const uw=/attr\.([^\]]+)/;function hw(e,t,n){const s=new qp;s.set("type",e.type),s.set("selectors",jp(jc(e.selector)));const r=Kp({name:e.name,type:e.type,deps:e.deps,injectFn:dd.directiveInject,extraStatementFn:function(e,t){const n=t.createDirectiveHostEventAsts(Ew(e),e.typeSourceSpan);return n&&n.length?t=>(function(e,t,n){return t.map(t=>{const s=af(null,e,t.handler,"b",()=>vh("Unexpected interpolation")),r=t.name&&qh(t.name),i=n.name,o=i&&r?`${i}_${r}_HostBindingHandler`:null,a=ih([new Eu("$event",Qc)],[...s.render3Stmts],Zc,null,o);return eh(dd.listener).callFn([ah(t.name),a]).toStmt()})})(t,n,e):null}(e,n)});s.set("factory",r.factory),s.set("contentQueries",function(e,t){if(e.queries.length){const n=e.queries.map(e=>{const n=fw(e,t,null);return eh(dd.registerContentQuery).callFn([n,Ju("dirIndex")]).toStmt()}),s=e.name,r=[new Eu("dirIndex",Yc)];return ih(r,n,Zc,null,s?`${s}_ContentQueries`:null)}return null}(e,t)),s.set("contentQueriesRefresh",function(e){if(e.queries.length>0){const t=[],n=e.name,s=[new Eu("dirIndex",Yc),new Eu("queryStartIndex",Yc)],r=Ju("instance"),i=$p(t,Mp);return t.push(r.set(eh(dd.load).callFn([Ju("dirIndex")])).toDeclStmt(Zc,[Mu.Final])),e.queries.forEach((e,n)=>{const s=Ju("queryStartIndex"),o=eh(dd.loadQueryList).callFn([n>0?s.plus(ah(n)):s]),a=i().set(o),l=eh(dd.queryRefresh).callFn([a]),c=r.prop(e.propertyName).set(e.first?i().prop("first"):i()),u=l.and(c);t.push(u.toStmt())}),ih(s,t,Zc,null,n?`${n}_ContentQueriesRefresh`:null)}return null}(e));let i=Object.keys(e.host.properties).length;const o=Ju("elIndex"),a=Ju("dirIndex"),l=new dv(o,a),c={},u=Object.getOwnPropertyNames(e.host.attributes);for(let h=0;h<u.length;h++){const t=u[h],n=e.host.attributes[t];switch(t){case"style":l.registerStyleAttr(n);break;case"class":l.registerClassAttr(n);break;default:c[t]=n}}return s.set("attributes",function(e){const t=[];for(let n of Object.getOwnPropertyNames(e)){const s=e[n];t.push(ah(n),ah(s))}if(t.length>0)return sh(t);return null}(c)),s.set("hostBindings",function(e,t,n,s,r,i,o){const a=[],l=e.typeSourceSpan,c=Ew(e),u=r.createBoundHostProperties(c,l),h=eh(dd.load).callFn([n]),d=(e,t)=>uf(null,e,t,"b",Ym.TrySimple,()=>vh("Unexpected interpolation"));if(u){const e=new X_(i,()=>vh("Unexpected node"),o,()=>vh("Unexpected pipe"));for(const n of u){const r=n.name,i=r.substring(0,5).toLowerCase();if("style"===i){const{propertyName:e,unit:t}=bw(r);s.registerStyleInput(e,n.expression,t,n.sourceSpan)}else if("class"===i)s.registerClassInput(bw(r).propertyName,n.expression,n.sourceSpan);else{const s=n.expression.visit(e),i=d(h,s),{bindingName:o,instruction:l}=ww(r);a.push(...i.stmts),a.push(eh(l).callFn([t,ah(o),eh(dd.bind).callFn([i.currValExpr])]).toStmt())}}if(s.hasBindingsOrInitialValues){const t=s.buildCreateLevelInstruction(null,i);if(t){const e=_w(t,h,d);a.push(e)}s.buildUpdateLevelInstructions(e).forEach(e=>{const t=_w(e,h,d);a.push(t)})}}if(a.length>0){const s=e.name;return ih([new Eu(n.name,Yc),new Eu(t.name,Yc)],a,Zc,null,s?`${s}_HostBindings`:null)}return null}(e,o,a,l,n,t,e=>{const t=i;return i+=e,t})),i&&s.set("hostVars",ah(i)),s.set("inputs",Up(e.inputs)),s.set("outputs",Up(e.outputs)),null!==e.exportAs&&s.set("exportAs",ah(e.exportAs)),{definitionMap:s,statements:r.statements}}function dw(e,t){const n=[],s=t.providers,r=t.viewProviders;if(s||r){const e=[s||new Tu([])];r&&e.push(r),n.push(eh(dd.ProvidersFeature).callFn(e))}t.usesInheritance&&n.push(eh(dd.InheritDefinitionFeature)),t.lifecycle.usesOnChanges&&n.push(eh(dd.NgOnChangesFeature)),n.length&&e.set("features",sh(n))}function pw(e,t,n){const{definitionMap:s,statements:r}=hw(e,t,n);dw(s,e);const i=eh(dd.defineDirective).callFn([s.toLiteralMap()]);(e.selector||"").replace(/\n/g,"");return{expression:i,type:yw(e,dd.DirectiveDefWithMeta),statements:r}}function mw(e,t,n){const{definitionMap:s,statements:r}=hw(e,t,n);dw(s,e);const i=e.selector&&lc.parse(e.selector),o=i&&i[0];if(o){const e=o.getAttrs();e.length&&s.set("attrs",t.getConstLiteral(sh(e.map(e=>ah(null!=e?e:void 0))),!0))}let a=null;if(e.directives.size){const t=new cc;e.directives.forEach((e,n)=>{t.addSelectables(lc.parse(n),e)}),a=t}e.viewQueries.length&&s.set("viewQuery",function(e,t){const n=[],s=[],r=$p(s,Mp);for(let o=0;o<e.viewQueries.length;o++){const i=e.viewQueries[o],a=fw(i,t,o);n.push(a.toStmt());const l=r(),c=eh(dd.load).callFn([ah(o)]),u=eh(dd.queryRefresh).callFn([l.set(c)]),h=Ju(Ip).prop(i.propertyName).set(i.first?l.prop("first"):l);s.push(u.and(h).toStmt())}const i=e.name?`${e.name}_Query`:null;return ih([new Eu(Op,Yc),new Eu(Ip,null)],[Q_(1,n),Q_(2,s)],Zc,null,i)}(e,t));const l=e.name,c=l?`${l}_Template`:null,u=new Set,h=new Set,d=e.template,p=new Z_(t,rw.ROOT_SCOPE,0,l,null,null,c,e.viewQueries,a,u,e.pipes,h,dd.namespaceHTML,e.template.relativeContextFilePath),m=p.buildTemplateFunction(d.nodes,[],d.hasNgContent,d.ngContentSelectors);if(s.set("consts",ah(p.getConstCount())),s.set("vars",ah(p.getVarCount())),s.set("template",m),u.size){let t=sh(Array.from(u));e.wrapDirectivesAndPipesInClosure&&(t=ih([],[new Lu(t)])),s.set("directives",t)}if(h.size){let t=sh(Array.from(h));e.wrapDirectivesAndPipesInClosure&&(t=ih([],[new Lu(t)])),s.set("pipes",t)}if(null===e.encapsulation&&(e.encapsulation=wc.Emulated),e.styles&&e.styles.length){const t=(e.encapsulation==wc.Emulated?function(e,t,n){const s=new Ng;return e.map(e=>s.shimCssText(e,t,n))}(e.styles,iv,rv):e.styles).map(e=>ah(e));s.set("styles",sh(t))}else e.encapsulation===wc.Emulated&&(e.encapsulation=wc.None);e.encapsulation!==wc.Emulated&&s.set("encapsulation",ah(e.encapsulation)),null!==e.animations&&s.set("data",rh([{key:"animations",value:e.animations,quoted:!1}]));(e.selector||"").replace(/\n/g,"");return{expression:eh(dd.defineComponent).callFn([s.toLiteralMap()]),type:yw(e,dd.ComponentDefWithMeta),statements:r}}function fw(e,t,n){const s=function(e,t){if(Array.isArray(e.predicate)){let n=[];return e.predicate.forEach(e=>{const t=e.split(",").map(e=>ah(e.trim()));n.push(...t)}),t.getConstLiteral(sh(n),!0)}return e.predicate}(e,t),r=[ah(n,Zc),s,ah(e.descendants)];return e.read&&r.push(e.read),eh(dd.query).callFn(r)}function gw(e){return nh(ah(e))}function vw(e){return nh(rh(Object.keys(e).map(t=>{return{key:t,value:ah(Array.isArray(e[t])?e[t][0]:e[t]),quoted:!0}})))}function yw(e,t){const n=(e.selector||"").replace(/\n/g,"");return nh(eh(t,[function(e,t){let n=null;if(t>0){n=[];for(let e=0;e<t;e++)n.push(Qc)}return nh(e,null,n)}(e.type,e.typeArgumentCount),gw(n),null!==e.exportAs?gw(e.exportAs):Jc,vw(e.inputs),vw(e.outputs),(s=e.queries.map(e=>e.propertyName),s.length>0?nh(sh(s.map(e=>ah(e)))):Jc)]));var s}function _w(e,t,n){const s=e.buildParams(e=>n(t,e).currValExpr);return eh(e.reference,null,e.sourceSpan).callFn(s,e.sourceSpan).toStmt()}function ww(e){let t;const n=e.match(uw);return n?(e=n[1],t=dd.elementAttribute):t=dd.elementProperty,{bindingName:e,instruction:t}}function Ew(e){return{hostAttributes:e.host.attributes,hostListeners:e.host.listeners,hostProperties:e.host.properties}}const Cw=/^(?:(?:\[([^\]]+)\])|(?:\(([^\)]+)\)))|(\@[-\w]+)$/;function bw(e){let t="",n="";const s=e.indexOf(".");if(s>0){const r=e.lastIndexOf(".");r!==s?(t=e.substring(r+1,e.length),n=e.substring(s+1,r)):n=e.substring(s+1,e.length)}return{propertyName:n,unit:t}}class Sw{constructor(){this.R3ResolvedDependencyType=Gp}compilePipe(e,t,n){const s=wm({name:n.name,type:new lu(n.type),deps:Ow(n.deps),pipeName:n.pipeName,pure:n.pure});return ym(s.expression,e,t,s.statements)}compileInjectable(e,t,n){const{expression:s,statements:r}=function(e){let t=null;const n={name:e.name,type:e.type,deps:e.ctorDeps,injectFn:$h.inject,extraStatementFn:null};if(void 0!==e.useClass){const s=e.useClass.isEquivalent(e.type),r=e.userDeps||s&&e.ctorDeps||void 0;t=Kp(void 0!==r?Object.assign({},n,{delegate:e.useClass,delegateDeps:r,delegateType:Wp.Class}):Object.assign({},n,{delegate:e.useClass,delegateType:Wp.Factory}))}else t=void 0!==e.useFactory?Kp(Object.assign({},n,{delegate:e.useFactory,delegateDeps:e.userDeps||[],delegateType:Wp.Function})):void 0!==e.useValue?Kp(Object.assign({},n,{expression:e.useValue})):void 0!==e.useExisting?Kp(Object.assign({},n,{expression:eh($h.inject).callFn([e.useExisting])})):Kp(n);const s=e.type,r=e.providedIn;return{expression:eh($h.defineInjectable).callFn([Xp({token:s,factory:t.factory,providedIn:r})]),type:new Wc(eh($h.InjectableDef,[new Wc(e.type)])),statements:t.statements}}({name:n.name,type:new lu(n.type),providedIn:(i=n.providedIn,null==i||"string"==typeof i?new fu(i):new lu(i)),useClass:Mw(n,xw),useFactory:Mw(n,Tw),useValue:Mw(n,Aw),useExisting:Mw(n,Dw),ctorDeps:Ow(n.ctorDeps),userDeps:Ow(n.userDeps)||void 0});var i;return ym(s,e,t,r)}compileInjector(e,t,n){const s=function(e){const t=Kp({name:e.name,type:e.type,deps:e.deps,injectFn:dd.inject,extraStatementFn:null});return{expression:eh(dd.defineInjector).callFn([Xp({factory:t.factory,providers:e.providers,imports:e.imports})]),type:new Wc(eh(dd.InjectorDef,[new Wc(e.type)])),statements:t.statements}}({name:n.name,type:new lu(n.type),deps:Ow(n.deps),providers:new lu(n.providers),imports:new lu(n.imports)});return ym(s.expression,e,t,s.statements)}compileNgModule(e,t,n){return ym(function(e){const{type:t,bootstrap:n,declarations:s,imports:r,exports:i}=e;return{expression:eh(dd.defineNgModule).callFn([Xp({type:t,bootstrap:sh(n.map(e=>e.value)),declarations:sh(s.map(e=>e.value)),imports:sh(r.map(e=>e.value)),exports:sh(i.map(e=>e.value))})]),type:new Wc(eh(dd.NgModuleDefWithMeta,[new Wc(t),_m(s),_m(r),_m(i)])),additionalStatements:[]}}({type:new lu(n.type),bootstrap:n.bootstrap.map(Pw),declarations:n.declarations.map(Pw),imports:n.imports.map(Pw),exports:n.exports.map(Pw),emitInline:!0}).expression,e,t,[])}compileDirective(e,t,n){const s=new Ih,r=ow(),i=pw(Nw(n),s,r),o=[...s.statements,...i.statements];return ym(i.expression,e,t,o)}compileComponent(e,t,n){const s=new Ih,r=function(e,t,n={},s){const r=ow(),i=(new uy).parse(e,t,!0);if(i.errors&&i.errors.length>0)return{errors:i.errors,nodes:[],hasNgContent:!1,ngContentSelectors:[],relativeContextFilePath:s};let o=i.rootNodes;const a={keepI18nAttrs:!n.preserveWhitespaces};o=Hv(new W_(a),o),n.preserveWhitespaces||(o=Hv(new vy,o),o=Hv(new W_({keepI18nAttrs:!1}),o));const{nodes:l,hasNgContent:c,ngContentSelectors:u,errors:h}=A_(o,r);return h&&h.length>0?{errors:h,nodes:[],hasNgContent:!1,ngContentSelectors:[],relativeContextFilePath:s}:{nodes:l,hasNgContent:c,ngContentSelectors:u,relativeContextFilePath:s}}(n.template,t,{preserveWhitespaces:n.preserveWhitespaces||!1},"");if(void 0!==r.errors){const e=r.errors.map(e=>e.toString()).join(", ");throw new Error(`Errors during JIT compilation of template for ${n.name}: ${e}`)}const i=mw(Object.assign({},n,Nw(n),{template:r,viewQueries:n.viewQueries.map(kw),wrapDirectivesAndPipesInClosure:!1,styles:n.styles||[],encapsulation:n.encapsulation,animations:null!=n.animations?new lu(n.animations):null,viewProviders:null!=n.viewProviders?new lu(n.viewProviders):null}),s,ow()),o=[...s.statements,...i.statements];return ym(i.expression,e,t,o)}}const xw=Object.keys({useClass:null})[0],Tw=Object.keys({useFactory:null})[0],Aw=Object.keys({useValue:null})[0],Dw=Object.keys({useExisting:null})[0],Pw=function(e){const t=new lu(e);return{value:t,type:t}};function kw(e){return Object.assign({},e,{predicate:Array.isArray(e.predicate)?e.predicate:new lu(e.predicate),read:e.read?new lu(e.read):null})}function Nw(e){const t=Vw(e.inputs||[]),n=Vw(e.outputs||[]),s=e.propMetadata,r={},i={};for(const o in s)s.hasOwnProperty(o)&&s[o].forEach(e=>{Lw(e)?r[o]=e.bindingPropertyName?[e.bindingPropertyName,o]:o:$w(e)&&(i[o]=e.bindingPropertyName||o)});return Object.assign({},e,{typeSourceSpan:null,type:new lu(e.type),deps:Ow(e.deps),host:function(e,t){const{attributes:n,listeners:s,properties:r,animations:i}=function(e){const t={},n={},s={},r={};return Object.keys(e).forEach(i=>{const o=e[i],a=i.match(Cw);null===a?t[i]=o:null!=a[1]?s[a[1]]=o:null!=a[2]?n[a[2]]=o:null!=a[3]&&(r[a[3]]=o)}),{attributes:t,listeners:n,properties:s,animations:r}}(e||{});if(Object.keys(i).length>0)throw new Error("Animation bindings are as-of-yet unsupported in Ivy");for(const o in t)t.hasOwnProperty(o)&&t[o].forEach(e=>{Fw(e)?r[e.hostPropertyName||o]=o:Rw(e)&&(s[e.eventName||o]=`${o}(${(e.args||[]).join(",")})`)});return{attributes:n,listeners:s,properties:r}}(e.host,e.propMetadata),inputs:Object.assign({},t,r),outputs:Object.assign({},n,i),queries:e.queries.map(kw),providers:null!=e.providers?new lu(e.providers):null})}function Mw(e,t){return e.hasOwnProperty(t)?new lu(e[t]):void 0}function Iw(e){let t;return{token:t=null===e.token?new fu(null):e.resolved===Gp.Attribute?new fu(e.token):new lu(e.token),resolved:e.resolved,host:e.host,optional:e.optional,self:e.self,skipSelf:e.skipSelf}}function Ow(e){return null==e?null:e.map(Iw)}function Fw(e){return"HostBinding"===e.ngMetadataName}function Rw(e){return"HostListener"===e.ngMetadataName}function Lw(e){return"Input"===e.ngMetadataName}function $w(e){return"Output"===e.ngMetadataName}function Vw(e){return e.reduce((e,t)=>{const[n,s]=t.split(",").map(e=>e.trim());return e[n]=s||n,e},{})}new class{constructor(e){this.full=e;const t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}}("7.1.1");class Bw{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitText(this,t)}}class jw{constructor(e,t,n){this.value=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitBoundText(this,t)}}class Uw{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}visit(e,t){return e.visitAttr(this,t)}}const Hw={4:4,1:1,2:2,0:0,3:3};class qw{constructor(e,t,n,s,r,i){this.name=e,this.type=t,this.securityContext=n,this.value=s,this.unit=r,this.sourceSpan=i,this.isAnimation=4===this.type}static fromBoundProperty(e){const t=Hw[e.type];return new qw(e.name,t,e.securityContext,e.value,e.unit,e.sourceSpan)}visit(e,t){return e.visitElementProperty(this,t)}}class zw{constructor(e,t,n,s,r){this.name=e,this.target=t,this.phase=n,this.handler=s,this.sourceSpan=r,this.fullName=zw.calcFullName(this.name,this.target,this.phase),this.isAnimation=!!this.phase}static calcFullName(e,t,n){return t?`${t}:${e}`:n?`@${e}.${n}`:e}static fromParsedEvent(e){const t=0===e.type?e.targetOrPhase:null,n=1===e.type?e.targetOrPhase:null;return new zw(e.name,t,n,e.handler,e.sourceSpan)}visit(e,t){return e.visitEvent(this,t)}}class Ww{constructor(e,t,n,s){this.name=e,this.value=t,this.originalValue=n,this.sourceSpan=s}visit(e,t){return e.visitReference(this,t)}}class Gw{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}static fromParsedVariable(e){return new Gw(e.name,e.value,e.sourceSpan)}visit(e,t){return e.visitVariable(this,t)}}class Kw{constructor(e,t,n,s,r,i,o,a,l,c,u,h,d){this.name=e,this.attrs=t,this.inputs=n,this.outputs=s,this.references=r,this.directives=i,this.providers=o,this.hasViewContainer=a,this.queryMatches=l,this.children=c,this.ngContentIndex=u,this.sourceSpan=h,this.endSourceSpan=d}visit(e,t){return e.visitElement(this,t)}}class Qw{constructor(e,t,n,s,r,i,o,a,l,c,u){this.attrs=e,this.outputs=t,this.references=n,this.variables=s,this.directives=r,this.providers=i,this.hasViewContainer=o,this.queryMatches=a,this.children=l,this.ngContentIndex=c,this.sourceSpan=u}visit(e,t){return e.visitEmbeddedTemplate(this,t)}}class Zw{constructor(e,t,n,s){this.directiveName=e,this.templateName=t,this.value=n,this.sourceSpan=s}visit(e,t){return e.visitDirectiveProperty(this,t)}}class Xw{constructor(e,t,n,s,r,i){this.directive=e,this.inputs=t,this.hostProperties=n,this.hostEvents=s,this.contentQueryStartId=r,this.sourceSpan=i}visit(e,t){return e.visitDirective(this,t)}}class Yw{constructor(e,t,n,s,r,i,o,a){this.token=e,this.multiProvider=t,this.eager=n,this.providers=s,this.providerType=r,this.lifecycleHooks=i,this.sourceSpan=o,this.isModule=a}visit(e,t){return null}}var Jw;!function(e){e[e.PublicService=0]="PublicService",e[e.PrivateService=1]="PrivateService",e[e.Component=2]="Component",e[e.Directive=3]="Directive",e[e.Builtin=4]="Builtin"}(Jw||(Jw={}));class eE{constructor(e,t,n){this.index=e,this.ngContentIndex=t,this.sourceSpan=n}visit(e,t){return e.visitNgContent(this,t)}}function tE(e,t,n=null){const s=[],r=e.visit?t=>e.visit(t,n)||t.visit(e,n):t=>t.visit(e,n);return t.forEach(e=>{const t=r(e);t&&s.push(t)}),s}class nE{constructor({defaultEncapsulation:e=wc.Emulated,useJit:t=!0,jitDevMode:n=!1,missingTranslation:s=null,preserveWhitespaces:r,strictInjectionParameters:i}={}){this.defaultEncapsulation=e,this.useJit=!!t,this.jitDevMode=!!n,this.missingTranslation=s,this.preserveWhitespaces=sE(mh(r)),this.strictInjectionParameters=!0===i}}function sE(e,t=!1){return null===e?t:e}class rE{constructor(e,t,n,s){this._resourceLoader=e,this._urlResolver=t,this._htmlParser=n,this._config=s,this._resourceLoaderCache=new Map}clearCache(){this._resourceLoaderCache.clear()}clearCacheFor(e){if(!e.isComponent)return;const t=e.template;this._resourceLoaderCache.delete(t.templateUrl),t.externalStylesheets.forEach(e=>{this._resourceLoaderCache.delete(e.moduleUrl)})}_fetch(e){let t=this._resourceLoaderCache.get(e);return t||(t=this._resourceLoader.get(e),this._resourceLoaderCache.set(e,t)),t}normalizeTemplate(e){if(ph(e.template)){if(ph(e.templateUrl))throw yh(`'${Sh(e.componentType)}' component cannot define both template and templateUrl`);if("string"!=typeof e.template)throw yh(`The template specified for component ${Sh(e.componentType)} is not a string`)}else{if(!ph(e.templateUrl))throw yh(`No template specified for component ${Sh(e.componentType)}`);if("string"!=typeof e.templateUrl)throw yh(`The templateUrl specified for component ${Sh(e.componentType)} is not a string`)}if(ph(e.preserveWhitespaces)&&"boolean"!=typeof e.preserveWhitespaces)throw yh(`The preserveWhitespaces option for component ${Sh(e.componentType)} must be a boolean`);return gh.then(this._preParseTemplate(e),t=>this._normalizeTemplateMetadata(e,t))}_preParseTemplate(e){let t,n;return null!=e.template?(t=e.template,n=e.moduleUrl):(n=this._urlResolver.resolve(e.moduleUrl,e.templateUrl),t=this._fetch(n)),gh.then(t,t=>this._preparseLoadedTemplate(e,t,n))}_preparseLoadedTemplate(e,t,n){const s=!!e.template,r=Pv.fromArray(e.interpolation),i=this._htmlParser.parse(t,ud({reference:e.ngModuleType},{type:{reference:e.componentType}},{isInline:s,templateUrl:n}),!0,r);if(i.errors.length>0){throw yh(`Template parse errors:\n${i.errors.join("\n")}`)}const o=this._normalizeStylesheet(new ed({styles:e.styles,moduleUrl:e.moduleUrl})),a=new iE;Hv(a,i.rootNodes);const l=this._normalizeStylesheet(new ed({styles:a.styles,styleUrls:a.styleUrls,moduleUrl:n}));return{template:t,templateUrl:n,isInline:s,htmlAst:i,styles:o.styles.concat(l.styles),inlineStyleUrls:o.styleUrls.concat(l.styleUrls),styleUrls:this._normalizeStylesheet(new ed({styleUrls:e.styleUrls,moduleUrl:e.moduleUrl})).styleUrls,ngContentSelectors:a.ngContentSelectors}}_normalizeTemplateMetadata(e,t){return gh.then(this._loadMissingExternalStylesheets(t.styleUrls.concat(t.inlineStyleUrls)),n=>this._normalizeLoadedTemplateMetadata(e,t,n))}_normalizeLoadedTemplateMetadata(e,t,n){const s=[...t.styles];this._inlineStyles(t.inlineStyleUrls,n,s);const r=t.styleUrls,i=r.map(e=>{const t=n.get(e),s=[...t.styles];return this._inlineStyles(t.styleUrls,n,s),new ed({moduleUrl:e,styles:s})});let o=e.encapsulation;return null==o&&(o=this._config.defaultEncapsulation),o===wc.Emulated&&0===s.length&&0===r.length&&(o=wc.None),new td({encapsulation:o,template:t.template,templateUrl:t.templateUrl,htmlAst:t.htmlAst,styles:s,styleUrls:r,ngContentSelectors:t.ngContentSelectors,animations:e.animations,interpolation:e.interpolation,isInline:t.isInline,externalStylesheets:i,preserveWhitespaces:sE(e.preserveWhitespaces,this._config.preserveWhitespaces)})}_inlineStyles(e,t,n){e.forEach(e=>{const s=t.get(e);s.styles.forEach(e=>n.push(e)),this._inlineStyles(s.styleUrls,t,n)})}_loadMissingExternalStylesheets(e,t=new Map){return gh.then(gh.all(e.filter(e=>!t.has(e)).map(e=>gh.then(this._fetch(e),n=>{const s=this._normalizeStylesheet(new ed({styles:[n],moduleUrl:e}));return t.set(e,s),this._loadMissingExternalStylesheets(s.styleUrls,t)}))),e=>t)}_normalizeStylesheet(e){const t=e.moduleUrl,n=e.styleUrls.filter(Yy).map(e=>this._urlResolver.resolve(t,e)),s=e.styles.map(e=>{const s=function(e,t,n){const s=[],r=n.replace(e_,"").replace(Jy,(...n)=>{const r=n[1]||n[2];return Yy(r)?(s.push(e.resolve(t,r)),""):n[0]});return new Xy(r,s)}(this._urlResolver,t,e);return n.push(...s.styleUrls),s.style});return new ed({styles:s,styleUrls:n,moduleUrl:t})}}class iE{constructor(){this.ngContentSelectors=[],this.styles=[],this.styleUrls=[],this.ngNonBindableStackCount=0}visitElement(e,t){const n=h_(e);switch(n.type){case d_.NG_CONTENT:0===this.ngNonBindableStackCount&&this.ngContentSelectors.push(n.selectAttr);break;case d_.STYLE:let t="";e.children.forEach(e=>{e instanceof Lv&&(t+=e.value)}),this.styles.push(t);break;case d_.STYLESHEET:this.styleUrls.push(n.hrefAttr)}return n.nonBindable&&this.ngNonBindableStackCount++,Hv(this,e.children),n.nonBindable&&this.ngNonBindableStackCount--,null}visitExpansion(e,t){Hv(this,e.cases)}visitExpansionCase(e,t){Hv(this,e.expression)}visitComment(e,t){return null}visitAttribute(e,t){return null}visitText(e,t){return null}}const oE=[yc,vc,gc,fc];class aE{constructor(e){this._reflector=e}isDirective(e){const t=this._reflector.annotations(xh(e));return t&&t.some(lE)}resolve(e,t=!0){const n=this._reflector.annotations(xh(e));if(n){const t=cE(n,lE);if(t){const n=this._reflector.propMetadata(e),s=this._reflector.guards(e);return this._mergeWithPropertyMetadata(t,n,s,e)}}if(t)throw new Error(`No Directive annotation found on ${Sh(e)}`);return null}_mergeWithPropertyMetadata(e,t,n,s){const r=[],i=[],o={},a={};return Object.keys(t).forEach(e=>{const n=cE(t[e],e=>Sc.isTypeOf(e));n&&(n.bindingPropertyName?r.push(`${e}: ${n.bindingPropertyName}`):r.push(e));const s=cE(t[e],e=>xc.isTypeOf(e));s&&(s.bindingPropertyName?i.push(`${e}: ${s.bindingPropertyName}`):i.push(e)),t[e].filter(e=>Tc.isTypeOf(e)).forEach(t=>{if(t.hostPropertyName){const n=t.hostPropertyName[0];if("("===n)throw new Error("@HostBinding can not bind to events. Use @HostListener instead.");if("["===n)throw new Error("@HostBinding parameter should be a property name, 'class.<name>', or 'attr.<name>'.");o[`[${t.hostPropertyName}]`]=e}else o[`[${e}]`]=e}),t[e].filter(e=>Ac.isTypeOf(e)).forEach(t=>{const n=t.args||[];o[`(${t.eventName})`]=`${e}(${n.join(",")})`});const l=cE(t[e],e=>oE.some(t=>t.isTypeOf(e)));l&&(a[e]=l)}),this._merge(e,r,i,o,a,n,s)}_extractPublicName(e){return uh(e,[null,e])[1].trim()}_dedupeBindings(e){const t=new Set,n=new Set,s=[];for(let r=e.length-1;r>=0;r--){const i=e[r],o=this._extractPublicName(i);n.add(o),t.has(o)||(t.add(o),s.push(i))}return s.reverse()}_merge(e,t,n,s,r,i,o){const a=this._dedupeBindings(e.inputs?e.inputs.concat(t):t),l=this._dedupeBindings(e.outputs?e.outputs.concat(n):n),c=e.host?Object.assign({},e.host,s):s,u=e.queries?Object.assign({},e.queries,r):r;if(Cc.isTypeOf(e)){const t=e;return Cc({selector:t.selector,inputs:a,outputs:l,host:c,exportAs:t.exportAs,moduleId:t.moduleId,queries:u,changeDetection:t.changeDetection,providers:t.providers,viewProviders:t.viewProviders,entryComponents:t.entryComponents,template:t.template,templateUrl:t.templateUrl,styles:t.styles,styleUrls:t.styleUrls,encapsulation:t.encapsulation,animations:t.animations,interpolation:t.interpolation,preserveWhitespaces:e.preserveWhitespaces})}return _c({selector:e.selector,inputs:a,outputs:l,host:c,exportAs:e.exportAs,queries:u,providers:e.providers,guards:i})}}function lE(e){return _c.isTypeOf(e)||Cc.isTypeOf(e)}function cE(e,t){for(let n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}class uE extends Pg{constructor(e,t){super(e,t)}}const hE="i18n",dE="i18n-",pE=/^i18n:?/,mE="|",fE="@@";let gE=!1;class vE{constructor(e,t){this.messages=e,this.errors=t}}var yE;!function(e){e[e.Extract=0]="Extract",e[e.Merge=1]="Merge"}(yE||(yE={}));class _E{constructor(e,t){this._implicitTags=e,this._implicitAttrs=t}extract(e,t){return this._init(yE.Extract,t),e.forEach(e=>e.visit(this,null)),this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new vE(this._messages,this._errors)}merge(e,t,n){this._init(yE.Merge,n),this._translations=t;const s=new jv("wrapper",[],e,void 0,void 0,void 0).visit(this,null);return this._inI18nBlock&&this._reportError(e[e.length-1],"Unclosed block"),new oy(s.children,this._errors)}visitExpansionCase(e,t){const n=Hv(this,e.expression,t);if(this._mode===yE.Merge)return new Vv(e.value,n,e.sourceSpan,e.valueSourceSpan,e.expSourceSpan)}visitExpansion(e,t){this._mayBeAddBlockChildren(e);const n=this._inIcu;this._inIcu||(this._isInTranslatableSection&&this._addMessage([e]),this._inIcu=!0);const s=Hv(this,e.cases,t);return this._mode===yE.Merge&&(e=new $v(e.switchValue,e.type,s,e.sourceSpan,e.switchValueSourceSpan)),this._inIcu=n,e}visitComment(e,t){const n=!!((s=e)instanceof Uv&&s.value&&s.value.startsWith("i18n"));var s;if(n&&this._isInTranslatableSection)return void this._reportError(e,"Could not start a block inside a translatable section");const r=function(e){return!!(e instanceof Uv&&e.value&&"/i18n"===e.value)}(e);if(!r||this._inI18nBlock){if(!this._inI18nNode&&!this._inIcu)if(this._inI18nBlock){if(r){if(this._depth==this._blockStartDepth){this._closeTranslatableSection(e,this._blockChildren),this._inI18nBlock=!1;const t=this._addMessage(this._blockChildren,this._blockMeaningAndDesc);return Hv(this,this._translateMessage(e,t))}return void this._reportError(e,"I18N blocks should not cross element boundaries")}}else if(n){if(!gE&&console&&console.warn){gE=!0;const t=e.sourceSpan.details?`, ${e.sourceSpan.details}`:"";console.warn(`I18n comments are deprecated, use an <ng-container> element instead (${e.sourceSpan.start}${t})`)}this._inI18nBlock=!0,this._blockStartDepth=this._depth,this._blockChildren=[],this._blockMeaningAndDesc=e.value.replace(pE,"").trim(),this._openTranslatableSection(e)}}else this._reportError(e,"Trying to close an unopened block")}visitText(e,t){return this._isInTranslatableSection&&this._mayBeAddBlockChildren(e),e}visitElement(e,t){this._mayBeAddBlockChildren(e),this._depth++;const n=this._inI18nNode,s=this._inImplicitNode;let r=[],i=void 0;const o=e.attrs.find(e=>e.name===hE)||null;const a=o?o.value:"",l=this._implicitTags.some(t=>e.name===t)&&!this._inIcu&&!this._isInTranslatableSection,c=!s&&l;if(this._inImplicitNode=s||l,this._isInTranslatableSection||this._inIcu)(o||c)&&this._reportError(e,"Could not mark an element as translatable inside a translatable section"),this._mode==yE.Extract&&Hv(this,e.children);else{if(o||c){this._inI18nNode=!0;const t=this._addMessage(e.children,a);i=this._translateMessage(e,t)}if(this._mode==yE.Extract){const t=o||c;t&&this._openTranslatableSection(e),Hv(this,e.children),t&&this._closeTranslatableSection(e,e.children)}}if(this._mode===yE.Merge){(i||e.children).forEach(e=>{const n=e.visit(this,t);n&&!this._isInTranslatableSection&&(r=r.concat(n))})}if(this._visitAttributesOf(e),this._depth--,this._inI18nNode=n,this._inImplicitNode=s,this._mode===yE.Merge){const t=this._translateAttributes(e);return new jv(e.name,t,r,e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}return null}visitAttribute(e,t){throw new Error("unreachable code")}_init(e,t){this._mode=e,this._inI18nBlock=!1,this._inI18nNode=!1,this._depth=0,this._inIcu=!1,this._msgCountAtSectionStart=void 0,this._errors=[],this._messages=[],this._inImplicitNode=!1,this._createI18nMessage=U_(t)}_visitAttributesOf(e){const t={},n=this._implicitAttrs[e.name]||[];e.attrs.filter(e=>e.name.startsWith(dE)).forEach(e=>t[e.name.slice(dE.length)]=e.value),e.attrs.forEach(e=>{e.name in t?this._addMessage([e],t[e.name]):n.some(t=>e.name===t)&&this._addMessage([e])})}_addMessage(e,t){if(0==e.length||1==e.length&&e[0]instanceof Bv&&!e[0].value)return null;const{meaning:n,description:s,id:r}=wE(t),i=this._createI18nMessage(e,n,s,r);return this._messages.push(i),i}_translateMessage(e,t){if(t&&this._mode===yE.Merge){const n=this._translations.get(t);if(n)return n;this._reportError(e,`Translation unavailable for message id="${this._translations.digest(t)}"`)}return[]}_translateAttributes(e){const t=e.attrs,n={};t.forEach(e=>{e.name.startsWith(dE)&&(n[e.name.slice(dE.length)]=wE(e.value))});const s=[];return t.forEach(t=>{if(t.name!==hE&&!t.name.startsWith(dE))if(t.value&&""!=t.value&&n.hasOwnProperty(t.name)){const{meaning:r,description:i,id:o}=n[t.name],a=this._createI18nMessage([t],r,i,o),l=this._translations.get(a);if(l)if(0==l.length)s.push(new Bv(t.name,"",t.sourceSpan));else if(l[0]instanceof Lv){const e=l[0].value;s.push(new Bv(t.name,e,t.sourceSpan))}else this._reportError(e,`Unexpected translation for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`);else this._reportError(e,`Translation unavailable for attribute "${t.name}" (id="${o||this._translations.digest(a)}")`)}else s.push(t)}),s}_mayBeAddBlockChildren(e){this._inI18nBlock&&!this._inIcu&&this._depth==this._blockStartDepth&&this._blockChildren.push(e)}_openTranslatableSection(e){this._isInTranslatableSection?this._reportError(e,"Unexpected section start"):this._msgCountAtSectionStart=this._messages.length}get _isInTranslatableSection(){return void 0!==this._msgCountAtSectionStart}_closeTranslatableSection(e,t){if(!this._isInTranslatableSection)return void this._reportError(e,"Unexpected section end");const n=this._msgCountAtSectionStart;if(1==t.reduce((e,t)=>e+(t instanceof Uv?0:1),0))for(let s=this._messages.length-1;s>=n;s--){const e=this._messages[s].nodes;if(!(1==e.length&&e[0]instanceof md)){this._messages.splice(s,1);break}}this._msgCountAtSectionStart=void 0}_reportError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}function wE(e){if(!e)return{meaning:"",description:"",id:""};const t=e.indexOf(fE),n=e.indexOf(mE),[s,r]=t>-1?[e.slice(0,t),e.slice(t+2)]:[e,""],[i,o]=n>-1?[s.slice(0,n),s.slice(n+1)]:["",s];return{meaning:i,description:o,id:r}}const EE=new class{constructor(){this.closedByParent=!1,this.contentType=Kl.PARSABLE_DATA,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0}requireExtraParent(e){return!1}isClosedByChild(e){return!1}};function CE(e){return EE}class bE extends ay{constructor(){super(CE)}parse(e,t,n=!1){return super.parse(e,t,n)}}const SE="1.2",xE="urn:oasis:names:tc:xliff:document:1.2",TE="en",AE="x",DE="mrk",PE="file",kE="source",NE="seg-source",ME="target",IE="trans-unit",OE="context-group",FE="context";class RE extends Bd{write(e,t){const n=new LE,s=[];e.forEach(e=>{let t=[];e.sources.forEach(e=>{let n=new Wd(OE,{purpose:"location"});n.children.push(new Kd(10),new Wd(FE,{"context-type":"sourcefile"},[new Gd(e.filePath)]),new Kd(10),new Wd(FE,{"context-type":"linenumber"},[new Gd(`${e.startLine}`)]),new Kd(8)),t.push(new Kd(8),n)});const r=new Wd(IE,{id:e.id,datatype:"html"});r.children.push(new Kd(8),new Wd(kE,{},n.serialize(e.nodes)),...t),e.description&&r.children.push(new Kd(8),new Wd("note",{priority:"1",from:"description"},[new Gd(e.description)])),e.meaning&&r.children.push(new Kd(8),new Wd("note",{priority:"1",from:"meaning"},[new Gd(e.meaning)])),r.children.push(new Kd(6)),s.push(new Kd(6),r)});const r=new Wd("body",{},[...s,new Kd(4)]),i=new Wd("file",{"source-language":t||TE,datatype:"plaintext",original:"ng2.template"},[new Kd(4),r,new Kd(2)]),o=new Wd("xliff",{version:SE,xmlns:xE},[new Kd(2),i,new Kd]);return Hd([new qd({version:"1.0",encoding:"UTF-8"}),new Kd,o,new Kd])}load(e,t){const n=new $E,{locale:s,msgIdToHtml:r,errors:i}=n.parse(e,t),o={},a=new VE;if(Object.keys(r).forEach(e=>{const{i18nNodes:n,errors:s}=a.convert(r[e],t);i.push(...s),o[e]=n}),i.length)throw new Error(`xliff parse errors:\n${i.join("\n")}`);return{locale:s,i18nNodesByMsgId:o}}digest(e){return Ed(e)}}class LE{visitText(e,t){return[new Gd(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Gd(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Gd(`${t} {`),...e.cases[t].visit(this),new Gd("} "))}),n.push(new Gd("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":return"lb";case"img":return"image";default:return`x-${e}`}}(e.tag);if(e.isVoid)return[new Wd(AE,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}/>`})];const s=new Wd(AE,{id:e.startName,ctype:n,"equiv-text":`<${e.tag}>`}),r=new Wd(AE,{id:e.closeName,ctype:n,"equiv-text":`</${e.tag}>`});return[s,...this.serialize(e.children),r]}visitPlaceholder(e,t){return[new Wd(AE,{id:e.name,"equiv-text":`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=`{${e.value.expression}, ${e.value.type}, ${Object.keys(e.value.cases).map(e=>e+" {...}").join(" ")}}`;return[new Wd(AE,{id:e.name,"equiv-text":n})]}serialize(e){return[].concat(...e.map(e=>e.visit(this)))}}class $E{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new bE).parse(e,t,!1);return this._errors=n.errors,Hv(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case IE:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Hv(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,`<${IE}> misses the "id" attribute`);break;case kE:case NE:break;case ME:const n=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,r=e.startSourceSpan.start.file.content.slice(n,s);this._unitMlString=r;break;case PE:const i=e.attrs.find(e=>"target-language"===e.name);i&&(this._locale=i.value),Hv(this,e.children,null);break;default:Hv(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}class VE{convert(e,t){const n=(new bE).parse(e,t,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Hv(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new md(e.value,e.sourceSpan)}visitElement(e,t){if(e.name===AE){const t=e.attrs.find(e=>"id"===e.name);return t?new yd("",t.value,e.sourceSpan):(this._addError(e,`<${AE}> misses the "id" attribute`),null)}return e.name===DE?[].concat(...Hv(this,e.children)):(this._addError(e,"Unexpected tag"),null)}visitExpansion(e,t){const n={};return Hv(this,e.cases).forEach(t=>{n[t.value]=new fd(t.nodes,e.sourceSpan)}),new gd(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Hv(this,e.expression)}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}const BE="2.0",jE="urn:oasis:names:tc:xliff:document:2.0",UE="en",HE="ph",qE="pc",zE="mrk",WE="xliff",GE="source",KE="target",QE="unit";class ZE extends Bd{write(e,t){const n=new XE,s=[];e.forEach(e=>{const t=new Wd(QE,{id:e.id}),r=new Wd("notes");(e.description||e.meaning)&&(e.description&&r.children.push(new Kd(8),new Wd("note",{category:"description"},[new Gd(e.description)])),e.meaning&&r.children.push(new Kd(8),new Wd("note",{category:"meaning"},[new Gd(e.meaning)]))),e.sources.forEach(e=>{r.children.push(new Kd(8),new Wd("note",{category:"location"},[new Gd(`${e.filePath}:${e.startLine}${e.endLine!==e.startLine?","+e.endLine:""}`)]))}),r.children.push(new Kd(6)),t.children.push(new Kd(6),r);const i=new Wd("segment");i.children.push(new Kd(8),new Wd(GE,{},n.serialize(e.nodes)),new Kd(6)),t.children.push(new Kd(6),i,new Kd(4)),s.push(new Kd(4),t)});const r=new Wd("file",{original:"ng.template",id:"ngi18n"},[...s,new Kd(2)]),i=new Wd(WE,{version:BE,xmlns:jE,srcLang:t||UE},[new Kd(2),r,new Kd]);return Hd([new qd({version:"1.0",encoding:"UTF-8"}),new Kd,i,new Kd])}load(e,t){const n=new YE,{locale:s,msgIdToHtml:r,errors:i}=n.parse(e,t),o={},a=new JE;if(Object.keys(r).forEach(e=>{const{i18nNodes:n,errors:s}=a.convert(r[e],t);i.push(...s),o[e]=n}),i.length)throw new Error(`xliff2 parse errors:\n${i.join("\n")}`);return{locale:s,i18nNodesByMsgId:o}}digest(e){return Cd(e)}}class XE{visitText(e,t){return[new Gd(e.value)]}visitContainer(e,t){const n=[];return e.children.forEach(e=>n.push(...e.visit(this))),n}visitIcu(e,t){const n=[new Gd(`{${e.expressionPlaceholder}, ${e.type}, `)];return Object.keys(e.cases).forEach(t=>{n.push(new Gd(`${t} {`),...e.cases[t].visit(this),new Gd("} "))}),n.push(new Gd("}")),n}visitTagPlaceholder(e,t){const n=function(e){switch(e.toLowerCase()){case"br":case"b":case"i":case"u":return"fmt";case"img":return"image";case"a":return"link";default:return"other"}}(e.tag);if(e.isVoid){return[new Wd(HE,{id:(this._nextPlaceholderId++).toString(),equiv:e.startName,type:n,disp:`<${e.tag}/>`})]}const s=new Wd(qE,{id:(this._nextPlaceholderId++).toString(),equivStart:e.startName,equivEnd:e.closeName,type:n,dispStart:`<${e.tag}>`,dispEnd:`</${e.tag}>`}),r=[].concat(...e.children.map(e=>e.visit(this)));return r.length?r.forEach(e=>s.children.push(e)):s.children.push(new Gd("")),[s]}visitPlaceholder(e,t){const n=(this._nextPlaceholderId++).toString();return[new Wd(HE,{id:n,equiv:e.name,disp:`{{${e.value}}}`})]}visitIcuPlaceholder(e,t){const n=Object.keys(e.value.cases).map(e=>e+" {...}").join(" "),s=(this._nextPlaceholderId++).toString();return[new Wd(HE,{id:s,equiv:e.name,disp:`{${e.value.expression}, ${e.value.type}, ${n}}`})]}serialize(e){return this._nextPlaceholderId=0,[].concat(...e.map(e=>e.visit(this)))}}class YE{constructor(){this._locale=null}parse(e,t){this._unitMlString=null,this._msgIdToHtml={};const n=(new bE).parse(e,t,!1);return this._errors=n.errors,Hv(this,n.rootNodes,null),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case QE:this._unitMlString=null;const t=e.attrs.find(e=>"id"===e.name);if(t){const n=t.value;this._msgIdToHtml.hasOwnProperty(n)?this._addError(e,`Duplicated translations for msg ${n}`):(Hv(this,e.children,null),"string"==typeof this._unitMlString?this._msgIdToHtml[n]=this._unitMlString:this._addError(e,`Message ${n} misses a translation`))}else this._addError(e,`<${QE}> misses the "id" attribute`);break;case GE:break;case KE:const n=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,r=e.startSourceSpan.start.file.content.slice(n,s);this._unitMlString=r;break;case WE:const i=e.attrs.find(e=>"trgLang"===e.name);i&&(this._locale=i.value);const o=e.attrs.find(e=>"version"===e.name);if(o){const t=o.value;"2.0"!==t?this._addError(e,`The XLIFF file version ${t} is not compatible with XLIFF 2.0 serializer`):Hv(this,e.children,null)}break;default:Hv(this,e.children,null)}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}class JE{convert(e,t){const n=(new bE).parse(e,t,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:[].concat(...Hv(this,n.rootNodes)),errors:this._errors}}visitText(e,t){return new md(e.value,e.sourceSpan)}visitElement(e,t){switch(e.name){case HE:const t=e.attrs.find(e=>"equiv"===e.name);if(t)return[new yd("",t.value,e.sourceSpan)];this._addError(e,`<${HE}> misses the "equiv" attribute`);break;case qE:const n=e.attrs.find(e=>"equivStart"===e.name),s=e.attrs.find(e=>"equivEnd"===e.name);if(n){if(s){const t=n.value,r=s.value;return[].concat(new yd("",t,e.sourceSpan),...e.children.map(e=>e.visit(this,null)),new yd("",r,e.sourceSpan))}this._addError(e,`<${HE}> misses the "equivEnd" attribute`)}else this._addError(e,`<${HE}> misses the "equivStart" attribute`);break;case zE:return[].concat(...Hv(this,e.children));default:this._addError(e,"Unexpected tag")}return null}visitExpansion(e,t){const n={};return Hv(this,e.cases).forEach(t=>{n[t.value]=new fd(t.nodes,e.sourceSpan)}),new gd(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:[].concat(...Hv(this,e.expression))}}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}const eC="translationbundle",tC="translation",nC="ph";class sC extends Bd{write(e,t){throw new Error("Unsupported")}load(e,t){const n=new rC,{locale:s,msgIdToHtml:r,errors:i}=n.parse(e,t),o={},a=new iC;if(Object.keys(r).forEach(e=>{!function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){const s=n();return Object.defineProperty(e,t,{enumerable:!0,value:s}),s},set:e=>{throw new Error("Could not overwrite an XTB translation")}})}(o,e,function(){const{i18nNodes:n,errors:s}=a.convert(r[e],t);if(s.length)throw new Error(`xtb parse errors:\n${s.join("\n")}`);return n})}),i.length)throw new Error(`xtb parse errors:\n${i.join("\n")}`);return{locale:s,i18nNodesByMsgId:o}}digest(e){return ip(e)}createNameMapper(e){return new jd(e,ap)}}class rC{constructor(){this._locale=null}parse(e,t){this._bundleDepth=0,this._msgIdToHtml={};const n=(new bE).parse(e,t,!1);return this._errors=n.errors,Hv(this,n.rootNodes),{msgIdToHtml:this._msgIdToHtml,errors:this._errors,locale:this._locale}}visitElement(e,t){switch(e.name){case eC:this._bundleDepth++,this._bundleDepth>1&&this._addError(e,`<${eC}> elements can not be nested`);const t=e.attrs.find(e=>"lang"===e.name);t&&(this._locale=t.value),Hv(this,e.children,null),this._bundleDepth--;break;case tC:const n=e.attrs.find(e=>"id"===e.name);if(n){const t=n.value;if(this._msgIdToHtml.hasOwnProperty(t))this._addError(e,`Duplicated translations for msg ${t}`);else{const n=e.startSourceSpan.end.offset,s=e.endSourceSpan.start.offset,r=e.startSourceSpan.start.file.content.slice(n,s);this._msgIdToHtml[t]=r}}else this._addError(e,`<${tC}> misses the "id" attribute`);break;default:this._addError(e,"Unexpected tag")}}visitAttribute(e,t){}visitText(e,t){}visitComment(e,t){}visitExpansion(e,t){}visitExpansionCase(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}class iC{convert(e,t){const n=(new bE).parse(e,t,!0);return this._errors=n.errors,{i18nNodes:this._errors.length>0||0==n.rootNodes.length?[]:Hv(this,n.rootNodes),errors:this._errors}}visitText(e,t){return new md(e.value,e.sourceSpan)}visitExpansion(e,t){const n={};return Hv(this,e.cases).forEach(t=>{n[t.value]=new fd(t.nodes,e.sourceSpan)}),new gd(e.switchValue,e.type,n,e.sourceSpan)}visitExpansionCase(e,t){return{value:e.value,nodes:Hv(this,e.expression)}}visitElement(e,t){if(e.name===nC){const t=e.attrs.find(e=>"name"===e.name);if(t)return new yd("",t.value,e.sourceSpan);this._addError(e,`<${nC}> misses the "name" attribute`)}else this._addError(e,"Unexpected tag");return null}visitComment(e,t){}visitAttribute(e,t){}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}class oC{constructor(e={},t,n,s,r=$c.Warning,i){this._i18nNodesByMsgId=e,this.digest=n,this.mapperFactory=s,this._i18nToHtml=new aC(e,t,n,s,r,i)}static load(e,t,n,s,r){const{locale:i,i18nNodesByMsgId:o}=n.load(e,t);return new oC(o,i,e=>n.digest(e),e=>n.createNameMapper(e),s,r)}get(e){const t=this._i18nToHtml.convert(e);if(t.errors.length)throw new Error(t.errors.join("\n"));return t.nodes}has(e){return this.digest(e)in this._i18nNodesByMsgId}}class aC{constructor(e={},t,n,s,r,i){this._i18nNodesByMsgId=e,this._locale=t,this._digest=n,this._mapperFactory=s,this._missingTranslationStrategy=r,this._console=i,this._contextStack=[],this._errors=[]}convert(e){this._contextStack.length=0,this._errors.length=0;const t=this._convertToText(e),n=e.nodes[0].sourceSpan.start.file.url,s=(new uy).parse(t,n,!0);return{nodes:s.rootNodes,errors:[...this._errors,...s.errors]}}visitText(e,t){return Zd(e.value)}visitContainer(e,t){return e.children.map(e=>e.visit(this)).join("")}visitIcu(e,t){const n=Object.keys(e.cases).map(t=>`${t} {${e.cases[t].visit(this)}}`);return`{${this._srcMsg.placeholders.hasOwnProperty(e.expression)?this._srcMsg.placeholders[e.expression]:e.expression}, ${e.type}, ${n.join(" ")}}`}visitPlaceholder(e,t){const n=this._mapper(e.name);return this._srcMsg.placeholders.hasOwnProperty(n)?this._srcMsg.placeholders[n]:this._srcMsg.placeholderToMessage.hasOwnProperty(n)?this._convertToText(this._srcMsg.placeholderToMessage[n]):(this._addError(e,`Unknown placeholder "${e.name}"`),"")}visitTagPlaceholder(e,t){const n=`${e.tag}`,s=Object.keys(e.attrs).map(t=>`${t}="${e.attrs[t]}"`).join(" ");return e.isVoid?`<${n} ${s}/>`:`<${n} ${s}>${e.children.map(e=>e.visit(this)).join("")}</${n}>`}visitIcuPlaceholder(e,t){return this._convertToText(this._srcMsg.placeholderToMessage[e.name])}_convertToText(e){const t=this._digest(e),n=this._mapperFactory?this._mapperFactory(e):null;let s;if(this._contextStack.push({msg:this._srcMsg,mapper:this._mapper}),this._srcMsg=e,this._i18nNodesByMsgId.hasOwnProperty(t))s=this._i18nNodesByMsgId[t],this._mapper=(e=>n?n.toInternalName(e):e);else{if(this._missingTranslationStrategy===$c.Error){const n=this._locale?` for locale "${this._locale}"`:"";this._addError(e.nodes[0],`Missing translation for message "${t}"${n}`)}else if(this._console&&this._missingTranslationStrategy===$c.Warning){const e=this._locale?` for locale "${this._locale}"`:"";this._console.warn(`Missing translation for message "${t}"${e}`)}s=e.nodes,this._mapper=(e=>e)}const r=s.map(e=>e.visit(this)).join(""),i=this._contextStack.pop();return this._srcMsg=i.msg,this._mapper=i.mapper,r}_addError(e,t){this._errors.push(new uE(e.sourceSpan,t))}}class lC{constructor(e,t,n,s=$c.Warning,r){if(this._htmlParser=e,t){const e=function(e){switch(e=(e||"xlf").toLowerCase()){case"xmb":return new sp;case"xtb":return new sC;case"xliff2":case"xlf2":return new ZE;case"xliff":case"xlf":default:return new RE}}(n);this._translationBundle=oC.load(t,"i18n",e,s,r)}else this._translationBundle=new oC({},null,Ed,void 0,s,r)}parse(e,t,n=!1,s=kv){const r=this._htmlParser.parse(e,t,n,s);return r.errors.length?new oy(r.rootNodes,r.errors):function(e,t,n,s,r){return new _E(s,r).merge(e,t,n)}(r.rootNodes,this._translationBundle,s,[],{})}}const cC="$quoted$";function uC(e,t,n=null){return dh(t,new hC(e),n)}class hC{constructor(e){this.ctx=e}visitArray(e,t){return sh(e.map(e=>dh(e,this,null)),t)}visitStringMap(e,t){const n=[],s=new Set(e&&e[cC]);return Object.keys(e).forEach(t=>{n.push(new Au(t,dh(e[t],this,null),s.has(t)))}),new Du(n,t)}visitPrimitive(e,t){return ah(e,t)}visitOther(e,t){return e instanceof iu?e:this.ctx.importExpr(e)}}function dC(e,t=!1){const n=pC(e,t);return`${n[0]}.ngfactory${mC(n[1])}`}function pC(e,t=!1){if(e.endsWith(".d.ts"))return[e.slice(0,-5),t?".ts":".d.ts"];const n=e.lastIndexOf(".");return-1!==n?[e.substring(0,n),e.substring(n)]:[e,""]}function mC(e){return".tsx"===e?".ts":e}const fC="ngComponentType";class gC{constructor(e,t,n,s,r,i,o,a,l,c,u,h){this._config=e,this._htmlParser=t,this._ngModuleResolver=n,this._directiveResolver=s,this._pipeResolver=r,this._summaryResolver=i,this._schemaRegistry=o,this._directiveNormalizer=a,this._console=l,this._staticSymbolCache=c,this._reflector=u,this._errorCollector=h,this._nonNormalizedDirectiveCache=new Map,this._directiveCache=new Map,this._summaryCache=new Map,this._pipeCache=new Map,this._ngModuleCache=new Map,this._ngModuleOfTypes=new Map,this._shallowModuleCache=new Map}getReflector(){return this._reflector}clearCacheFor(e){const t=this._directiveCache.get(e);this._directiveCache.delete(e),this._nonNormalizedDirectiveCache.delete(e),this._summaryCache.delete(e),this._pipeCache.delete(e),this._ngModuleOfTypes.delete(e),this._ngModuleCache.clear(),t&&this._directiveNormalizer.clearCacheFor(t)}clearCache(){this._directiveCache.clear(),this._nonNormalizedDirectiveCache.clear(),this._summaryCache.clear(),this._pipeCache.clear(),this._ngModuleCache.clear(),this._ngModuleOfTypes.clear(),this._directiveNormalizer.clearCache()}_createProxyClass(e,t){let n=null;const s=function(){if(!n)throw new Error(`Illegal state: Class ${t} for type ${Sh(e)} is not compiled yet!`);return n.apply(this,arguments)};return s.setDelegate=(e=>{n=e,s.prototype=e.prototype}),s.overriddenName=t,s}getGeneratedClass(e,t){return e instanceof jh?this._staticSymbolCache.get(dC(e.filePath),t):this._createProxyClass(e,t)}getComponentViewClass(e){return this.getGeneratedClass(e,Kh(e,0))}getHostComponentViewClass(e){return this.getGeneratedClass(e,`HostView_${Wh({reference:e})}`)}getHostComponentType(e){const t=`${Wh({reference:e})}_Host`;return e instanceof jh?this._staticSymbolCache.get(e.filePath,t):this._createProxyClass(e,t)}getRendererType(e){return e instanceof jh?this._staticSymbolCache.get(dC(e.filePath),Qh(e)):{}}getComponentFactory(e,t,n,s){if(t instanceof jh)return this._staticSymbolCache.get(dC(t.filePath),Zh(t));{const r=this.getHostComponentViewClass(t);return this._reflector.resolveExternalReference($h.createComponentFactory)(e,t,r,n,s,[])}}initComponentFactory(e,t){e instanceof jh||e.ngContentSelectors.push(...t)}_loadSummary(e,t){let n=this._summaryCache.get(e);if(!n){const t=this._summaryResolver.resolveSummary(e);n=t?t.type:null,this._summaryCache.set(e,n||null)}return n&&n.summaryKind===t?n:null}getHostComponentMetadata(e,t){const n=this.getHostComponentType(e.type.reference);t||(t=this.getHostComponentViewClass(n));const s=lc.parse(e.selector)[0].getMatchingElementTemplate(),r=this._htmlParser.parse(s,"");return nd.create({isHost:!0,type:{reference:n,diDeps:[],lifecycleHooks:[]},template:new td({encapsulation:wc.None,template:s,templateUrl:"",htmlAst:r,styles:[],styleUrls:[],ngContentSelectors:[],animations:[],isInline:!0,externalStylesheets:[],interpolation:null,preserveWhitespaces:!1}),exportAs:null,changeDetection:Ec.Default,inputs:[],outputs:[],host:{},isComponent:!0,selector:"*",providers:[],viewProviders:[],queries:[],guards:{},viewQueries:[],componentViewType:t,rendererType:{id:"__Host__",encapsulation:wc.None,styles:[],data:{}},entryComponents:[],componentFactory:null})}loadDirectiveMetadata(e,t,n){if(this._directiveCache.has(t))return null;t=xh(t);const{annotation:s,metadata:r}=this.getNonNormalizedDirectiveMetadata(t),i=e=>{const n=new nd({isHost:!1,type:r.type,isComponent:r.isComponent,selector:r.selector,exportAs:r.exportAs,changeDetection:r.changeDetection,inputs:r.inputs,outputs:r.outputs,hostListeners:r.hostListeners,hostProperties:r.hostProperties,hostAttributes:r.hostAttributes,providers:r.providers,viewProviders:r.viewProviders,queries:r.queries,guards:r.guards,viewQueries:r.viewQueries,entryComponents:r.entryComponents,componentViewType:r.componentViewType,rendererType:r.rendererType,componentFactory:r.componentFactory,template:e});return e&&this.initComponentFactory(r.componentFactory,e.ngContentSelectors),this._directiveCache.set(t,n),this._summaryCache.set(t,n.toSummary()),null};if(r.isComponent){const o=r.template,a=this._directiveNormalizer.normalizeTemplate({ngModuleType:e,componentType:t,moduleUrl:this._reflector.componentModuleUrl(t,s),encapsulation:o.encapsulation,template:o.template,templateUrl:o.templateUrl,styles:o.styles,styleUrls:o.styleUrls,animations:o.animations,interpolation:o.interpolation,preserveWhitespaces:o.preserveWhitespaces});return Th(a)&&n?(this._reportError(function(e){const t=Error(`Can't compile synchronously as ${Sh(e)} is still being loaded!`);return t[fC]=e,t}(t),t),null):gh.then(a,i)}return i(null),null}getNonNormalizedDirectiveMetadata(e){if(!(e=xh(e)))return null;let t=this._nonNormalizedDirectiveCache.get(e);if(t)return t;const n=this._directiveResolver.resolve(e,!1);if(!n)return null;let s=void 0;if(Cc.isTypeOf(n)){const e=n;Tv("styles",e.styles),Tv("styleUrls",e.styleUrls),Dv("interpolation",e.interpolation);const t=e.animations;s=new td({encapsulation:mh(e.encapsulation),template:mh(e.template),templateUrl:mh(e.templateUrl),htmlAst:null,styles:e.styles||[],styleUrls:e.styleUrls||[],animations:t||[],interpolation:mh(e.interpolation),isInline:!!e.template,externalStylesheets:[],ngContentSelectors:[],preserveWhitespaces:mh(n.preserveWhitespaces)})}let r=null,i=[],o=[],a=n.selector;if(Cc.isTypeOf(n)){const t=n;r=t.changeDetection,t.viewProviders&&(i=this._getProvidersMetadata(t.viewProviders,o,`viewProviders for "${wC(e)}"`,[],e)),t.entryComponents&&(o=vC(t.entryComponents).map(e=>this._getEntryComponentMetadata(e)).concat(o)),a||(a=this._schemaRegistry.getDefaultComponentElementName())}else a||(this._reportError(yh(`Directive ${wC(e)} has no selector, please add it!`),e),a="error");let l=[];null!=n.providers&&(l=this._getProvidersMetadata(n.providers,o,`providers for "${wC(e)}"`,[],e));let c=[],u=[];null!=n.queries&&(c=this._getQueriesMetadata(n.queries,!1,e),u=this._getQueriesMetadata(n.queries,!0,e));const h=nd.create({isHost:!1,selector:a,exportAs:mh(n.exportAs),isComponent:!!s,type:this._getTypeMetadata(e),template:s,changeDetection:r,inputs:n.inputs||[],outputs:n.outputs||[],host:n.host||{},providers:l||[],viewProviders:i||[],queries:c||[],guards:n.guards||{},viewQueries:u||[],entryComponents:o,componentViewType:s?this.getComponentViewClass(e):null,rendererType:s?this.getRendererType(e):null,componentFactory:null});return s&&(h.componentFactory=this.getComponentFactory(a,e,h.inputs,h.outputs)),t={metadata:h,annotation:n},this._nonNormalizedDirectiveCache.set(e,t),t}getDirectiveMetadata(e){const t=this._directiveCache.get(e);return t||this._reportError(yh(`Illegal state: getDirectiveMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Directive ${wC(e)}.`),e),t}getDirectiveSummary(e){const t=this._loadSummary(e,Xh.Directive);return t||this._reportError(yh(`Illegal state: Could not load the summary for directive ${wC(e)}.`),e),t}isDirective(e){return!!this._loadSummary(e,Xh.Directive)||this._directiveResolver.isDirective(e)}isPipe(e){return!!this._loadSummary(e,Xh.Pipe)||this._pipeResolver.isPipe(e)}isNgModule(e){return!!this._loadSummary(e,Xh.NgModule)||this._ngModuleResolver.isNgModule(e)}getNgModuleSummary(e,t=null){let n=this._loadSummary(e,Xh.NgModule);if(!n){const s=this.getNgModuleMetadata(e,!1,t);(n=s?s.toSummary():null)&&this._summaryCache.set(e,n)}return n}loadNgModuleDirectiveAndPipeMetadata(e,t,n=!0){const s=this.getNgModuleMetadata(e,n),r=[];return s&&(s.declaredDirectives.forEach(n=>{const s=this.loadDirectiveMetadata(e,n.reference,t);s&&r.push(s)}),s.declaredPipes.forEach(e=>this._loadPipeMetadata(e.reference))),Promise.all(r)}getShallowModuleMetadata(e){let t=this._shallowModuleCache.get(e);if(t)return t;const n=cE(this._reflector.shallowAnnotations(e),Dc.isTypeOf);return t={type:this._getTypeMetadata(e),rawExports:n.exports,rawImports:n.imports,rawProviders:n.providers},this._shallowModuleCache.set(e,t),t}getNgModuleMetadata(e,t=!0,n=null){e=xh(e);let s=this._ngModuleCache.get(e);if(s)return s;const r=this._ngModuleResolver.resolve(e,t);if(!r)return null;const i=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[],p=[];r.imports&&vC(r.imports).forEach(t=>{let s=void 0;if(yC(t))s=t;else if(t&&t.ngModule){const e=t;s=e.ngModule,e.providers&&u.push(...this._getProvidersMetadata(e.providers,h,`provider for the NgModule '${wC(s)}'`,[],t))}if(s){if(this._checkSelfImport(e,s))return;if(n||(n=new Set),n.has(s))return void this._reportError(yh(`${this._getTypeDescriptor(s)} '${wC(t)}' is imported recursively by the module '${wC(e)}'.`),e);n.add(s);const r=this.getNgModuleSummary(s,n);if(n.delete(s),!r)return void this._reportError(yh(`Unexpected ${this._getTypeDescriptor(t)} '${wC(t)}' imported by the module '${wC(e)}'. Please add a @NgModule annotation.`),e);l.push(r)}else this._reportError(yh(`Unexpected value '${wC(t)}' imported by the module '${wC(e)}'`),e)}),r.exports&&vC(r.exports).forEach(t=>{if(!yC(t))return void this._reportError(yh(`Unexpected value '${wC(t)}' exported by the module '${wC(e)}'`),e);if(n||(n=new Set),n.has(t))return void this._reportError(yh(`${this._getTypeDescriptor(t)} '${Sh(t)}' is exported recursively by the module '${wC(e)}'`),e);n.add(t);const s=this.getNgModuleSummary(t,n);n.delete(t),s?c.push(s):o.push(this._getIdentifierMetadata(t))});const m=this._getTransitiveNgModuleMetadata(l,c);r.declarations&&vC(r.declarations).forEach(t=>{if(!yC(t))return void this._reportError(yh(`Unexpected value '${wC(t)}' declared by the module '${wC(e)}'`),e);const n=this._getIdentifierMetadata(t);if(this.isDirective(t))m.addDirective(n),i.push(n),this._addTypeToModule(t,e);else{if(!this.isPipe(t))return void this._reportError(yh(`Unexpected ${this._getTypeDescriptor(t)} '${wC(t)}' declared by the module '${wC(e)}'. Please add a @Pipe/@Directive/@Component annotation.`),e);m.addPipe(n),m.pipes.push(n),a.push(n),this._addTypeToModule(t,e)}});const f=[],g=[];return o.forEach(t=>{if(m.directivesSet.has(t.reference))f.push(t),m.addExportedDirective(t);else{if(!m.pipesSet.has(t.reference))return void this._reportError(yh(`Can't export ${this._getTypeDescriptor(t.reference)} ${wC(t.reference)} from ${wC(e)} as it was neither declared nor imported!`),e);g.push(t),m.addExportedPipe(t)}}),r.providers&&u.push(...this._getProvidersMetadata(r.providers,h,`provider for the NgModule '${wC(e)}'`,[],e)),r.entryComponents&&h.push(...vC(r.entryComponents).map(e=>this._getEntryComponentMetadata(e))),r.bootstrap&&vC(r.bootstrap).forEach(t=>{yC(t)?d.push(this._getIdentifierMetadata(t)):this._reportError(yh(`Unexpected value '${wC(t)}' used in the bootstrap property of module '${wC(e)}'`),e)}),h.push(...d.map(e=>this._getEntryComponentMetadata(e.reference))),r.schemas&&p.push(...vC(r.schemas)),s=new rd({type:this._getTypeMetadata(e),providers:u,entryComponents:h,bootstrapComponents:d,schemas:p,declaredDirectives:i,exportedDirectives:f,declaredPipes:a,exportedPipes:g,importedModules:l,exportedModules:c,transitiveModule:m,id:r.id||null}),h.forEach(e=>m.addEntryComponent(e)),u.forEach(e=>m.addProvider(e,s.type)),m.addModule(s.type),this._ngModuleCache.set(e,s),s}_checkSelfImport(e,t){return e===t&&(this._reportError(yh(`'${wC(e)}' module can't import itself`),e),!0)}_getTypeDescriptor(e){if(yC(e)){if(this.isDirective(e))return"directive";if(this.isPipe(e))return"pipe";if(this.isNgModule(e))return"module"}return e.provide?"provider":"value"}_addTypeToModule(e,t){const n=this._ngModuleOfTypes.get(e);n&&n!==t?this._reportError(yh(`Type ${wC(e)} is part of the declarations of 2 modules: ${wC(n)} and ${wC(t)}! `+`Please consider moving ${wC(e)} to a higher module that imports ${wC(n)} and ${wC(t)}. `+`You can also create a new NgModule that exports and includes ${wC(e)} then import that NgModule in ${wC(n)} and ${wC(t)}.`),t):this._ngModuleOfTypes.set(e,t)}_getTransitiveNgModuleMetadata(e,t){const n=new id,s=new Map;return e.concat(t).forEach(e=>{e.modules.forEach(e=>n.addModule(e)),e.entryComponents.forEach(e=>n.addEntryComponent(e));const t=new Set;e.providers.forEach(e=>{const r=Jh(e.provider.token);let i=s.get(r);i||(i=new Set,s.set(r,i));const o=e.module.reference;!t.has(r)&&i.has(o)||(i.add(o),t.add(r),n.addProvider(e.provider,e.module))})}),t.forEach(e=>{e.exportedDirectives.forEach(e=>n.addExportedDirective(e)),e.exportedPipes.forEach(e=>n.addExportedPipe(e))}),e.forEach(e=>{e.exportedDirectives.forEach(e=>n.addDirective(e)),e.exportedPipes.forEach(e=>n.addPipe(e))}),n}_getIdentifierMetadata(e){return{reference:e=xh(e)}}isInjectable(e){return this._reflector.tryAnnotations(e).some(e=>Pc.isTypeOf(e))}getInjectableSummary(e){return{summaryKind:Xh.Injectable,type:this._getTypeMetadata(e,null,!1)}}getInjectableMetadata(e,t=null,n=!0){const s=this._loadSummary(e,Xh.Injectable),r=s?s.type:this._getTypeMetadata(e,t,n),i=this._reflector.annotations(e).filter(e=>Pc.isTypeOf(e));if(0===i.length)return null;const o=i[i.length-1];return{symbol:e,type:r,providedIn:o.providedIn,useValue:o.useValue,useClass:o.useClass,useExisting:o.useExisting,useFactory:o.useFactory,deps:o.deps}}_getTypeMetadata(e,t=null,n=!0){const s=this._getIdentifierMetadata(e);return{reference:s.reference,diDeps:this._getDependenciesMetadata(s.reference,t,n),lifecycleHooks:(r=this._reflector,i=s.reference,_f.filter(e=>wf(r,e,i)))};var r,i}_getFactoryMetadata(e,t=null){return{reference:e=xh(e),diDeps:this._getDependenciesMetadata(e,t)}}getPipeMetadata(e){const t=this._pipeCache.get(e);return t||this._reportError(yh(`Illegal state: getPipeMetadata can only be called after loadNgModuleDirectiveAndPipeMetadata for a module that declares it. Pipe ${wC(e)}.`),e),t||null}getPipeSummary(e){const t=this._loadSummary(e,Xh.Pipe);return t||this._reportError(yh(`Illegal state: Could not load the summary for pipe ${wC(e)}.`),e),t}getOrLoadPipeMetadata(e){let t=this._pipeCache.get(e);return t||(t=this._loadPipeMetadata(e)),t}_loadPipeMetadata(e){e=xh(e);const t=this._pipeResolver.resolve(e),n=new sd({type:this._getTypeMetadata(e),name:t.name,pure:!!t.pure});return this._pipeCache.set(e,n),this._summaryCache.set(e,n.toSummary()),n}_getDependenciesMetadata(e,t,n=!0){let s=!1;const r=(t||this._reflector.parameters(e)||[]).map(e=>{let t=!1,n=!1,r=!1,i=!1,o=!1,a=null;return Array.isArray(e)?e.forEach(e=>{Fc.isTypeOf(e)?n=!0:Ic.isTypeOf(e)?r=!0:Oc.isTypeOf(e)?i=!0:Mc.isTypeOf(e)?o=!0:mc.isTypeOf(e)?(t=!0,a=e.attributeName):dc.isTypeOf(e)?a=e.token:pc.isTypeOf(e)||e instanceof jh?a=e:yC(e)&&null==a&&(a=e)}):a=e,null==a?(s=!0,null):{isAttribute:t,isHost:n,isSelf:r,isSkipSelf:i,isOptional:o,token:this._getTokenMetadata(a)}});if(s){const t=r.map(e=>e?wC(e.token):"?").join(", "),s=`Can't resolve all parameters for ${wC(e)}: (${t}).`;n||this._config.strictInjectionParameters?this._reportError(yh(s),e):this._console.warn(`Warning: ${s} This will become an error in Angular v6.x`)}return r}_getTokenMetadata(e){let t;return t="string"==typeof(e=xh(e))?{value:e}:{identifier:{reference:e}}}_getProvidersMetadata(e,t,n,s=[],r){return e.forEach((i,o)=>{if(Array.isArray(i))this._getProvidersMetadata(i,t,n,s);else{let a=void 0;if((i=xh(i))&&"object"==typeof i&&i.hasOwnProperty("provide"))this._validateProvider(i),a=new ad(i.provide,i);else{if(!yC(i)){if(void 0===i)return void this._reportError(yh("Encountered undefined provider! Usually this means you have a circular dependencies. This might be caused by using 'barrel' index.ts files."));{const t=e.reduce((e,t,n)=>(n<o?e.push(`${wC(t)}`):n==o?e.push(`?${wC(t)}?`):n==o+1&&e.push("..."),e),[]).join(", ");return void this._reportError(yh(`Invalid ${n||"provider"} - only instances of Provider and Type are allowed, got: [${t}]`),r)}}a=new ad(i,{useClass:i})}a.token===this._reflector.resolveExternalReference($h.ANALYZE_FOR_ENTRY_COMPONENTS)?t.push(...this._getEntryComponentsFromProvider(a,r)):s.push(this.getProviderMetadata(a))}}),s}_validateProvider(e){e.hasOwnProperty("useClass")&&null==e.useClass&&this._reportError(yh(`Invalid provider for ${wC(e.provide)}. useClass cannot be ${e.useClass}.\n           Usually it happens when:\n           1. There's a circular dependency (might be caused by using index.ts (barrel) files).\n           2. Class was used before it was declared. Use forwardRef in this case.`))}_getEntryComponentsFromProvider(e,t){const n=[],s=[];return e.useFactory||e.useExisting||e.useClass?(this._reportError(yh("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports useValue!"),t),[]):e.multi?(r=e.useValue,i=s,dh(r,new _C,i),s.forEach(e=>{const t=this._getEntryComponentMetadata(e.reference,!1);t&&n.push(t)}),n):(this._reportError(yh("The ANALYZE_FOR_ENTRY_COMPONENTS token only supports 'multi = true'!"),t),[]);var r,i}_getEntryComponentMetadata(e,t=!0){const n=this.getNonNormalizedDirectiveMetadata(e);if(n&&n.metadata.isComponent)return{componentType:e,componentFactory:n.metadata.componentFactory};const s=this._loadSummary(e,Xh.Directive);if(s&&s.isComponent)return{componentType:e,componentFactory:s.componentFactory};if(t)throw yh(`${e.name} cannot be used as an entry component.`);return null}_getInjectableTypeMetadata(e,t=null){const n=this._loadSummary(e,Xh.Injectable);return n?n.type:this._getTypeMetadata(e,t)}getProviderMetadata(e){let t=void 0,n=null,s=null,r=this._getTokenMetadata(e.token);return e.useClass?(t=(n=this._getInjectableTypeMetadata(e.useClass,e.dependencies)).diDeps,e.token===e.useClass&&(r={identifier:n})):e.useFactory&&(t=(s=this._getFactoryMetadata(e.useFactory,e.dependencies)).diDeps),{token:r,useClass:n,useValue:e.useValue,useFactory:s,useExisting:e.useExisting?this._getTokenMetadata(e.useExisting):void 0,deps:t,multi:e.multi}}_getQueriesMetadata(e,t,n){const s=[];return Object.keys(e).forEach(r=>{const i=e[r];i.isViewQuery===t&&s.push(this._getQueryMetadata(i,r,n))}),s}_queryVarBindings(e){return e.split(/\s*,\s*/)}_getQueryMetadata(e,t,n){let s;return"string"==typeof e.selector?s=this._queryVarBindings(e.selector).map(e=>this._getTokenMetadata(e)):e.selector?s=[this._getTokenMetadata(e.selector)]:(this._reportError(yh(`Can't construct a query for the property "${t}" of "${wC(n)}" since the query selector wasn't defined.`),n),s=[]),{selectors:s,first:e.first,descendants:e.descendants,propertyName:t,read:e.read?this._getTokenMetadata(e.read):null}}_reportError(e,t,n){if(!this._errorCollector)throw e;this._errorCollector(e,t),n&&this._errorCollector(e,n)}}function vC(e){return(t=function e(t,n=[]){if(t)for(let s=0;s<t.length;s++){const r=xh(t[s]);Array.isArray(r)?e(r,n):n.push(r)}return n}(e))?Array.from(new Set(t)):[];var t}function yC(e){return e instanceof jh||e instanceof Rc}class _C extends fh{visitOther(e,t){t.push({reference:e})}}function wC(e){return e instanceof jh?`${e.name} in ${e.filePath}`:Sh(e)}class EC extends Pg{constructor(e,t){super(t,e)}}class CC{constructor(e,t){this.reflector=e,this.component=t,this.errors=[],this.viewQueries=function(e){let t=1;const n=new Map;e.viewQueries&&e.viewQueries.forEach(e=>DC(n,{meta:e,queryId:t++}));return n}(t),this.viewProviders=new Map,t.viewProviders.forEach(e=>{null==this.viewProviders.get(Jh(e.token))&&this.viewProviders.set(Jh(e.token),!0)})}}class bC{constructor(e,t,n,s,r,i,o,a,l){this.viewContext=e,this._parent=t,this._isViewRoot=n,this._directiveAsts=s,this._sourceSpan=l,this._transformedProviders=new Map,this._seenProviders=new Map,this._queriedTokens=new Map,this.transformedHasViewContainer=!1,this._attrs={},r.forEach(e=>this._attrs[e.name]=e.value);const c=s.map(e=>e.directive);if(this._allProviders=function(e,t,n){const s=new Map;return e.forEach(e=>{AC([{token:{identifier:e.type},useClass:e.type}],e.isComponent?Jw.Component:Jw.Directive,!0,t,n,s,!1)}),e.filter(e=>e.isComponent).concat(e.filter(e=>!e.isComponent)).forEach(e=>{AC(e.providers,Jw.PublicService,!1,t,n,s,!1),AC(e.viewProviders,Jw.PrivateService,!1,t,n,s,!1)}),s}(c,l,e.errors),this._contentQueries=function(e,t){let n=e;const s=new Map;return t.forEach((e,t)=>{e.queries&&e.queries.forEach(e=>DC(s,{meta:e,queryId:n++}))}),s}(a,c),Array.from(this._allProviders.values()).forEach(e=>{this._addQueryReadsTo(e.token,e.token,this._queriedTokens)}),o){const e=Bh(this.viewContext.reflector,$h.TemplateRef);this._addQueryReadsTo(e,e,this._queriedTokens)}i.forEach(e=>{let t=e.value||Bh(this.viewContext.reflector,$h.ElementRef);this._addQueryReadsTo({value:e.name},t,this._queriedTokens)}),this._queriedTokens.get(this.viewContext.reflector.resolveExternalReference($h.ViewContainerRef))&&(this.transformedHasViewContainer=!0),Array.from(this._allProviders.values()).forEach(e=>{(e.eager||this._queriedTokens.get(Jh(e.token)))&&this._getOrCreateLocalProvider(e.providerType,e.token,!0)})}afterElement(){Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.providerType,e.token,!1)})}get transformProviders(){const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}get transformedDirectiveAsts(){const e=this.transformProviders.map(e=>e.token.identifier),t=this._directiveAsts.slice();return t.sort((t,n)=>e.indexOf(t.directive.type)-e.indexOf(n.directive.type)),t}get queryMatches(){const e=[];return this._queriedTokens.forEach(t=>{e.push(...t)}),e}_addQueryReadsTo(e,t,n){this._getQueriesFor(e).forEach(e=>{const s=e.meta.read||t,r=Jh(s);let i=n.get(r);i||(i=[],n.set(r,i)),i.push({queryId:e.queryId,value:s})})}_getQueriesFor(e){const t=[];let n,s=this,r=0;for(;null!==s;)(n=s._contentQueries.get(Jh(e)))&&t.push(...n.filter(e=>e.meta.descendants||r<=1)),s._directiveAsts.length>0&&r++,s=s._parent;return(n=this.viewContext.viewQueries.get(Jh(e)))&&t.push(...n),t}_getOrCreateLocalProvider(e,t,n){const s=this._allProviders.get(Jh(t));if(!s||(e===Jw.Directive||e===Jw.PublicService)&&s.providerType===Jw.PrivateService||(e===Jw.PrivateService||e===Jw.PublicService)&&s.providerType===Jw.Builtin)return null;let r=this._transformedProviders.get(Jh(t));if(r)return r;if(null!=this._seenProviders.get(Jh(t)))return this.viewContext.errors.push(new EC(`Cannot instantiate cyclic dependency! ${Yh(t)}`,this._sourceSpan)),null;this._seenProviders.set(Jh(t),!0);const i=s.providers.map(e=>{let t=e.useValue,r=e.useExisting,i=void 0;if(null!=e.useExisting){const i=this._getDependency(s.providerType,{token:e.useExisting},n);null!=i.token?r=i.token:(r=null,t=i.value)}else if(e.useFactory){i=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(s.providerType,e,n))}else if(e.useClass){i=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(s.providerType,e,n))}return xC(e,{useExisting:r,useValue:t,deps:i})});return r=TC(s,{eager:n,providers:i}),this._transformedProviders.set(Jh(t),r),r}_getLocalDependency(e,t,n=!1){if(t.isAttribute){const e=this._attrs[t.token.value];return{isValue:!0,value:null==e?null:e}}if(null!=t.token){if(e===Jw.Directive||e===Jw.Component){if(Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.Renderer)||Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.ElementRef)||Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.ChangeDetectorRef)||Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.TemplateRef))return t;Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.ViewContainerRef)&&(this.transformedHasViewContainer=!0)}if(Jh(t.token)===this.viewContext.reflector.resolveExternalReference($h.Injector))return t;if(null!=this._getOrCreateLocalProvider(e,t.token,n))return t}return null}_getDependency(e,t,n=!1){let s=this,r=n,i=null;if(t.isSkipSelf||(i=this._getLocalDependency(e,t,n)),t.isSelf)!i&&t.isOptional&&(i={isValue:!0,value:null});else{for(;!i&&s._parent;){const e=s;s=s._parent,e._isViewRoot&&(r=!1),i=s._getLocalDependency(Jw.PublicService,t,r)}i||(i=!t.isHost||this.viewContext.component.isHost||this.viewContext.component.type.reference===Jh(t.token)||null!=this.viewContext.viewProviders.get(Jh(t.token))?t:t.isOptional?{isValue:!0,value:null}:null)}return i||this.viewContext.errors.push(new EC(`No provider for ${Yh(t.token)}`,this._sourceSpan)),i}}class SC{constructor(e,t,n,s){this.reflector=e,this._transformedProviders=new Map,this._seenProviders=new Map,this._errors=[],this._allProviders=new Map,t.transitiveModule.modules.forEach(e=>{AC([{token:{identifier:e},useClass:e}],Jw.PublicService,!0,s,this._errors,this._allProviders,!0)}),AC(t.transitiveModule.providers.map(e=>e.provider).concat(n),Jw.PublicService,!1,s,this._errors,this._allProviders,!1)}parse(){if(Array.from(this._allProviders.values()).forEach(e=>{this._getOrCreateLocalProvider(e.token,e.eager)}),this._errors.length>0){const e=this._errors.join("\n");throw new Error(`Provider parse errors:\n${e}`)}const e=[],t=[];return this._transformedProviders.forEach(n=>{n.eager?t.push(n):e.push(n)}),e.concat(t)}_getOrCreateLocalProvider(e,t){const n=this._allProviders.get(Jh(e));if(!n)return null;let s=this._transformedProviders.get(Jh(e));if(s)return s;if(null!=this._seenProviders.get(Jh(e)))return this._errors.push(new EC(`Cannot instantiate cyclic dependency! ${Yh(e)}`,n.sourceSpan)),null;this._seenProviders.set(Jh(e),!0);const r=n.providers.map(e=>{let s=e.useValue,r=e.useExisting,i=void 0;if(null!=e.useExisting){const i=this._getDependency({token:e.useExisting},t,n.sourceSpan);null!=i.token?r=i.token:(r=null,s=i.value)}else if(e.useFactory){i=(e.deps||e.useFactory.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}else if(e.useClass){i=(e.deps||e.useClass.diDeps).map(e=>this._getDependency(e,t,n.sourceSpan))}return xC(e,{useExisting:r,useValue:s,deps:i})});return s=TC(n,{eager:t,providers:r}),this._transformedProviders.set(Jh(e),s),s}_getDependency(e,t=!1,n){return e.isSkipSelf||null==e.token||Jh(e.token)===this.reflector.resolveExternalReference($h.Injector)||Jh(e.token)===this.reflector.resolveExternalReference($h.ComponentFactoryResolver)||this._getOrCreateLocalProvider(e.token,t),e}}function xC(e,{useExisting:t,useValue:n,deps:s}){return{token:e.token,useClass:e.useClass,useExisting:t,useFactory:e.useFactory,useValue:n,deps:s,multi:e.multi}}function TC(e,{eager:t,providers:n}){return new Yw(e.token,e.multiProvider,e.eager||t,n,e.providerType,e.lifecycleHooks,e.sourceSpan,e.isModule)}function AC(e,t,n,s,r,i,o){e.forEach(e=>{let a=i.get(Jh(e.token));if(null!=a&&!!a.multiProvider!=!!e.multi&&r.push(new EC(`Mixing multi and non multi provider is not possible for token ${Yh(a.token)}`,s)),a)e.multi||(a.providers.length=0),a.providers.push(e);else{const r=e.token.identifier&&e.token.identifier.lifecycleHooks?e.token.identifier.lifecycleHooks:[],l=!(e.useClass||e.useExisting||e.useFactory);a=new Yw(e.token,!!e.multi,n||l,[e],t,r,s,o),i.set(Jh(e.token),a)}})}function DC(e,t){t.meta.selectors.forEach(n=>{let s=e.get(Jh(n));s||(s=[],e.set(Jh(n),s)),s.push(t)})}function PC(e,t){let n=0;t.eager||(n|=4096),t.providerType===Jw.PrivateService&&(n|=8192),t.isModule&&(n|=1073741824),t.lifecycleHooks.forEach(e=>{e!==ef.OnDestroy&&t.providerType!==Jw.Directive&&t.providerType!==Jw.Component||(n|=IC(e))});const{providerExpr:s,flags:r,depsExpr:i}=t.multiProvider?function(e,t,n){const s=[],r=[],i=n.map((t,n)=>{let s;if(t.useClass){const r=o(n,t.deps||t.useClass.diDeps);s=e.importExpr(t.useClass.reference).instantiate(r)}else if(t.useFactory){const r=o(n,t.deps||t.useFactory.diDeps);s=e.importExpr(t.useFactory.reference).callFn(r)}else if(t.useExisting){const e=o(n,[{token:t.useExisting}]);s=e[0]}else s=uC(e,t.useValue);return s});return{providerExpr:ih(r,[new Lu(sh(i))],Zc),flags:1024|t,depsExpr:sh(s)};function o(t,n){return n.map((n,i)=>{const o=`p${t}_${i}`;return r.push(new Eu(o,Qc)),s.push(MC(e,n)),Ju(o)})}}(e,n,t.providers):kC(e,n,t.providerType,t.providers[0]);return{providerExpr:s,flags:r,depsExpr:i,tokenExpr:NC(e,t.token)}}function kC(e,t,n,s){let r,i;return n===Jw.Directive||n===Jw.Component?(r=e.importExpr(s.useClass.reference),t|=16384,i=s.deps||s.useClass.diDeps):s.useClass?(r=e.importExpr(s.useClass.reference),t|=512,i=s.deps||s.useClass.diDeps):s.useFactory?(r=e.importExpr(s.useFactory.reference),t|=1024,i=s.deps||s.useFactory.diDeps):s.useExisting?(r=ku,t|=2048,i=[{token:s.useExisting}]):(r=uC(e,s.useValue),t|=256,i=[]),{providerExpr:r,flags:t,depsExpr:sh(i.map(t=>MC(e,t)))}}function NC(e,t){return t.identifier?e.importExpr(t.identifier.reference):ah(t.value)}function MC(e,t){const n=t.isValue?uC(e,t.value):NC(e,t.token);let s=0;return t.isSkipSelf&&(s|=1),t.isOptional&&(s|=2),t.isSelf&&(s|=4),t.isValue&&(s|=8),0===s?n:sh([ah(s),n])}function IC(e){let t=0;switch(e){case ef.AfterContentChecked:t=2097152;break;case ef.AfterContentInit:t=1048576;break;case ef.AfterViewChecked:t=8388608;break;case ef.AfterViewInit:t=4194304;break;case ef.DoCheck:t=262144;break;case ef.OnChanges:t=524288;break;case ef.OnDestroy:t=131072;break;case ef.OnInit:t=65536}return t}function OC(e,t,n,s){const r=s.map(e=>t.importExpr(e.componentFactory)),i=Bh(e,$h.ComponentFactoryResolver),o={diDeps:[{isValue:!0,value:sh(r)},{token:i,isSkipSelf:!0,isOptional:!0},{token:Bh(e,$h.NgModuleRef)}],lifecycleHooks:[],reference:e.resolveExternalReference($h.CodegenComponentFactoryResolver)},{providerExpr:a,flags:l,depsExpr:c}=kC(t,n,Jw.PrivateService,{token:i,multi:!1,useClass:o});return{providerExpr:a,flags:l,depsExpr:c,tokenExpr:NC(t,i)}}class FC{constructor(e){this.ngModuleFactoryVar=e}}const RC=Ju("_l");class LC{constructor(e){this.reflector=e}compile(e,t,n){const s=kg("NgModule",t.type),r=t.transitiveModule.entryComponents,i=t.bootstrapComponents,o=new SC(this.reflector,t,n,s),a=[OC(this.reflector,e,0,r)].concat(o.parse().map(t=>PC(e,t))).map(({providerExpr:e,depsExpr:t,flags:n,tokenExpr:s})=>eh($h.moduleProviderDef).callFn([ah(n),s,e,t])),l=eh($h.moduleDef).callFn([sh(a)]),c=ih([new Eu(RC.name)],[new Lu(l)],Zc),u=`${Wh(t.type)}NgFactory`;if(this._createNgModuleFactory(e,t.type.reference,eh($h.createModuleFactory).callFn([e.importExpr(t.type.reference),sh(i.map(t=>e.importExpr(t.reference))),c])),t.id){const n="string"==typeof t.id?ah(t.id):e.importExpr(t.id),s=eh($h.RegisterModuleFactoryFn).callFn([n,Ju(u)]).toStmt();e.statements.push(s)}return new FC(u)}createStub(e,t){this._createNgModuleFactory(e,t,ku)}_createNgModuleFactory(e,t,n){const s=Ju(`${Wh({reference:t})}NgFactory`).set(n).toDeclStmt(th($h.NgModuleFactory,[nh(e.importExpr(t))],[Uc.Const]),[Mu.Final,Mu.Exported]);e.statements.push(s)}}class $C{constructor(e){this._reflector=e}isNgModule(e){return this._reflector.annotations(e).some(Dc.isTypeOf)}resolve(e,t=!0){const n=cE(this._reflector.annotations(e),Dc.isTypeOf);if(n)return n;if(t)throw new Error(`No NgModule metadata found for '${Sh(e)}'.`);return null}}class VC extends hm{constructor(e,t){super(!1),this.referenceFilter=e,this.importFilter=t,this.typeExpression=0,this.importsWithPrefixes=new Map,this.reexports=new Map}visitType(e,t,n="any"){e?(this.typeExpression++,e.visitType(this,t),this.typeExpression--):t.print(null,n)}visitLiteralExpr(e,t){const n=e.value;return null==n&&e.type!=Zc?(t.print(e,`(${n} as any)`),null):super.visitLiteralExpr(e,t)}visitLiteralArrayExpr(e,t){0===e.entries.length&&t.print(e,"(");const n=super.visitLiteralArrayExpr(e,t);return 0===e.entries.length&&t.print(e," as any[])"),n}visitExternalExpr(e,t){return this._visitIdentifier(e.value,e.typeParams,t),null}visitAssertNotNullExpr(e,t){const n=super.visitAssertNotNullExpr(e,t);return t.print(e,"!"),n}visitDeclareVarStmt(e,t){if(e.hasModifier(Mu.Exported)&&e.value instanceof gu&&!e.type){const{name:t,moduleName:n}=e.value.value;if(n){let s=this.reexports.get(n);return s||(s=[],this.reexports.set(n,s)),s.push({name:t,as:e.name}),null}}return e.hasModifier(Mu.Exported)&&t.print(e,"export "),e.hasModifier(Mu.Final)?t.print(e,"const"):t.print(e,"var"),t.print(e,` ${e.name}`),this._printColonType(e.type,t),e.value&&(t.print(e," = "),e.value.visitExpression(this,t)),t.println(e,";"),null}visitWrappedNodeExpr(e,t){throw new Error("Cannot visit a WrappedNodeExpr when outputting Typescript.")}visitCastExpr(e,t){return t.print(e,"(<"),e.type.visitType(this,t),t.print(e,">"),e.value.visitExpression(this,t),t.print(e,")"),null}visitInstantiateExpr(e,t){return t.print(e,"new "),this.typeExpression++,e.classExpr.visitExpression(this,t),this.typeExpression--,t.print(e,"("),this.visitAllExpressions(e.args,t,","),t.print(e,")"),null}visitDeclareClassStmt(e,t){return t.pushClass(e),e.hasModifier(Mu.Exported)&&t.print(e,"export "),t.print(e,`class ${e.name}`),null!=e.parent&&(t.print(e," extends "),this.typeExpression++,e.parent.visitExpression(this,t),this.typeExpression--),t.println(e," {"),t.incIndent(),e.fields.forEach(e=>this._visitClassField(e,t)),null!=e.constructorMethod&&this._visitClassConstructor(e,t),e.getters.forEach(e=>this._visitClassGetter(e,t)),e.methods.forEach(e=>this._visitClassMethod(e,t)),t.decIndent(),t.println(e,"}"),t.popClass(),null}_visitClassField(e,t){e.hasModifier(Mu.Private)&&t.print(null,"/*private*/ "),e.hasModifier(Mu.Static)&&t.print(null,"static "),t.print(null,e.name),this._printColonType(e.type,t),e.initializer&&(t.print(null," = "),e.initializer.visitExpression(this,t)),t.println(null,";")}_visitClassGetter(e,t){e.hasModifier(Mu.Private)&&t.print(null,"private "),t.print(null,`get ${e.name}()`),this._printColonType(e.type,t),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}_visitClassConstructor(e,t){t.print(e,"constructor("),this._visitParams(e.constructorMethod.params,t),t.println(e,") {"),t.incIndent(),this.visitAllStatements(e.constructorMethod.body,t),t.decIndent(),t.println(e,"}")}_visitClassMethod(e,t){e.hasModifier(Mu.Private)&&t.print(null,"private "),t.print(null,`${e.name}(`),this._visitParams(e.params,t),t.print(null,")"),this._printColonType(e.type,t,"void"),t.println(null," {"),t.incIndent(),this.visitAllStatements(e.body,t),t.decIndent(),t.println(null,"}")}visitFunctionExpr(e,t){return e.name&&(t.print(e,"function "),t.print(e,e.name)),t.print(e,"("),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),e.name||t.print(e," => "),t.println(e,"{"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.print(e,"}"),null}visitDeclareFunctionStmt(e,t){return e.hasModifier(Mu.Exported)&&t.print(e,"export "),t.print(e,`function ${e.name}(`),this._visitParams(e.params,t),t.print(e,")"),this._printColonType(e.type,t,"void"),t.println(e," {"),t.incIndent(),this.visitAllStatements(e.statements,t),t.decIndent(),t.println(e,"}"),null}visitTryCatchStmt(e,t){t.println(e,"try {"),t.incIndent(),this.visitAllStatements(e.bodyStmts,t),t.decIndent(),t.println(e,`} catch (${am.name}) {`),t.incIndent();const n=[lm.set(am.prop("stack",null)).toDeclStmt(null,[Mu.Final])].concat(e.catchStmts);return this.visitAllStatements(n,t),t.decIndent(),t.println(e,"}"),null}visitBuiltinType(e,t){let n;switch(e.name){case Hc.Bool:n="boolean";break;case Hc.Dynamic:n="any";break;case Hc.Function:n="Function";break;case Hc.Number:case Hc.Int:n="number";break;case Hc.String:n="string";break;case Hc.None:n="never";break;default:throw new Error(`Unsupported builtin type ${e.name}`)}return t.print(null,n),null}visitExpressionType(e,t){return e.value.visitExpression(this,t),null!==e.typeParams&&(t.print(null,"<"),this.visitAllObjects(e=>this.visitType(e,t),e.typeParams,t,","),t.print(null,">")),null}visitArrayType(e,t){return this.visitType(e.of,t),t.print(null,"[]"),null}visitMapType(e,t){return t.print(null,"{[key: string]:"),this.visitType(e.valueType,t),t.print(null,"}"),null}getBuiltinMethodName(e){let t;switch(e){case nu.ConcatArray:t="concat";break;case nu.SubscribeObservable:t="subscribe";break;case nu.Bind:t="bind";break;default:throw new Error(`Unknown builtin method: ${e}`)}return t}_visitParams(e,t){this.visitAllObjects(e=>{t.print(null,e.name),this._printColonType(e.type,t)},e,t,",")}_visitIdentifier(e,t,n){const{name:s,moduleName:r}=e;if(this.referenceFilter&&this.referenceFilter(e))n.print(null,"(null as any)");else{if(r&&(!this.importFilter||!this.importFilter(e))){let e=this.importsWithPrefixes.get(r);null==e&&(e=`i${this.importsWithPrefixes.size}`,this.importsWithPrefixes.set(r,e)),n.print(null,`${e}.`)}if(n.print(null,s),this.typeExpression>0){(t||[]).length>0&&(n.print(null,"<"),this.visitAllObjects(e=>e.visitType(this,n),t,n,","),n.print(null,">"))}}}_printColonType(e,t,n){e!==Zc&&(t.print(null,":"),this.visitType(e,t,n))}}class BC{constructor(e){this._reflector=e}isPipe(e){const t=this._reflector.annotations(xh(e));return t&&t.some(bc.isTypeOf)}resolve(e,t=!0){const n=this._reflector.annotations(xh(e));if(n){const e=cE(n,bc.isTypeOf);if(e)return e}if(t)throw new Error(`No Pipe decorator found on ${Sh(e)}`);return null}}const jC=["zero","one","two","few","many","other"];function UC(e){const t=new zC;return new HC(Hv(t,e),t.isExpanded,t.errors)}class HC{constructor(e,t,n){this.nodes=e,this.expanded=t,this.errors=n}}class qC extends Pg{constructor(e,t){super(e,t)}}class zC{constructor(){this.isExpanded=!1,this.errors=[]}visitElement(e,t){return new jv(e.name,e.attrs,Hv(this,e.children),e.sourceSpan,e.startSourceSpan,e.endSourceSpan)}visitAttribute(e,t){return e}visitText(e,t){return e}visitComment(e,t){return e}visitExpansion(e,t){return this.isExpanded=!0,"plural"==e.type?function(e,t){const n=e.cases.map(e=>{-1!=jC.indexOf(e.value)||e.value.match(/^=\d+$/)||t.push(new qC(e.valueSourceSpan,`Plural cases should be "=<number>" or one of ${jC.join(", ")}`));const n=UC(e.expression);return t.push(...n.errors),new jv("ng-template",[new Bv("ngPluralCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),s=new Bv("[ngPlural]",e.switchValue,e.switchValueSourceSpan);return new jv("ng-container",[s],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors):function(e,t){const n=e.cases.map(e=>{const n=UC(e.expression);return t.push(...n.errors),"other"===e.value?new jv("ng-template",[new Bv("ngSwitchDefault","",e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan):new jv("ng-template",[new Bv("ngSwitchCase",`${e.value}`,e.valueSourceSpan)],n.nodes,e.sourceSpan,e.sourceSpan,e.sourceSpan)}),s=new Bv("[ngSwitch]",e.switchValue,e.switchValueSourceSpan);return new jv("ng-container",[s],n,e.sourceSpan,e.sourceSpan,e.sourceSpan)}(e,this.errors)}visitExpansionCase(e,t){throw new Error("Should not be reached")}}const WC=/^(?:(?:(?:(bind-)|(let-)|(ref-|#)|(on-)|(bindon-)|(@))(.+))|\[\(([^\)]+)\)\]|\[([^\]]+)\]|\(([^\)]+)\))$/,GC=1,KC=2,QC=3,ZC=4,XC=5,YC=6,JC=7,eb=8,tb=9,nb=10,sb="*",rb="class";let ib;function ob(){return ib||(ib=lc.parse("*")[0]),ib}class ab extends Pg{constructor(e,t,n){super(t,e,n)}}class lb{constructor(e,t,n){this.templateAst=e,this.usedPipes=t,this.errors=n}}class cb{constructor(e,t,n,s,r,i,o){this._config=e,this._reflector=t,this._exprParser=n,this._schemaRegistry=s,this._htmlParser=r,this._console=i,this.transforms=o}get expressionParser(){return this._exprParser}parse(e,t,n,s,r,i,o){const a=this.tryParse(e,t,n,s,r,i,o),l=a.errors.filter(e=>e.level===Dg.WARNING),c=a.errors.filter(e=>e.level===Dg.ERROR);if(l.length>0&&this._console.warn(`Template parse warnings:\n${l.join("\n")}`),c.length>0){throw yh(`Template parse errors:\n${c.join("\n")}`,c)}return{template:a.templateAst,pipes:a.usedPipes}}tryParse(e,t,n,s,r,i,o){let a="string"==typeof t?this._htmlParser.parse(t,i,!0,this.getInterpolationConfig(e)):t;return o||(a=yy(a)),this.tryParseHtml(this.expandHtml(a),e,n,s,r)}tryParseHtml(e,t,n,s,r){let i;const o=e.errors,a=[];if(e.rootNodes.length>0){const l=vb(n),c=vb(s),u=new CC(this._reflector,t);let h=void 0;t.template&&t.template.interpolation&&(h={start:t.template.interpolation[0],end:t.template.interpolation[1]});const d=new Fy(this._exprParser,h,this._schemaRegistry,c,o),p=new ub(this._reflector,this._config,u,l,d,this._schemaRegistry,r,o);i=Hv(p,e.rootNodes,mb),o.push(...u.errors),a.push(...d.getUsedPipes())}else i=[];return this._assertNoReferenceDuplicationOnTemplate(i,o),o.length>0?new lb(i,a,o):(this.transforms&&this.transforms.forEach(e=>{i=tE(e,i)}),new lb(i,a,o))}expandHtml(e,t=!1){const n=e.errors;if(0==n.length||t){const t=UC(e.rootNodes);n.push(...t.errors),e=new oy(t.nodes,n)}return e}getInterpolationConfig(e){if(e.template)return Pv.fromArray(e.template.interpolation)}_assertNoReferenceDuplicationOnTemplate(e,t){const n=[];e.filter(e=>!!e.references).forEach(e=>e.references.forEach(e=>{const s=e.name;if(n.indexOf(s)<0)n.push(s);else{const n=new ab(`Reference "#${s}" is defined several times`,e.sourceSpan,Dg.ERROR);t.push(n)}}))}}class ub{constructor(e,t,n,s,r,i,o,a){this.reflector=e,this.config=t,this.providerViewContext=n,this._bindingParser=r,this._schemaRegistry=i,this._schemas=o,this._targetErrors=a,this.selectorMatcher=new cc,this.directivesIndex=new Map,this.ngContentCount=0,this.contentQueryStartId=n.component.viewQueries.length+1,s.forEach((e,t)=>{const n=lc.parse(e.selector);this.selectorMatcher.addSelectables(n,e),this.directivesIndex.set(e,t)})}visitExpansion(e,t){return null}visitExpansionCase(e,t){return null}visitText(e,t){const n=t.findNgContentIndex(ob()),s=gy(e.value),r=this._bindingParser.parseInterpolation(s,e.sourceSpan);return r?new jw(r,n,e.sourceSpan):new Bw(s,n,e.sourceSpan)}visitAttribute(e,t){return new Uw(e.name,e.value,e.sourceSpan)}visitComment(e,t){return null}visitElement(e,t){const n=this.contentQueryStartId,s=e.name,r=h_(e);if(r.type===d_.SCRIPT||r.type===d_.STYLE)return null;if(r.type===d_.STYLESHEET&&Yy(r.hrefAttr))return null;const i=[],o=[],a=[],l=[],c=[],u=[],h=[],d=[];let p=!1;const m=[],f=Yl(e.name);e.attrs.forEach(e=>{const t=this._parseAttr(f,e,i,o,c,a,l);let n,s;l.push(...[].map(e=>Gw.fromParsedVariable(e)));const r=this._normalizeAttributeName(e.name);r.startsWith(sb)&&(n=e.value,s=r.substring(sb.length));const g=null!=n;if(g){p&&this._reportError("Can't have multiple template bindings on one element. Use only one attribute prefixed with *",e.sourceSpan),p=!0;const t=[];this._bindingParser.parseInlineTemplateBinding(s,n,e.sourceSpan,h,u,t),d.push(...t.map(e=>Gw.fromParsedVariable(e)))}t||g||(m.push(this.visitAttribute(e,null)),i.push([e.name,e.value]))});const g=pb(s,i),{directives:v,matchElement:y}=this._parseDirectives(this.selectorMatcher,g),_=[],w=new Set,E=this._createDirectiveAsts(f,e.name,v,o,a,e.sourceSpan,_,w),C=this._createElementPropertyAsts(e.name,o,w),b=t.isTemplateElement||p,S=new bC(this.providerViewContext,t.providerContext,b,E,m,_,f,n,e.sourceSpan),x=Hv(r.nonBindable?fb:this,e.children,db.create(f,E,f?t.providerContext:S));S.afterElement();const T=""!=r.projectAs?lc.parse(r.projectAs)[0]:g,A=t.findNgContentIndex(T);let D;if(r.type===d_.NG_CONTENT)e.children&&!e.children.every(gb)&&this._reportError("<ng-content> element cannot have content.",e.sourceSpan),D=new eE(this.ngContentCount++,p?null:A,e.sourceSpan);else if(f)this._assertAllEventsPublishedByDirectives(E,c),this._assertNoComponentsNorElementBindingsOnTemplate(E,C,e.sourceSpan),D=new Qw(m,c,_,l,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,x,p?null:A,e.sourceSpan);else{this._assertElementExists(y,e),this._assertOnlyOneComponent(E,e.sourceSpan);const n=p?null:t.findNgContentIndex(T);D=new Kw(s,m,C,c,_,S.transformedDirectiveAsts,S.transformProviders,S.transformedHasViewContainer,S.queryMatches,x,p?null:n,e.sourceSpan,e.endSourceSpan||null)}if(p){const n=this.contentQueryStartId,r=pb("ng-template",h),{directives:i}=this._parseDirectives(this.selectorMatcher,r),o=new Set,a=this._createDirectiveAsts(!0,s,i,u,[],e.sourceSpan,[],o),l=this._createElementPropertyAsts(s,u,o);this._assertNoComponentsNorElementBindingsOnTemplate(a,l,e.sourceSpan);const c=new bC(this.providerViewContext,t.providerContext,t.isTemplateElement,a,[],[],!0,n,e.sourceSpan);c.afterElement(),D=new Qw([],[],[],d,c.transformedDirectiveAsts,c.transformProviders,c.transformedHasViewContainer,c.queryMatches,[D],A,e.sourceSpan)}return D}_parseAttr(e,t,n,s,r,i,o){const a=this._normalizeAttributeName(t.name),l=t.value,c=t.sourceSpan,u=[],h=a.match(WC);let d=!1;if(null!==h)if(d=!0,null!=h[GC])this._bindingParser.parsePropertyBinding(h[JC],l,!1,c,n,s);else if(h[KC])if(e){const e=h[JC];this._parseVariable(e,l,c,o)}else this._reportError('"let-" is only supported on ng-template elements.',c);else if(h[QC]){const e=h[JC];this._parseReference(e,l,c,i)}else h[ZC]?this._bindingParser.parseEvent(h[JC],l,c,n,u):h[XC]?(this._bindingParser.parsePropertyBinding(h[JC],l,!1,c,n,s),this._parseAssignmentEvent(h[JC],l,c,n,u)):h[YC]?this._bindingParser.parseLiteralAttr(a,l,c,n,s):h[eb]?(this._bindingParser.parsePropertyBinding(h[eb],l,!1,c,n,s),this._parseAssignmentEvent(h[eb],l,c,n,u)):h[tb]?this._bindingParser.parsePropertyBinding(h[tb],l,!1,c,n,s):h[nb]&&this._bindingParser.parseEvent(h[nb],l,c,n,u);else d=this._bindingParser.parsePropertyInterpolation(a,l,c,n,s);return d||this._bindingParser.parseLiteralAttr(a,l,c,n,s),r.push(...u.map(e=>zw.fromParsedEvent(e))),d}_normalizeAttributeName(e){return/^data-/i.test(e)?e.substring(5):e}_parseVariable(e,t,n,s){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in variable names',n),s.push(new Gw(e,t,n))}_parseReference(e,t,n,s){e.indexOf("-")>-1&&this._reportError('"-" is not allowed in reference names',n),s.push(new hb(e,t,n))}_parseAssignmentEvent(e,t,n,s,r){this._bindingParser.parseEvent(`${e}Change`,`${t}=$event`,n,s,r)}_parseDirectives(e,t){const n=new Array(this.directivesIndex.size);let s=!1;return e.match(t,(e,t)=>{n[this.directivesIndex.get(t)]=t,s=s||e.hasElementSelector()}),{directives:n.filter(e=>!!e),matchElement:s}}_createDirectiveAsts(e,t,n,s,r,i,o,a){const l=new Set;let c=null;const u=n.map(e=>{const n=new Ag(i.start,i.end,`Directive ${Wh(e.type)}`);e.isComponent&&(c=e);const u=[];let h=this._bindingParser.createDirectiveHostPropertyAsts(e,t,n).map(e=>qw.fromBoundProperty(e));h=this._checkPropertiesInSchema(t,h);const d=this._bindingParser.createDirectiveHostEventAsts(e,n);this._createDirectivePropertyAsts(e.inputs,s,u,a),r.forEach(t=>{(0===t.value.length&&e.isComponent||t.isReferenceToDirective(e))&&(o.push(new Ww(t.name,Vh(e.type.reference),t.value,t.sourceSpan)),l.add(t.name))});const p=d.map(e=>zw.fromParsedEvent(e)),m=this.contentQueryStartId;return this.contentQueryStartId+=e.queries.length,new Xw(e,u,h,p,m,n)});return r.forEach(t=>{if(t.value.length>0)l.has(t.name)||this._reportError(`There is no directive with "exportAs" set to "${t.value}"`,t.sourceSpan);else if(!c){let n=null;e&&(n=Bh(this.reflector,$h.TemplateRef)),o.push(new Ww(t.name,n,t.value,t.sourceSpan))}}),u}_createDirectivePropertyAsts(e,t,n,s){if(e){const r=new Map;t.forEach(e=>{const t=r.get(e.name);t&&!t.isLiteral||r.set(e.name,e)}),Object.keys(e).forEach(t=>{const i=e[t],o=r.get(i);o&&(s.add(o.name),yb(o.expression)||n.push(new Zw(t,o.name,o.expression,o.sourceSpan)))})}}_createElementPropertyAsts(e,t,n){const s=[];return t.forEach(t=>{if(!t.isLiteral&&!n.has(t.name)){const n=this._bindingParser.createBoundElementProperty(e,t);s.push(qw.fromBoundProperty(n))}}),this._checkPropertiesInSchema(e,s)}_findComponentDirectives(e){return e.filter(e=>e.directive.isComponent)}_findComponentDirectiveNames(e){return this._findComponentDirectives(e).map(e=>Wh(e.directive.type))}_assertOnlyOneComponent(e,t){const n=this._findComponentDirectiveNames(e);n.length>1&&this._reportError("More than one component matched on this element.\nMake sure that only one component's selector can match a given element.\n"+`Conflicting components: ${n.join(",")}`,t)}_assertElementExists(e,t){const n=t.name.replace(/^:xhtml:/,"");if(!e&&!this._schemaRegistry.hasElement(n,this._schemas)){let e=`'${n}' is not a known element:\n`;e+=`1. If '${n}' is an Angular component, then verify that it is part of this module.\n`,n.indexOf("-")>-1?e+=`2. If '${n}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`:e+="2. To allow any element add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.",this._reportError(e,t.sourceSpan)}}_assertNoComponentsNorElementBindingsOnTemplate(e,t,n){const s=this._findComponentDirectiveNames(e);s.length>0&&this._reportError(`Components on an embedded template: ${s.join(",")}`,n),t.forEach(e=>{this._reportError(`Property binding ${e.name} not used by any directive on an embedded template. Make sure that the property name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,n)})}_assertAllEventsPublishedByDirectives(e,t){const n=new Set;e.forEach(e=>{Object.keys(e.directive.outputs).forEach(t=>{const s=e.directive.outputs[t];n.add(s)})}),t.forEach(e=>{null==e.target&&n.has(e.name)||this._reportError(`Event binding ${e.fullName} not emitted by any directive on an embedded template. Make sure that the event name is spelled correctly and all directives are listed in the "@NgModule.declarations".`,e.sourceSpan)})}_checkPropertiesInSchema(e,t){return t.filter(t=>{if(0===t.type&&!this._schemaRegistry.hasProperty(e,t.name,this._schemas)){let n=`Can't bind to '${t.name}' since it isn't a known property of '${e}'.`;e.startsWith("ng-")?n+=`\n1. If '${t.name}' is an Angular directive, then add 'CommonModule' to the '@NgModule.imports' of this component.`+"\n2. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component.":e.indexOf("-")>-1&&(n+=`\n1. If '${e}' is an Angular component and it has '${t.name}' input, then verify that it is part of this module.`+`\n2. If '${e}' is a Web Component then add 'CUSTOM_ELEMENTS_SCHEMA' to the '@NgModule.schemas' of this component to suppress this message.`+"\n3. To allow any property add 'NO_ERRORS_SCHEMA' to the '@NgModule.schemas' of this component."),this._reportError(n,t.sourceSpan)}return!yb(t.value)})}_reportError(e,t,n=Dg.ERROR){this._targetErrors.push(new Pg(t,e,n))}}class hb{constructor(e,t,n){this.name=e,this.value=t,this.sourceSpan=n}isReferenceToDirective(e){return-1!==(t=e.exportAs,t?t.split(",").map(e=>e.trim()):[]).indexOf(this.value);var t}}class db{constructor(e,t,n,s){this.isTemplateElement=e,this._ngContentIndexMatcher=t,this._wildcardNgContentIndex=n,this.providerContext=s}static create(e,t,n){const s=new cc;let r=null;const i=t.find(e=>e.directive.isComponent);if(i){const e=i.directive.template.ngContentSelectors;for(let t=0;t<e.length;t++){"*"===e[t]?r=t:s.addSelectables(lc.parse(e[t]),t)}}return new db(e,s,r,n)}findNgContentIndex(e){const t=[];return this._ngContentIndexMatcher.match(e,(e,n)=>{t.push(n)}),t.sort(),null!=this._wildcardNgContentIndex&&t.push(this._wildcardNgContentIndex),t.length>0?t[0]:null}}function pb(e,t){const n=new lc,s=Ql(e)[1];n.setElement(s);for(let r=0;r<t.length;r++){const e=t[r][0],s=Ql(e)[1],i=t[r][1];if(n.addAttribute(s,i),e.toLowerCase()==rb){i.trim().split(/\s+/g).forEach(e=>n.addClassName(e))}}return n}const mb=new db(!0,new cc,null,null),fb=new class{visitElement(e,t){const n=h_(e);if(n.type===d_.SCRIPT||n.type===d_.STYLE||n.type===d_.STYLESHEET)return null;const s=e.attrs.map(e=>[e.name,e.value]),r=pb(e.name,s),i=t.findNgContentIndex(r),o=Hv(this,e.children,mb);return new Kw(e.name,Hv(this,e.attrs),[],[],[],[],[],!1,[],o,i,e.sourceSpan,e.endSourceSpan)}visitComment(e,t){return null}visitAttribute(e,t){return new Uw(e.name,e.value,e.sourceSpan)}visitText(e,t){const n=t.findNgContentIndex(ob());return new Bw(e.value,n,e.sourceSpan)}visitExpansion(e,t){return e}visitExpansionCase(e,t){return e}};function gb(e){return e instanceof Lv&&0==e.value.trim().length}function vb(e){const t=new Map;return e.forEach(e=>{t.get(e.type.reference)||t.set(e.type.reference,e)}),Array.from(t.values())}function yb(e){return e instanceof zm&&(e=e.ast),e instanceof xm}const _b="_any";new class{getLocal(e){return e===rf.event.name?Ju(_b):null}};const wb="class",Eb="style",Cb="$implicit";class bb{constructor(e,t){this.viewClassVar=e,this.rendererTypeVar=t}}class Sb{constructor(e){this._reflector=e}compileComponent(e,t,n,s,r){let i=0;const o=function e(t,n=new Map){t.forEach(t=>{const s=new Set,r=new Set;let i=void 0;t instanceof Kw?(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>s.add(e)),t.dynamicQueryIds.forEach(e=>r.add(e))}),i=t.queryMatches):t instanceof Qw&&(e(t.children,n),t.children.forEach(e=>{const t=n.get(e);t.staticQueryIds.forEach(e=>r.add(e)),t.dynamicQueryIds.forEach(e=>r.add(e))}),i=t.queryMatches),i&&i.forEach(e=>s.add(e.queryId)),r.forEach(e=>s.delete(e)),n.set(t,{staticQueryIds:s,dynamicQueryIds:r})});return n}(n);let a=void 0;if(!t.isHost){const n=t.template,r=[];n.animations&&n.animations.length&&r.push(new Au("animation",uC(e,n.animations),!0));const i=Ju(Qh(t.type.reference));a=i.name,e.statements.push(i.set(eh($h.createRendererType2).callFn([new Du([new Au("encapsulation",ah(n.encapsulation),!1),new Au("styles",s,!1),new Au("data",new Du(r),!1)])])).toDeclStmt(th($h.RendererType2),[Mu.Final,Mu.Exported]))}const l=n=>{const s=i++;return new Nb(this._reflector,e,n,t,s,r,o,l)},c=l(null);return c.visitAll([],n),e.statements.push(...c.build()),new bb(c.viewName,a)}}const xb=Ju("_l"),Tb=Ju("_v"),Ab=Ju("_ck"),Db=Ju("_co"),Pb=Ju("en"),kb=Ju("ad");class Nb{constructor(e,t,n,s,r,i,o,a){this.reflector=e,this.outputCtx=t,this.parent=n,this.component=s,this.embeddedViewIndex=r,this.usedPipes=i,this.staticQueryIds=o,this.viewBuilderFactory=a,this.nodes=[],this.purePipeNodeIndices=Object.create(null),this.refNodeIndices=Object.create(null),this.variables=[],this.children=[],this.compType=this.embeddedViewIndex>0?Qc:nh(t.importExpr(this.component.type.reference)),this.viewName=Kh(this.component.type.reference,this.embeddedViewIndex)}visitAll(e,t){if(this.variables=e,this.parent||this.usedPipes.forEach(e=>{e.pure&&(this.purePipeNodeIndices[e.name]=this._createPipe(null,e))}),!this.parent){const e=function(e){const t=new Set,n=new Set;return Array.from(e.values()).forEach(e=>{e.staticQueryIds.forEach(e=>t.add(e)),e.dynamicQueryIds.forEach(e=>n.add(e))}),n.forEach(e=>t.delete(e)),{staticQueryIds:t,dynamicQueryIds:n}}(this.staticQueryIds);this.component.viewQueries.forEach((t,n)=>{const s=n+1,r=t.first?0:1,i=134217728|Fb(e,s,t.first);this.nodes.push(()=>({sourceSpan:null,nodeFlags:i,nodeDef:eh($h.queryDef).callFn([ah(i),ah(s),new Du([new Au(t.propertyName,ah(r),!1)])])}))})}tE(this,t),this.parent&&(0===t.length||function e(t){const n=t[t.length-1];if(n instanceof Qw)return n.hasViewContainer;if(n instanceof Kw)return Zl(n.name)&&n.children.length?e(n.children):n.hasViewContainer;return n instanceof eE}(t))&&this.nodes.push(()=>({sourceSpan:null,nodeFlags:1,nodeDef:eh($h.anchorDef).callFn([ah(0),ku,ku,ah(0)])}))}build(e=[]){this.children.forEach(t=>t.build(e));const{updateRendererStmts:t,updateDirectivesStmts:n,nodeDefExprs:s}=this._createNodeExpressions(),r=this._createUpdateFn(t),i=this._createUpdateFn(n);let o=0;this.parent||this.component.changeDetection!==Ec.OnPush||(o|=2);const a=new Fu(this.viewName,[new Eu(xb.name)],[new Lu(eh($h.viewDef).callFn([ah(o),sh(s),i,r]))],th($h.ViewDefinition),0===this.embeddedViewIndex?[Mu.Exported]:[]);return e.push(a),e}_createUpdateFn(e){let t;if(e.length>0){const n=[];!this.component.isHost&&Ku(e).has(Db.name)&&n.push(Db.set(Tb.prop("component")).toDeclStmt(this.compType)),t=ih([new Eu(Ab.name,Zc),new Eu(Tb.name,Zc)],[...n,...e],Zc)}else t=ku;return t}visitNgContent(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:8,nodeDef:eh($h.ngContentDef).callFn([ah(e.ngContentIndex),ah(e.index)])}))}visitText(e,t){this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:eh($h.textDef).callFn([ah(-1),ah(e.ngContentIndex),sh([ah(e.value)])])}))}visitBoundText(e,t){const n=this.nodes.length;this.nodes.push(null);const s=e.value.ast,r=s.expressions.map((t,s)=>this._preprocessUpdateExpression({nodeIndex:n,bindingIndex:s,sourceSpan:e.sourceSpan,context:Db,value:t})),i=n;this.nodes[n]=(()=>({sourceSpan:e.sourceSpan,nodeFlags:2,nodeDef:eh($h.textDef).callFn([ah(i),ah(e.ngContentIndex),sh(s.strings.map(e=>ah(e)))]),updateRenderer:r}))}visitEmbeddedTemplate(e,t){const n=this.nodes.length;this.nodes.push(null);const{flags:s,queryMatchesExpr:r,hostEvents:i}=this._visitElementOrTemplate(n,e),o=this.viewBuilderFactory(this);this.children.push(o),o.visitAll(e.variables,e.children);const a=this.nodes.length-n-1;this.nodes[n]=(()=>({sourceSpan:e.sourceSpan,nodeFlags:1|s,nodeDef:eh($h.anchorDef).callFn([ah(s),r,ah(e.ngContentIndex),ah(a),this._createElementHandleEventFn(n,i),Ju(o.viewName)])}))}visitElement(e,t){const n=this.nodes.length;this.nodes.push(null);const s=Zl(e.name)?null:e.name,{flags:r,usedEvents:i,queryMatchesExpr:o,hostBindings:a,hostEvents:l}=this._visitElementOrTemplate(n,e);let c=[],u=[],h=[];if(s){const t=e.inputs.map(e=>({context:Db,inputAst:e,dirAst:null})).concat(a);t.length&&(u=t.map((e,t)=>this._preprocessUpdateExpression({context:e.context,nodeIndex:n,bindingIndex:t,sourceSpan:e.inputAst.sourceSpan,value:e.inputAst.value})),c=t.map(e=>(function(e,t){const n=e.type;switch(n){case 1:return sh([ah(1),ah(e.name),ah(e.securityContext)]);case 0:return sh([ah(8),ah(e.name),ah(e.securityContext)]);case 4:const s=8|(t&&t.directive.isComponent?32:16);return sh([ah(s),ah("@"+e.name),ah(e.securityContext)]);case 2:return sh([ah(2),ah(e.name),ku]);case 3:return sh([ah(4),ah(e.name),ah(e.unit)]);default:const r=n;throw new Error(`unexpected ${r}`)}})(e.inputAst,e.dirAst))),h=i.map(([e,t])=>sh([ah(e),ah(t)]))}tE(this,e.children);const d=this.nodes.length-n-1,p=e.directives.find(e=>e.directive.isComponent);let m=ku,f=ku;p&&(f=this.outputCtx.importExpr(p.directive.componentViewType),m=this.outputCtx.importExpr(p.directive.rendererType));const g=n;this.nodes[n]=(()=>({sourceSpan:e.sourceSpan,nodeFlags:1|r,nodeDef:eh($h.elementDef).callFn([ah(g),ah(r),o,ah(e.ngContentIndex),ah(d),ah(s),s?function(e){const t=Object.create(null);return e.attrs.forEach(e=>{t[e.name]=e.value}),e.directives.forEach(e=>{Object.keys(e.directive.hostAttributes).forEach(n=>{const s=e.directive.hostAttributes[n],r=t[n];t[n]=null!=r?function(e,t,n){return e==wb||e==Eb?`${t} ${n}`:n}(n,r,s):s})}),sh(Object.keys(t).sort().map(e=>sh([ah(e),ah(t[e])])))}(e):ku,c.length?sh(c):ku,h.length?sh(h):ku,this._createElementHandleEventFn(n,l),f,m]),updateRenderer:u}))}_visitElementOrTemplate(e,t){let n=0;t.hasViewContainer&&(n|=16777216);const s=new Map;t.outputs.forEach(e=>{const{name:t,target:n}=Ob(e,null);s.set(Rb(n,t),[n,t])}),t.directives.forEach(e=>{e.hostEvents.forEach(t=>{const{name:n,target:r}=Ob(t,e);s.set(Rb(r,n),[r,n])})});const r=[],i=[];this._visitComponentFactoryResolverProvider(t.directives),t.providers.forEach((n,o)=>{let a=void 0,l=void 0;if(t.directives.forEach((e,t)=>{e.directive.type.reference===Jh(n.token)&&(a=e,l=t)}),a){const{hostBindings:o,hostEvents:c}=this._visitDirective(n,a,l,e,t.references,t.queryMatches,s,this.staticQueryIds.get(t));r.push(...o),i.push(...c)}else this._visitProvider(n,t.queryMatches)});let o=[];return t.queryMatches.forEach(e=>{let t=void 0;Jh(e.value)===this.reflector.resolveExternalReference($h.ElementRef)?t=0:Jh(e.value)===this.reflector.resolveExternalReference($h.ViewContainerRef)?t=3:Jh(e.value)===this.reflector.resolveExternalReference($h.TemplateRef)&&(t=2),null!=t&&o.push(sh([ah(e.queryId),ah(t)]))}),t.references.forEach(t=>{let n=void 0;t.value?Jh(t.value)===this.reflector.resolveExternalReference($h.TemplateRef)&&(n=2):n=1,null!=n&&(this.refNodeIndices[t.name]=e,o.push(sh([ah(t.name),ah(n)])))}),t.outputs.forEach(e=>{i.push({context:Db,eventAst:e,dirAst:null})}),{flags:n,usedEvents:Array.from(s.values()),queryMatchesExpr:o.length?sh(o):ku,hostBindings:r,hostEvents:i}}_visitDirective(e,t,n,s,r,i,o,a){const l=this.nodes.length;this.nodes.push(null),t.directive.queries.forEach((e,n)=>{const s=t.contentQueryStartId+n,r=67108864|Fb(a,s,e.first),i=e.first?0:1;this.nodes.push(()=>({sourceSpan:t.sourceSpan,nodeFlags:r,nodeDef:eh($h.queryDef).callFn([ah(r),ah(s),new Du([new Au(e.propertyName,ah(i),!1)])])}))});const c=this.nodes.length-l-1;let{flags:u,queryMatchExprs:h,providerExpr:d,depsExpr:p}=this._visitProviderOrDirective(e,i);r.forEach(t=>{t.value&&Jh(t.value)===Jh(e.token)&&(this.refNodeIndices[t.name]=l,h.push(sh([ah(t.name),ah(4)])))}),t.directive.isComponent&&(u|=32768);const m=t.inputs.map((e,t)=>{const n=sh([ah(t),ah(e.directiveName)]);return new Au(e.directiveName,n,!1)}),f=[],g=t.directive;Object.keys(g.outputs).forEach(e=>{const t=g.outputs[e];o.has(t)&&f.push(new Au(e,ah(t),!1))});let v=[];(t.inputs.length||(327680&u)>0)&&(v=t.inputs.map((e,t)=>this._preprocessUpdateExpression({nodeIndex:l,bindingIndex:t,sourceSpan:e.sourceSpan,context:Db,value:e.value})));const y=eh($h.nodeValue).callFn([Tb,ah(l)]),_=t.hostProperties.map(e=>({context:y,dirAst:t,inputAst:e})),w=t.hostEvents.map(e=>({context:y,eventAst:e,dirAst:t})),E=l;return this.nodes[l]=(()=>({sourceSpan:t.sourceSpan,nodeFlags:16384|u,nodeDef:eh($h.directiveDef).callFn([ah(E),ah(u),h.length?sh(h):ku,ah(c),d,p,m.length?new Du(m):ku,f.length?new Du(f):ku]),updateDirectives:v,directive:t.directive.type})),{hostBindings:_,hostEvents:w}}_visitProvider(e,t){this._addProviderNode(this._visitProviderOrDirective(e,t))}_visitComponentFactoryResolverProvider(e){const t=e.find(e=>e.directive.isComponent);if(t&&t.directive.entryComponents.length){const{providerExpr:e,depsExpr:n,flags:s,tokenExpr:r}=OC(this.reflector,this.outputCtx,8192,t.directive.entryComponents);this._addProviderNode({providerExpr:e,depsExpr:n,flags:s,tokenExpr:r,queryMatchExprs:[],sourceSpan:t.sourceSpan})}}_addProviderNode(e){this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:e.flags,nodeDef:eh($h.providerDef).callFn([ah(e.flags),e.queryMatchExprs.length?sh(e.queryMatchExprs):ku,e.tokenExpr,e.providerExpr,e.depsExpr])}))}_visitProviderOrDirective(e,t){let n=[];t.forEach(t=>{Jh(t.value)===Jh(e.token)&&n.push(sh([ah(t.queryId),ah(4)]))});const{providerExpr:s,depsExpr:r,flags:i,tokenExpr:o}=PC(this.outputCtx,e);return{flags:0|i,queryMatchExprs:n,providerExpr:s,depsExpr:r,tokenExpr:o,sourceSpan:e.sourceSpan}}getLocal(e){if(e==rf.event.name)return rf.event;let t=Tb;for(let n=this;n;n=n.parent,t=t.prop("parent").cast(Qc)){const s=n.refNodeIndices[e];if(null!=s)return eh($h.nodeValue).callFn([t,ah(s)]);const r=n.variables.find(t=>t.name===e);if(r){const e=r.value||Cb;return t.prop("context").prop(e)}}return null}_createLiteralArrayConverter(e,t){if(0===t){const e=eh($h.EMPTY_ARRAY);return()=>e}const n=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:32,nodeDef:eh($h.pureArrayDef).callFn([ah(n),ah(t)])})),e=>Mb(n,e)}_createLiteralMapConverter(e,t){if(0===t.length){const e=eh($h.EMPTY_MAP);return()=>e}const n=rh(t.map((e,t)=>Object.assign({},e,{value:ah(t)}))),s=this.nodes.length;return this.nodes.push(()=>({sourceSpan:e,nodeFlags:64,nodeDef:eh($h.pureObjectDef).callFn([ah(s),n])})),e=>Mb(s,e)}_createPipeConverter(e,t,n){const s=this.usedPipes.find(e=>e.name===t);if(s.pure){const s=this.nodes.length;this.nodes.push(()=>({sourceSpan:e.sourceSpan,nodeFlags:128,nodeDef:eh($h.purePipeDef).callFn([ah(s),ah(n)])}));let r=Tb,i=this;for(;i.parent;)i=i.parent,r=r.prop("parent").cast(Qc);const o=i.purePipeNodeIndices[t],a=eh($h.nodeValue).callFn([r,ah(o)]);return t=>Ib(e.nodeIndex,e.bindingIndex,Mb(s,[a].concat(t)))}{const t=this._createPipe(e.sourceSpan,s),n=eh($h.nodeValue).callFn([Tb,ah(t)]);return t=>Ib(e.nodeIndex,e.bindingIndex,n.callMethod("transform",t))}}_createPipe(e,t){const n=this.nodes.length;let s=0;t.type.lifecycleHooks.forEach(e=>{e===ef.OnDestroy&&(s|=IC(e))});const r=t.type.diDeps.map(e=>MC(this.outputCtx,e));return this.nodes.push(()=>({sourceSpan:e,nodeFlags:16,nodeDef:eh($h.pipeDef).callFn([ah(s),this.outputCtx.importExpr(t.type.reference),sh(r)])})),n}_preprocessUpdateExpression(e){return{nodeIndex:e.nodeIndex,bindingIndex:e.bindingIndex,sourceSpan:e.sourceSpan,context:e.context,value:lf({createLiteralArrayConverter:t=>this._createLiteralArrayConverter(e.sourceSpan,t),createLiteralMapConverter:t=>this._createLiteralMapConverter(e.sourceSpan,t),createPipeConverter:(t,n)=>this._createPipeConverter(e,t,n)},e.value)}}_createNodeExpressions(){const e=this;let t=0;const n=[],s=[],r=this.nodes.map((e,t)=>{const{nodeDef:r,nodeFlags:o,updateDirectives:a,updateRenderer:l,sourceSpan:c}=e();return l&&n.push(...i(t,c,l,!1)),a&&s.push(...i(t,c,a,(327680&o)>0)),Xu(3&o?new Pu([xb.callFn([]).callFn([]),r]):r,c)});return{updateRendererStmts:n,updateDirectivesStmts:s,nodeDefExprs:r};function i(n,s,r,i){const o=[],a=r.map(({sourceSpan:n,context:s,value:r})=>{const i=`${t++}`,a=s===Db?e:null,{stmts:l,currValExpr:c}=uf(a,s,r,i,Ym.General);return o.push(...l.map(e=>Zu(e,n))),Xu(c,n)});return(r.length||i)&&o.push(Zu(Mb(n,a).toStmt(),s)),o}}_createElementHandleEventFn(e,t){const n=[];let s,r=0;if(t.forEach(({context:e,eventAst:t,dirAst:s})=>{const i=`${r++}`,o=e===Db?this:null,{stmts:a,allowDefault:l}=af(o,e,t.handler,i),c=a;l&&c.push(kb.set(l.and(kb)).toStmt());const{target:u,name:h}=Ob(t,s),d=Rb(u,h);n.push(Zu(new Uu(ah(d).identical(Pb),c),t.sourceSpan))}),n.length>0){const e=[kb.set(ah(!0)).toDeclStmt(Xc)];!this.component.isHost&&Ku(n).has(Db.name)&&e.push(Db.set(Tb.prop("component")).toDeclStmt(this.compType)),s=ih([new Eu(Tb.name,Zc),new Eu(Pb.name,Zc),new Eu(rf.event.name,Zc)],[...e,...n,new Lu(kb)],Zc)}else s=ku;return s}visitDirective(e,t){}visitDirectiveProperty(e,t){}visitReference(e,t){}visitVariable(e,t){}visitEvent(e,t){}visitElementProperty(e,t){}visitAttr(e,t){}}function Mb(e,t){return t.length>10?Ab.callFn([Tb,ah(e),ah(1),sh(t)]):Ab.callFn([Tb,ah(e),ah(0),...t])}function Ib(e,t,n){return eh($h.unwrapValue).callFn([Tb,ah(e),ah(t),n])}function Ob(e,t){return e.isAnimation?{name:`@${e.name}.${e.phase}`,target:t&&t.directive.isComponent?"component":null}:e}function Fb(e,t,n){let s=0;return!n||!e.staticQueryIds.has(t)&&e.dynamicQueryIds.has(t)?s|=536870912:s|=268435456,s}function Rb(e,t){return e?`${e}:${t}`:t}const Lb="useValue";new Set([Lb,"useFactory","data","id","loadChildren"]);class $b{static build(){const e=new Map;return{define:function(t,n){return e.set(t,n),this},done:function(){return e.size>0?new Vb(e):$b.empty}}}}$b.missing={},$b.empty={resolve:e=>$b.missing};class Vb extends $b{constructor(e){super(),this.bindings=e}resolve(e){return this.bindings.has(e)?this.bindings.get(e):$b.missing}}class Bb{}class jb{constructor(){this._summaries=new Map}isLibraryFile(){return!1}toSummaryFileName(e){return e}fromSummaryFileName(e){return e}resolveSummary(e){return this._summaries.get(e)||null}getSymbolsOf(){return[]}getImportAs(e){return e}getKnownModuleName(e){return null}addSummary(e){this._summaries.set(e.symbol,e)}}function Ub(e,t,n,s,r){const i=s.createChildWihtLocalVars();for(let a=0;a<e.length;a++)i.vars.set(e[a],t[a]);const o=r.visitAllStatements(n,i);return o?o.value:null}class Hb{constructor(e,t,n,s){this.parent=e,this.instance=t,this.className=n,this.vars=s,this.exports=[]}createChildWihtLocalVars(){return new Hb(this,this.instance,this.className,new Map)}}class qb{constructor(e){this.value=e}}class zb{constructor(e){this.reflector=e}debugAst(e){return function(e){const t=new VC,n=um.createRoot();return(Array.isArray(e)?e:[e]).forEach(e=>{if(e instanceof Iu)e.visitStatement(t,n);else if(e instanceof iu)e.visitExpression(t,n);else{if(!(e instanceof qc))throw new Error(`Don't know how to print debug info for ${e}`);e.visitType(t,n)}}),n.toSource()}(e)}visitDeclareVarStmt(e,t){const n=e.value?e.value.visitExpression(this,t):void 0;return t.vars.set(e.name,n),e.hasModifier(Mu.Exported)&&t.exports.push(e.name),null}visitWriteVarExpr(e,t){const n=e.value.visitExpression(this,t);let s=t;for(;null!=s;){if(s.vars.has(e.name))return s.vars.set(e.name,n),n;s=s.parent}throw new Error(`Not declared variable ${e.name}`)}visitWrappedNodeExpr(e,t){throw new Error("Cannot interpret a WrappedNodeExpr.")}visitTypeofExpr(e,t){throw new Error("Cannot interpret a TypeofExpr")}visitReadVarExpr(e,t){let n=e.name;if(null!=e.builtin)switch(e.builtin){case tu.Super:return t.instance.__proto__;case tu.This:return t.instance;case tu.CatchError:n=Gb;break;case tu.CatchStack:n=Kb;break;default:throw new Error(`Unknown builtin variable ${e.builtin}`)}let s=t;for(;null!=s;){if(s.vars.has(n))return s.vars.get(n);s=s.parent}throw new Error(`Not declared variable ${n}`)}visitWriteKeyExpr(e,t){const n=e.receiver.visitExpression(this,t),s=e.index.visitExpression(this,t),r=e.value.visitExpression(this,t);return n[s]=r,r}visitWritePropExpr(e,t){const n=e.receiver.visitExpression(this,t),s=e.value.visitExpression(this,t);return n[e.name]=s,s}visitInvokeMethodExpr(e,t){const n=e.receiver.visitExpression(this,t),s=this.visitAllExpressions(e.args,t);let r;if(null!=e.builtin)switch(e.builtin){case nu.ConcatArray:r=n.concat(...s);break;case nu.SubscribeObservable:r=n.subscribe({next:s[0]});break;case nu.Bind:r=n.bind(...s);break;default:throw new Error(`Unknown builtin method ${e.builtin}`)}else r=n[e.name].apply(n,s);return r}visitInvokeFunctionExpr(e,t){const n=this.visitAllExpressions(e.args,t),s=e.fn;if(s instanceof ou&&s.builtin===tu.Super)return t.instance.constructor.prototype.constructor.apply(t.instance,n),null;return e.fn.visitExpression(this,t).apply(null,n)}visitReturnStmt(e,t){return new qb(e.value.visitExpression(this,t))}visitDeclareClassStmt(e,t){const n=function(e,t,n){const s={};e.getters.forEach(r=>{s[r.name]={configurable:!1,get:function(){const s=new Hb(t,this,e.name,t.vars);return Ub([],[],r.body,s,n)}}}),e.methods.forEach(function(r){const i=r.params.map(e=>e.name);s[r.name]={writable:!1,configurable:!1,value:function(...s){const o=new Hb(t,this,e.name,t.vars);return Ub(i,s,r.body,o,n)}}});const r=e.constructorMethod.params.map(e=>e.name),i=function(...s){const i=new Hb(t,this,e.name,t.vars);e.fields.forEach(e=>{this[e.name]=void 0}),Ub(r,s,e.constructorMethod.body,i,n)},o=e.parent?e.parent.visitExpression(n,t):Object;return i.prototype=Object.create(o.prototype,s),i}(e,t,this);return t.vars.set(e.name,n),e.hasModifier(Mu.Exported)&&t.exports.push(e.name),null}visitExpressionStmt(e,t){return e.expr.visitExpression(this,t)}visitIfStmt(e,t){return e.condition.visitExpression(this,t)?this.visitAllStatements(e.trueCase,t):null!=e.falseCase?this.visitAllStatements(e.falseCase,t):null}visitTryCatchStmt(e,t){try{return this.visitAllStatements(e.bodyStmts,t)}catch(n){const s=t.createChildWihtLocalVars();return s.vars.set(Gb,n),s.vars.set(Kb,n.stack),this.visitAllStatements(e.catchStmts,s)}}visitThrowStmt(e,t){throw e.error.visitExpression(this,t)}visitCommentStmt(e,t){return null}visitJSDocCommentStmt(e,t){return null}visitInstantiateExpr(e,t){const n=this.visitAllExpressions(e.args,t);return new(e.classExpr.visitExpression(this,t))(...n)}visitLiteralExpr(e,t){return e.value}visitExternalExpr(e,t){return this.reflector.resolveExternalReference(e.value)}visitConditionalExpr(e,t){return e.condition.visitExpression(this,t)?e.trueCase.visitExpression(this,t):null!=e.falseCase?e.falseCase.visitExpression(this,t):null}visitNotExpr(e,t){return!e.condition.visitExpression(this,t)}visitAssertNotNullExpr(e,t){return e.condition.visitExpression(this,t)}visitCastExpr(e,t){return e.value.visitExpression(this,t)}visitFunctionExpr(e,t){return Wb(e.params.map(e=>e.name),e.statements,t,this)}visitDeclareFunctionStmt(e,t){const n=e.params.map(e=>e.name);return t.vars.set(e.name,Wb(n,e.statements,t,this)),e.hasModifier(Mu.Exported)&&t.exports.push(e.name),null}visitBinaryOperatorExpr(e,t){const n=()=>e.lhs.visitExpression(this,t),s=()=>e.rhs.visitExpression(this,t);switch(e.operator){case eu.Equals:return n()==s();case eu.Identical:return n()===s();case eu.NotEquals:return n()!=s();case eu.NotIdentical:return n()!==s();case eu.And:return n()&&s();case eu.Or:return n()||s();case eu.Plus:return n()+s();case eu.Minus:return n()-s();case eu.Divide:return n()/s();case eu.Multiply:return n()*s();case eu.Modulo:return n()%s();case eu.Lower:return n()<s();case eu.LowerEquals:return n()<=s();case eu.Bigger:return n()>s();case eu.BiggerEquals:return n()>=s();default:throw new Error(`Unknown operator ${e.operator}`)}}visitReadPropExpr(e,t){let n;return n=e.receiver.visitExpression(this,t)[e.name]}visitReadKeyExpr(e,t){return e.receiver.visitExpression(this,t)[e.index.visitExpression(this,t)]}visitLiteralArrayExpr(e,t){return this.visitAllExpressions(e.entries,t)}visitLiteralMapExpr(e,t){const n={};return e.entries.forEach(e=>n[e.key]=e.value.visitExpression(this,t)),n}visitCommaExpr(e,t){const n=this.visitAllExpressions(e.parts,t);return n[n.length-1]}visitAllExpressions(e,t){return e.map(e=>e.visitExpression(this,t))}visitAllStatements(e,t){for(let n=0;n<e.length;n++){const s=e[n].visitStatement(this,t);if(s instanceof qb)return s}return null}}function Wb(e,t,n,s){return(...r)=>Ub(e,r,t,n,s)}const Gb="error",Kb="stack";class Qb{constructor(e,t,n,s,r,i,o,a,l,c){this._metadataResolver=e,this._templateParser=t,this._styleCompiler=n,this._viewCompiler=s,this._ngModuleCompiler=r,this._summaryResolver=i,this._reflector=o,this._compilerConfig=a,this._console=l,this.getExtraNgModuleProviders=c,this._compiledTemplateCache=new Map,this._compiledHostTemplateCache=new Map,this._compiledDirectiveWrapperCache=new Map,this._compiledNgModuleCache=new Map,this._sharedStylesheetCount=0,this._addedAotSummaries=new Set}compileModuleSync(e){return gh.assertSync(this._compileModuleAndComponents(e,!0))}compileModuleAsync(e){return Promise.resolve(this._compileModuleAndComponents(e,!1))}compileModuleAndAllComponentsSync(e){return gh.assertSync(this._compileModuleAndAllComponents(e,!0))}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this._compileModuleAndAllComponents(e,!1))}getComponentFactory(e){return this._metadataResolver.getDirectiveSummary(e).componentFactory}loadAotSummaries(e){this.clearCache(),this._addAotSummaries(e)}_addAotSummaries(e){if(this._addedAotSummaries.has(e))return;this._addedAotSummaries.add(e);const t=e();for(let n=0;n<t.length;n++){const e=t[n];if("function"==typeof e)this._addAotSummaries(e);else{const t=e;this._summaryResolver.addSummary({symbol:t.type.reference,metadata:null,type:t})}}}hasAotSummary(e){return!!this._summaryResolver.resolveSummary(e)}_filterJitIdentifiers(e){return e.map(e=>e.reference).filter(e=>!this.hasAotSummary(e))}_compileModuleAndComponents(e,t){return gh.then(this._loadModules(e,t),()=>(this._compileComponents(e,null),this._compileModule(e)))}_compileModuleAndAllComponents(e,t){return gh.then(this._loadModules(e,t),()=>{const t=[];return this._compileComponents(e,t),{ngModuleFactory:this._compileModule(e),componentFactories:t}})}_loadModules(e,t){const n=[],s=this._metadataResolver.getNgModuleMetadata(e);return this._filterJitIdentifiers(s.transitiveModule.modules).forEach(e=>{const s=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(s.declaredDirectives).forEach(e=>{const r=this._metadataResolver.loadDirectiveMetadata(s.type.reference,e,t);r&&n.push(r)}),this._filterJitIdentifiers(s.declaredPipes).forEach(e=>this._metadataResolver.getOrLoadPipeMetadata(e))}),gh.all(n)}_compileModule(e){let t=this._compiledNgModuleCache.get(e);if(!t){const n=this._metadataResolver.getNgModuleMetadata(e),s=this.getExtraNgModuleProviders(n.type.reference),r=Yb(),i=this._ngModuleCompiler.compile(r,n,s);t=this._interpretOrJit(function(e){return cd(`${Wh(e.type)}/module.ngfactory.js`)}(n),r.statements)[i.ngModuleFactoryVar],this._compiledNgModuleCache.set(n.type.reference,t)}return t}_compileComponents(e,t){const n=this._metadataResolver.getNgModuleMetadata(e),s=new Map,r=new Set,i=this._filterJitIdentifiers(n.transitiveModule.modules);i.forEach(e=>{const n=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(n.declaredDirectives).forEach(e=>{s.set(e,n);const i=this._metadataResolver.getDirectiveMetadata(e);if(i.isComponent&&(r.add(this._createCompiledTemplate(i,n)),t)){const e=this._createCompiledHostTemplate(i.type.reference,n);r.add(e),t.push(i.componentFactory)}})}),i.forEach(e=>{const t=this._metadataResolver.getNgModuleMetadata(e);this._filterJitIdentifiers(t.declaredDirectives).forEach(e=>{const t=this._metadataResolver.getDirectiveMetadata(e);t.isComponent&&t.entryComponents.forEach(e=>{const t=s.get(e.componentType);r.add(this._createCompiledHostTemplate(e.componentType,t))})}),t.entryComponents.forEach(e=>{if(!this.hasAotSummary(e.componentType)){const t=s.get(e.componentType);r.add(this._createCompiledHostTemplate(e.componentType,t))}})}),r.forEach(e=>this._compileTemplate(e))}clearCacheFor(e){this._compiledNgModuleCache.delete(e),this._metadataResolver.clearCacheFor(e),this._compiledHostTemplateCache.delete(e),this._compiledTemplateCache.get(e)&&this._compiledTemplateCache.delete(e)}clearCache(){this._metadataResolver.clearCache(),this._compiledTemplateCache.clear(),this._compiledHostTemplateCache.clear(),this._compiledNgModuleCache.clear()}_createCompiledHostTemplate(e,t){if(!t)throw new Error(`Component ${Sh(e)} is not part of any NgModule or the module has not been imported into your module.`);let n=this._compiledHostTemplateCache.get(e);if(!n){const s=this._metadataResolver.getDirectiveMetadata(e);Xb(s);const r=this._metadataResolver.getHostComponentMetadata(s,s.componentFactory.viewDefFactory);n=new Zb(!0,s.type,r,t,[s.type]),this._compiledHostTemplateCache.set(e,n)}return n}_createCompiledTemplate(e,t){let n=this._compiledTemplateCache.get(e.type.reference);return n||(Xb(e),n=new Zb(!1,e.type,e,t,t.transitiveModule.directives),this._compiledTemplateCache.set(e.type.reference,n)),n}_compileTemplate(e){if(e.isCompiled)return;const t=e.compMeta,n=new Map,s=Yb(),r=this._styleCompiler.compileComponent(s,t);t.template.externalStylesheets.forEach(e=>{const s=this._styleCompiler.compileStyles(Yb(),t,e);n.set(e.moduleUrl,s)}),this._resolveStylesCompileResult(r,n);e.ngModule.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));const{template:i,pipes:o}=this._parseTemplate(t,e.ngModule,e.directives),a=this._viewCompiler.compileComponent(s,t,i,Ju(r.stylesVar),o),l=this._interpretOrJit(function(e,t){return cd(`${Wh(e)}/${Wh(t.type)}.ngfactory.js`)}(e.ngModule.type,e.compMeta),s.statements),c=l[a.viewClassVar],u=l[a.rendererTypeVar];e.compiled(c,u)}_parseTemplate(e,t,n){const s=e.template.preserveWhitespaces,r=n.map(e=>this._metadataResolver.getDirectiveSummary(e.reference)),i=t.transitiveModule.pipes.map(e=>this._metadataResolver.getPipeSummary(e.reference));return this._templateParser.parse(e,e.template.htmlAst,r,i,t.schemas,ud(t.type,e,e.template),s)}_resolveStylesCompileResult(e,t){e.dependencies.forEach((e,n)=>{const s=t.get(e.moduleUrl),r=this._resolveAndEvalStylesCompileResult(s,t);e.setValue(r)})}_resolveAndEvalStylesCompileResult(e,t){return this._resolveStylesCompileResult(e,t),this._interpretOrJit(function(e,t){const n=e.moduleUrl.split(/\/\\/g);return cd(`css/${t}${n[n.length-1]}.ngstyle.js`)}(e.meta,this._sharedStylesheetCount++),e.outputCtx.statements)[e.stylesVar]}_interpretOrJit(e,t){return this._compilerConfig.useJit?fm(e,t,this._reflector,this._compilerConfig.jitDevMode):function(e,t){const n=new Hb(null,null,null,new Map);new zb(t).visitAllStatements(e,n);const s={};return n.exports.forEach(e=>{s[e]=n.vars.get(e)}),s}(t,this._reflector)}}class Zb{constructor(e,t,n,s,r){this.isHost=e,this.compType=t,this.compMeta=n,this.ngModule=s,this.directives=r,this._viewClass=null,this.isCompiled=!1}compiled(e,t){this._viewClass=e,this.compMeta.componentViewType.setDelegate(e);for(let n in t)this.compMeta.rendererType[n]=t[n];this.isCompiled=!0}}function Xb(e){if(!e.isComponent)throw new Error(`Could not compile '${Wh(e.type)}' because it is not a component.`)}function Yb(){return{statements:[],genFilePath:"",importExpr:e=>eh({name:Wh(e),moduleName:null,runtime:e}),constantPool:new Ih}}class Jb{}const eS=class{constructor(e=null){this._packagePrefix=e}resolve(e,t){let n=t;null!=e&&e.length>0&&(n=function(e,t){const n=sS(encodeURI(t)),s=sS(e);if(null!=n[nS.Scheme])return rS(n);n[nS.Scheme]=s[nS.Scheme];for(let o=nS.Scheme;o<=nS.Port;o++)null==n[o]&&(n[o]=s[o]);if("/"==n[nS.Path][0])return rS(n);let r=s[nS.Path];null==r&&(r="/");const i=r.lastIndexOf("/");return r=r.substring(0,i+1)+n[nS.Path],n[nS.Path]=r,rS(n)}(e,n));const s=sS(n);let r=this._packagePrefix;if(null!=r&&null!=s&&"package"==s[nS.Scheme]){let e=s[nS.Path];return`${r=r.replace(/\/+$/,"")}/${e=e.replace(/^\/+/,"")}`}return n}};const tS=new RegExp("^(?:([^:/?#.]+):)?(?://(?:([^/?#]*)@)?([\\w\\d\\-\\u0100-\\uffff.%]*)(?::([0-9]+))?)?([^?#]+)?(?:\\?([^#]*))?(?:#(.*))?$");var nS;function sS(e){return e.match(tS)}function rS(e){let t=e[nS.Path];return t=null==t?"":function(e){if("/"==e)return"/";const t="/"==e[0]?"/":"",n="/"===e[e.length-1]?"/":"",s=e.split("/"),r=[];let i=0;for(let o=0;o<s.length;o++){const e=s[o];switch(e){case"":case".":break;case"..":r.length>0?r.pop():i++;break;default:r.push(e)}}if(""==t){for(;i-- >0;)r.unshift("..");0===r.length&&r.push(".")}return t+r.join("/")+n}(t),e[nS.Path]=t,function(e,t,n,s,r,i,o){const a=[];return null!=e&&a.push(e+":"),null!=n&&(a.push("//"),null!=t&&a.push(t+"@"),a.push(n),null!=s&&a.push(":"+s)),null!=r&&a.push(r),null!=i&&a.push("?"+i),null!=o&&a.push("#"+o),a.join("")}(e[nS.Scheme],e[nS.UserInfo],e[nS.Domain],e[nS.Port],t,e[nS.QueryData],e[nS.Fragment])}!function(e){e[e.Scheme=1]="Scheme",e[e.UserInfo=2]="UserInfo",e[e.Domain=3]="Domain",e[e.Port=4]="Port",e[e.Path=5]="Path",e[e.QueryData=6]="QueryData",e[e.Fragment=7]="Fragment"}(nS||(nS={}));class iS{get(e){return""}}!function(e){(e.ng||(e.ng={})).\u0275compilerFacade=new Sw}(Ph);class oS{}const aS=new ye("Location Initialized");class lS{}const cS=new ye("appBaseHref");class uS{constructor(e){this._subject=new Rn,this._platformStrategy=e;const t=this._platformStrategy.getBaseHref();this._baseHref=uS.stripTrailingSlash(hS(t)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+uS.normalizeQueryParams(t))}normalize(e){return uS.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,hS(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}static normalizeQueryParams(e){return e&&"?"!==e[0]?"?"+e:e}static joinWithSlash(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}static stripTrailingSlash(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length,s=n-("/"===e[n-1]?1:0);return e.slice(0,s)+e.slice(n)}}function hS(e){return e.replace(/\/index.html$/,"")}uS.decorators=[{type:ms}],uS.ctorParameters=(()=>[{type:lS}]);class dS extends lS{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=uS.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,s){let r=this.prepareExternalUrl(n+uS.normalizeQueryParams(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,s){let r=this.prepareExternalUrl(n+uS.normalizeQueryParams(s));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}dS.decorators=[{type:ms}],dS.ctorParameters=(()=>[{type:oS},{type:String,decorators:[{type:He},{type:Ue,args:[cS]}]}]);class pS extends lS{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return uS.joinWithSlash(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+uS.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,s){const r=this.prepareExternalUrl(n+uS.normalizeQueryParams(s));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,s){const r=this.prepareExternalUrl(n+uS.normalizeQueryParams(s));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}pS.decorators=[{type:ms}],pS.ctorParameters=(()=>[{type:oS},{type:String,decorators:[{type:He},{type:Ue,args:[cS]}]}]);const mS=void 0;var fS=["en",[["a","p"],["AM","PM"],mS],[["AM","PM"],mS,mS],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mS,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mS,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mS,"{1} 'at' {0}",mS],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];const gS={};const vS={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,0],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",0],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",0],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",0],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",0],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",0],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",0],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,0],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UZS:[void 0,void 0,0],VEF:[void 0,"Bs"],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var yS={Decimal:0,Percent:1,Currency:2,Scientific:3};yS[yS.Decimal]="Decimal",yS[yS.Percent]="Percent",yS[yS.Currency]="Currency",yS[yS.Scientific]="Scientific";var _S={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};_S[_S.Zero]="Zero",_S[_S.One]="One",_S[_S.Two]="Two",_S[_S.Few]="Few",_S[_S.Many]="Many",_S[_S.Other]="Other";var wS={Format:0,Standalone:1};wS[wS.Format]="Format",wS[wS.Standalone]="Standalone";var ES={Narrow:0,Abbreviated:1,Wide:2,Short:3};ES[ES.Narrow]="Narrow",ES[ES.Abbreviated]="Abbreviated",ES[ES.Wide]="Wide",ES[ES.Short]="Short";var CS={Short:0,Medium:1,Long:2,Full:3};CS[CS.Short]="Short",CS[CS.Medium]="Medium",CS[CS.Long]="Long",CS[CS.Full]="Full";var bS={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};bS[bS.Decimal]="Decimal",bS[bS.Group]="Group",bS[bS.List]="List",bS[bS.PercentSign]="PercentSign",bS[bS.PlusSign]="PlusSign",bS[bS.MinusSign]="MinusSign",bS[bS.Exponential]="Exponential",bS[bS.SuperscriptingExponent]="SuperscriptingExponent",bS[bS.PerMille]="PerMille",bS[bS.Infinity]="Infinity",bS[bS.NaN]="NaN",bS[bS.TimeSeparator]="TimeSeparator",bS[bS.CurrencyDecimal]="CurrencyDecimal",bS[bS.CurrencyGroup]="CurrencyGroup";var SS={Sunday:0,Monday:1,Tuesday:2,Wednesday:3,Thursday:4,Friday:5,Saturday:6};function xS(e,t){return NS(IS(e)[10],t)}function TS(e,t){return NS(IS(e)[11],t)}function AS(e,t){return NS(IS(e)[12],t)}function DS(e,t){const n=IS(e),s=n[13][t];if(void 0===s){if(t===bS.CurrencyDecimal)return n[13][bS.Decimal];if(t===bS.CurrencyGroup)return n[13][bS.Group]}return s}function PS(e,t){return IS(e)[14][t]}function kS(e){if(!e[19])throw new Error(`Missing extra locale data for the locale "${e[0]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function NS(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function MS(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}function IS(e){const t=e.toLowerCase().replace(/_/g,"-");let n=gS[t];if(n)return n;const s=t.split("-")[0];if(n=gS[s])return n;if("en"===s)return fS;throw new Error(`Missing locale data for the locale "${e}".`)}function OS(e,t,n="en"){const s=function(e){return IS(e)[17]}(n)[e]||vS[e]||[],r=s[1];return"narrow"===t&&"string"==typeof r?r:s[0]||e}SS[SS.Sunday]="Sunday",SS[SS.Monday]="Monday",SS[SS.Tuesday]="Tuesday",SS[SS.Wednesday]="Wednesday",SS[SS.Thursday]="Thursday",SS[SS.Friday]="Friday",SS[SS.Saturday]="Saturday";const FS=2;const RS=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,LS={},$S=/((?:[^GyMLwWdEabBhHmsSzZO']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var VS={Short:0,ShortGMT:1,Long:2,Extended:3};VS[VS.Short]="Short",VS[VS.ShortGMT]="ShortGMT",VS[VS.Long]="Long",VS[VS.Extended]="Extended";var BS={FullYear:0,Month:1,Date:2,Hours:3,Minutes:4,Seconds:5,FractionalSeconds:6,Day:7};BS[BS.FullYear]="FullYear",BS[BS.Month]="Month",BS[BS.Date]="Date",BS[BS.Hours]="Hours",BS[BS.Minutes]="Minutes",BS[BS.Seconds]="Seconds",BS[BS.FractionalSeconds]="FractionalSeconds",BS[BS.Day]="Day";var jS={DayPeriods:0,Days:1,Months:2,Eras:3};function US(e,t,n,s){let r=function(e){if(ex(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){e=e.trim();const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);if(/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,n,s]=e.split("-").map(e=>+e);return new Date(t,n-1,s)}let n;if(n=e.match(RS))return JS(n)}const t=new Date(e);if(!ex(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=function e(t,n){const s=function(e){return IS(e)[0]}(t);LS[s]=LS[s]||{};if(LS[s][n])return LS[s][n];let r="";switch(n){case"shortDate":r=xS(t,CS.Short);break;case"mediumDate":r=xS(t,CS.Medium);break;case"longDate":r=xS(t,CS.Long);break;case"fullDate":r=xS(t,CS.Full);break;case"shortTime":r=TS(t,CS.Short);break;case"mediumTime":r=TS(t,CS.Medium);break;case"longTime":r=TS(t,CS.Long);break;case"fullTime":r=TS(t,CS.Full);break;case"short":const s=e(t,"shortTime"),i=e(t,"shortDate");r=HS(AS(t,CS.Short),[s,i]);break;case"medium":const o=e(t,"mediumTime"),a=e(t,"mediumDate");r=HS(AS(t,CS.Medium),[o,a]);break;case"long":const l=e(t,"longTime"),c=e(t,"longDate");r=HS(AS(t,CS.Long),[l,c]);break;case"full":const u=e(t,"fullTime"),h=e(t,"fullDate");r=HS(AS(t,CS.Full),[u,h])}r&&(LS[s][n]=r);return r}(n,t)||t;let i,o=[];for(;t;){if(!(i=$S.exec(t))){o.push(t);break}{const e=(o=o.concat(i.slice(1))).pop();if(!e)break;t=e}}let a=r.getTimezoneOffset();s&&(a=YS(s,a),r=function(e,t,n){const s=n?-1:1,r=e.getTimezoneOffset(),i=YS(t,r);return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,s*(i-r))}(r,s,!0));let l="";return o.forEach(e=>{const t=function(e){if(XS[e])return XS[e];let t;switch(e){case"G":case"GG":case"GGG":t=WS(jS.Eras,ES.Abbreviated);break;case"GGGG":t=WS(jS.Eras,ES.Wide);break;case"GGGGG":t=WS(jS.Eras,ES.Narrow);break;case"y":t=zS(BS.FullYear,1,0,!1,!0);break;case"yy":t=zS(BS.FullYear,2,0,!0,!0);break;case"yyy":t=zS(BS.FullYear,3,0,!1,!0);break;case"yyyy":t=zS(BS.FullYear,4,0,!1,!0);break;case"M":case"L":t=zS(BS.Month,1,1);break;case"MM":case"LL":t=zS(BS.Month,2,1);break;case"MMM":t=WS(jS.Months,ES.Abbreviated);break;case"MMMM":t=WS(jS.Months,ES.Wide);break;case"MMMMM":t=WS(jS.Months,ES.Narrow);break;case"LLL":t=WS(jS.Months,ES.Abbreviated,wS.Standalone);break;case"LLLL":t=WS(jS.Months,ES.Wide,wS.Standalone);break;case"LLLLL":t=WS(jS.Months,ES.Narrow,wS.Standalone);break;case"w":t=ZS(1);break;case"ww":t=ZS(2);break;case"W":t=ZS(1,!0);break;case"d":t=zS(BS.Date,1);break;case"dd":t=zS(BS.Date,2);break;case"E":case"EE":case"EEE":t=WS(jS.Days,ES.Abbreviated);break;case"EEEE":t=WS(jS.Days,ES.Wide);break;case"EEEEE":t=WS(jS.Days,ES.Narrow);break;case"EEEEEE":t=WS(jS.Days,ES.Short);break;case"a":case"aa":case"aaa":t=WS(jS.DayPeriods,ES.Abbreviated);break;case"aaaa":t=WS(jS.DayPeriods,ES.Wide);break;case"aaaaa":t=WS(jS.DayPeriods,ES.Narrow);break;case"b":case"bb":case"bbb":t=WS(jS.DayPeriods,ES.Abbreviated,wS.Standalone,!0);break;case"bbbb":t=WS(jS.DayPeriods,ES.Wide,wS.Standalone,!0);break;case"bbbbb":t=WS(jS.DayPeriods,ES.Narrow,wS.Standalone,!0);break;case"B":case"BB":case"BBB":t=WS(jS.DayPeriods,ES.Abbreviated,wS.Format,!0);break;case"BBBB":t=WS(jS.DayPeriods,ES.Wide,wS.Format,!0);break;case"BBBBB":t=WS(jS.DayPeriods,ES.Narrow,wS.Format,!0);break;case"h":t=zS(BS.Hours,1,-12);break;case"hh":t=zS(BS.Hours,2,-12);break;case"H":t=zS(BS.Hours,1);break;case"HH":t=zS(BS.Hours,2);break;case"m":t=zS(BS.Minutes,1);break;case"mm":t=zS(BS.Minutes,2);break;case"s":t=zS(BS.Seconds,1);break;case"ss":t=zS(BS.Seconds,2);break;case"S":t=zS(BS.FractionalSeconds,1);break;case"SS":t=zS(BS.FractionalSeconds,2);break;case"SSS":t=zS(BS.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=GS(VS.Short);break;case"ZZZZZ":t=GS(VS.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=GS(VS.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=GS(VS.Long);break;default:return null}return XS[e]=t,t}(e);l+=t?t(r,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function HS(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function qS(e,t,n="-",s,r){let i="";(e<0||r&&e<=0)&&(r?e=1-e:(e=-e,i=n));let o=String(e);for(;o.length<t;)o="0"+o;return s&&(o=o.substr(o.length-t)),i+o}function zS(e,t,n=0,s=!1,r=!1){return function(i,o){let a=function(e,t){switch(e){case BS.FullYear:return t.getFullYear();case BS.Month:return t.getMonth();case BS.Date:return t.getDate();case BS.Hours:return t.getHours();case BS.Minutes:return t.getMinutes();case BS.Seconds:return t.getSeconds();case BS.FractionalSeconds:return t.getMilliseconds();case BS.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,i);if((n>0||a>-n)&&(a+=n),e===BS.Hours)0===a&&-12===n&&(a=12);else if(e===BS.FractionalSeconds)return l=t,qS(a,3).substr(0,l);var l;const c=DS(o,bS.MinusSign);return qS(a,t,c,s,r)}}function WS(e,t,n=wS.Format,s=!1){return function(r,i){return function(e,t,n,s,r,i){switch(n){case jS.Months:return function(e,t,n){const s=IS(e),r=NS([s[5],s[6]],t);return NS(r,n)}(t,r,s)[e.getMonth()];case jS.Days:return function(e,t,n){const s=IS(e),r=NS([s[3],s[4]],t);return NS(r,n)}(t,r,s)[e.getDay()];case jS.DayPeriods:const o=e.getHours(),a=e.getMinutes();if(i){const e=function(e){const t=IS(e);return kS(t),(t[19][2]||[]).map(e=>"string"==typeof e?MS(e):[MS(e[0]),MS(e[1])])}(t),n=function(e,t,n){const s=IS(e);kS(s);const r=NS([s[19][0],s[19][1]],t)||[];return NS(r,n)||[]}(t,r,s);let i;if(e.forEach((e,t)=>{if(Array.isArray(e)){const{hours:s,minutes:r}=e[0],{hours:l,minutes:c}=e[1];o>=s&&a>=r&&(o<l||o===l&&a<c)&&(i=n[t])}else{const{hours:s,minutes:r}=e;s===o&&r===a&&(i=n[t])}}),i)return i}return function(e,t,n){const s=IS(e),r=NS([s[1],s[2]],t);return NS(r,n)}(t,r,s)[o<12?0:1];case jS.Eras:return function(e,t){return NS(IS(e)[7],t)}(t,s)[e.getFullYear()<=0?0:1];default:const l=n;throw new Error(`unexpected translation type ${l}`)}}(r,i,e,t,n,s)}}function GS(e){return function(t,n,s){const r=-1*s,i=DS(n,bS.MinusSign),o=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case VS.Short:return(r>=0?"+":"")+qS(o,2,i)+qS(Math.abs(r%60),2,i);case VS.ShortGMT:return"GMT"+(r>=0?"+":"")+qS(o,1,i);case VS.Long:return"GMT"+(r>=0?"+":"")+qS(o,2,i)+":"+qS(Math.abs(r%60),2,i);case VS.Extended:return 0===s?"Z":(r>=0?"+":"")+qS(o,2,i)+":"+qS(Math.abs(r%60),2,i);default:throw new Error(`Unknown zone width "${e}"`)}}}jS[jS.DayPeriods]="DayPeriods",jS[jS.Days]="Days",jS[jS.Months]="Months",jS[jS.Eras]="Eras";const KS=0,QS=4;function ZS(e,t=!1){return function(n,s){let r;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();r=1+Math.floor((t+e)/7)}else{const e=function(e){const t=new Date(e,KS,1).getDay();return new Date(e,0,1+(t<=QS?QS:QS+7)-t)}(n.getFullYear()),t=(i=n,new Date(i.getFullYear(),i.getMonth(),i.getDate()+(QS-i.getDay()))).getTime()-e.getTime();r=1+Math.round(t/6048e5)}var i;return qS(r,e,DS(s,bS.MinusSign))}}const XS={};function YS(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function JS(e){const t=new Date(0);let n=0,s=0;const r=e[8]?t.setUTCFullYear:t.setFullYear,i=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),s=Number(e[9]+e[11])),r.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const o=Number(e[4]||0)-n,a=Number(e[5]||0)-s,l=Number(e[6]||0),c=Math.round(1e3*parseFloat("0."+(e[7]||0)));return i.call(t,o,a,l,c),t}function ex(e){return e instanceof Date&&!isNaN(e.valueOf())}const tx=/^(\d+)?\.((\d+)(-(\d+))?)?$/,nx=22,sx=".",rx="0",ix=";",ox=",",ax="#",lx="\xa4",cx="%";function ux(e,t,n,s,r,i,o=!1){let a="",l=!1;if(isFinite(e)){let c=function(e){let t,n,s,r,i,o=Math.abs(e)+"",a=0;(n=o.indexOf(sx))>-1&&(o=o.replace(sx,""));(s=o.search(/e/i))>0?(n<0&&(n=s),n+=+o.slice(s+1),o=o.substring(0,s)):n<0&&(n=o.length);for(s=0;o.charAt(s)===rx;s++);if(s===(i=o.length))t=[0],n=1;else{for(i--;o.charAt(i)===rx;)i--;for(n-=s,t=[],r=0;s<=i;s++,r++)t[r]=Number(o.charAt(s))}n>nx&&(t=t.splice(0,nx-1),a=n-1,n=1);return{digits:t,exponent:a,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;const t=e.digits.length-e.integerLen;e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2);return e}(c));let u=t.minInt,h=t.minFrac,d=t.maxFrac;if(i){const e=i.match(tx);if(null===e)throw new Error(`${i} is not a valid digit info`);const t=e[1],n=e[3],s=e[5];null!=t&&(u=px(t)),null!=n&&(h=px(n)),null!=s?d=px(s):null!=n&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error(`The minimum number of digits after fraction (${t}) is higher than the maximum (${n}).`);let s=e.digits,r=s.length-e.integerLen;const i=Math.min(Math.max(t,r),n);let o=i+e.integerLen,a=s[o];if(o>0){s.splice(Math.max(e.integerLen,o));for(let e=o;e<s.length;e++)s[e]=0}else{r=Math.max(0,r),e.integerLen=1,s.length=Math.max(1,o=i+1),s[0]=0;for(let e=1;e<o;e++)s[e]=0}if(a>=5)if(o-1<0){for(let t=0;t>o;t--)s.unshift(0),e.integerLen++;s.unshift(1),e.integerLen++}else s[o-1]++;for(;r<Math.max(0,i);r++)s.push(0);let l=0!==i;const c=t+e.integerLen,u=s.reduceRight(function(e,t,n,s){return t+=e,s[n]=t<10?t:t-10,l&&(0===s[n]&&n>=c?s.pop():l=!1),t>=10?1:0},0);u&&(s.unshift(u),e.integerLen++)}(c,h,d);let p=c.digits,m=c.integerLen;const f=c.exponent;let g=[];for(l=p.every(e=>!e);m<u;m++)p.unshift(0);for(;m<0;m++)p.unshift(0);m>0?g=p.splice(m,p.length):(g=p,p=[0]);const v=[];for(p.length>=t.lgSize&&v.unshift(p.splice(-t.lgSize,p.length).join(""));p.length>t.gSize;)v.unshift(p.splice(-t.gSize,p.length).join(""));p.length&&v.unshift(p.join("")),a=v.join(DS(n,s)),g.length&&(a+=DS(n,r)+g.join("")),f&&(a+=DS(n,bS.Exponential)+"+"+f)}else a=DS(n,bS.Infinity);return a=e<0&&!l?t.negPre+a+t.negSuf:t.posPre+a+t.posSuf}function hx(e,t,n,s,r){const i=dx(PS(t,yS.Currency),DS(t,bS.MinusSign));return i.minFrac=function(e){let t;const n=vS[e];return n&&(t=n[2]),"number"==typeof t?t:FS}(s),i.maxFrac=i.minFrac,ux(e,i,t,bS.CurrencyGroup,bS.CurrencyDecimal,r).replace(lx,n).replace(lx,"")}function dx(e,t="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},s=e.split(ix),r=s[0],i=s[1],o=-1!==r.indexOf(sx)?r.split(sx):[r.substring(0,r.lastIndexOf(rx)+1),r.substring(r.lastIndexOf(rx)+1)],a=o[0],l=o[1]||"";n.posPre=a.substr(0,a.indexOf(ax));for(let u=0;u<l.length;u++){const e=l.charAt(u);e===rx?n.minFrac=n.maxFrac=u+1:e===ax?n.maxFrac=u+1:n.posSuf+=e}const c=a.split(ox);if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,i){const e=r.length-n.posPre.length-n.posSuf.length,t=i.indexOf(ax);n.negPre=i.substr(0,t).replace(/'/g,""),n.negSuf=i.substr(t+e).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function px(e){const t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}const mx=new ye("UseV4Plurals");class fx{}function gx(e,t,n,s){let r=`=${e}`;if(t.indexOf(r)>-1)return r;if(r=n.getPluralCategory(e,s),t.indexOf(r)>-1)return r;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}class vx extends fx{constructor(e,t){super(),this.locale=e,this.deprecatedPluralFn=t}getPluralCategory(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return IS(e)[18]}(t||this.locale)(e)){case _S.Zero:return"zero";case _S.One:return"one";case _S.Two:return"two";case _S.Few:return"few";case _S.Many:return"many";default:return"other"}}}function yx(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[s,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(s.trim()===t)return decodeURIComponent(r)}return null}vx.decorators=[{type:ms}],vx.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]},{type:void 0,decorators:[{type:He},{type:Ue,args:[mx]}]}]);class _x{constructor(e,t,n,s){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=s,this._initialClasses=[]}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(rt(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${je(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}_x.decorators=[{type:Yn,args:[{selector:"[ngClass]"}]}],_x.ctorParameters=(()=>[{type:ii},{type:oi},{type:Zt},{type:tn}]),_x.propDecorators={klass:[{type:ns,args:["class"]}],ngClass:[{type:ns}]};class wx{constructor(e){this._viewContainerRef=e,this._componentRef=null,this._moduleRef=null}ngOnChanges(e){if(this._viewContainerRef.clear(),this._componentRef=null,this.ngComponentOutlet){const t=this.ngComponentOutletInjector||this._viewContainerRef.parentInjector;if(e.ngComponentOutletNgModuleFactory)if(this._moduleRef&&this._moduleRef.destroy(),this.ngComponentOutletNgModuleFactory){const e=t.get(It);this._moduleRef=this.ngComponentOutletNgModuleFactory.create(e.injector)}else this._moduleRef=null;const n=(this._moduleRef?this._moduleRef.componentFactoryResolver:t.get(Gt)).resolveComponentFactory(this.ngComponentOutlet);this._componentRef=this._viewContainerRef.createComponent(n,this._viewContainerRef.length,t,this.ngComponentOutletContent)}}ngOnDestroy(){this._moduleRef&&this._moduleRef.destroy()}}wx.decorators=[{type:Yn,args:[{selector:"[ngComponentOutlet]"}]}],wx.ctorParameters=(()=>[{type:Vr}]),wx.propDecorators={ngComponentOutlet:[{type:ns}],ngComponentOutletInjector:[{type:ns}],ngComponentOutletContent:[{type:ns}],ngComponentOutletNgModuleFactory:[{type:ns}]};class Ex{constructor(e,t,n,s){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}class Cx{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){cn()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. `+"See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information."),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,s)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new Ex(null,this._ngForOf,-1,-1),s),r=new bx(e,n);t.push(r)}else if(null==s)this._viewContainer.remove(n);else{const r=this._viewContainer.get(n);this._viewContainer.move(r,s);const i=new bx(e,r);t.push(i)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,s=this._viewContainer.length;n<s;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=s,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}Cx.decorators=[{type:Yn,args:[{selector:"[ngFor][ngForOf]"}]}],Cx.ctorParameters=(()=>[{type:Vr},{type:Ln},{type:ii}]),Cx.propDecorators={ngForOf:[{type:ns}],ngForTrackBy:[{type:ns}],ngForTemplate:[{type:ns}]};class bx{constructor(e,t){this.record=e,this.view=t}}class Sx{constructor(e,t){this._viewContainer=e,this._context=new xx,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Tx("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Tx("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateGuard_ngIf(e,t){return!0}}Sx.decorators=[{type:Yn,args:[{selector:"[ngIf]"}]}],Sx.ctorParameters=(()=>[{type:Vr},{type:Ln}]),Sx.propDecorators={ngIf:[{type:ns}],ngIfThen:[{type:ns}],ngIfElse:[{type:ns}]};class xx{constructor(){this.$implicit=null,this.ngIf=null}}function Tx(e,t){if(!!(t&&!t.createEmbeddedView))throw new Error(`${e} must be a TemplateRef, but received '${je(t)}'.`)}class Ax{constructor(e,t){this._viewContainerRef=e,this._templateRef=t,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(e){e&&!this._created?this.create():!e&&this._created&&this.destroy()}}class Dx{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(e){this._ngSwitch=e,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(e){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(e)}_matchCase(e){const t=e==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||t,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),t}_updateDefaultCases(e){if(this._defaultViews&&e!==this._defaultUsed){this._defaultUsed=e;for(let t=0;t<this._defaultViews.length;t++){this._defaultViews[t].enforceState(e)}}}}Dx.decorators=[{type:Yn,args:[{selector:"[ngSwitch]"}]}],Dx.propDecorators={ngSwitch:[{type:ns}]};class Px{constructor(e,t,n){this.ngSwitch=n,n._addCase(),this._view=new Ax(e,t)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}Px.decorators=[{type:Yn,args:[{selector:"[ngSwitchCase]"}]}],Px.ctorParameters=(()=>[{type:Vr},{type:Ln},{type:Dx,decorators:[{type:We}]}]),Px.propDecorators={ngSwitchCase:[{type:ns}]};class kx{constructor(e,t,n){n._addDefault(new Ax(e,t))}}kx.decorators=[{type:Yn,args:[{selector:"[ngSwitchDefault]"}]}],kx.ctorParameters=(()=>[{type:Vr},{type:Ln},{type:Dx,decorators:[{type:We}]}]);class Nx{constructor(e){this._localization=e,this._caseViews={}}set ngPlural(e){this._switchValue=e,this._updateView()}addCase(e,t){this._caseViews[e]=t}_updateView(){this._clearViews();const e=Object.keys(this._caseViews),t=gx(this._switchValue,e,this._localization);this._activateView(this._caseViews[t])}_clearViews(){this._activeView&&this._activeView.destroy()}_activateView(e){e&&(this._activeView=e,this._activeView.create())}}Nx.decorators=[{type:Yn,args:[{selector:"[ngPlural]"}]}],Nx.ctorParameters=(()=>[{type:fx}]),Nx.propDecorators={ngPlural:[{type:ns}]};class Mx{constructor(e,t,n,s){this.value=e;const r=!isNaN(Number(e));s.addCase(r?`=${e}`:e,new Ax(n,t))}}Mx.decorators=[{type:Yn,args:[{selector:"[ngPluralCase]"}]}],Mx.ctorParameters=(()=>[{type:String,decorators:[{type:Ae,args:["ngPluralCase"]}]},{type:Ln},{type:Vr},{type:Nx,decorators:[{type:We}]}]);class Ix{constructor(e,t,n){this._differs=e,this._ngEl=t,this._renderer=n}set ngStyle(e){this._ngStyle=e,!this._differ&&e&&(this._differ=this._differs.find(e).create())}ngDoCheck(){if(this._differ){const e=this._differ.diff(this._ngStyle);e&&this._applyChanges(e)}}_applyChanges(e){e.forEachRemovedItem(e=>this._setStyle(e.key,null)),e.forEachAddedItem(e=>this._setStyle(e.key,e.currentValue)),e.forEachChangedItem(e=>this._setStyle(e.key,e.currentValue))}_setStyle(e,t){const[n,s]=e.split(".");null!=(t=null!=t&&s?`${t}${s}`:t)?this._renderer.setStyle(this._ngEl.nativeElement,n,t):this._renderer.removeStyle(this._ngEl.nativeElement,n)}}Ix.decorators=[{type:Yn,args:[{selector:"[ngStyle]"}]}],Ix.ctorParameters=(()=>[{type:oi},{type:Zt},{type:tn}]),Ix.propDecorators={ngStyle:[{type:ns}]};class Ox{constructor(e){this._viewContainerRef=e}ngOnChanges(e){this._shouldRecreateView(e)?(this._viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._viewRef)),this.ngTemplateOutlet&&(this._viewRef=this._viewContainerRef.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext))):this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)}_shouldRecreateView(e){const t=e.ngTemplateOutletContext;return!!e.ngTemplateOutlet||t&&this._hasContextShapeChanged(t)}_hasContextShapeChanged(e){const t=Object.keys(e.previousValue||{}),n=Object.keys(e.currentValue||{});if(t.length===n.length){for(let e of n)if(-1===t.indexOf(e))return!0;return!1}return!0}_updateExistingContext(e){for(let t of Object.keys(e))this._viewRef.context[t]=this.ngTemplateOutletContext[t]}}Ox.decorators=[{type:Yn,args:[{selector:"[ngTemplateOutlet]"}]}],Ox.ctorParameters=(()=>[{type:Vr}]),Ox.propDecorators={ngTemplateOutletContext:[{type:ns}],ngTemplateOutlet:[{type:ns}]};const Fx=[_x,wx,Cx,Sx,Ox,Ix,Dx,Px,kx,Nx,Mx];function Rx(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${je(e)}'`)}class Lx{static format(e,t,n,s={}){const{minimumIntegerDigits:r,minimumFractionDigits:i,maximumFractionDigits:o,currency:a,currencyAsSymbol:l=!1}=s,c={minimumIntegerDigits:r,minimumFractionDigits:i,maximumFractionDigits:o,style:yS[n].toLowerCase()};return n==yS.Currency&&(c.currency="string"==typeof a?a:void 0,c.currencyDisplay=l?"symbol":"code"),new Intl.NumberFormat(t,c).format(e)}}const $x=/((?:[^yMLdHhmsazZEwGjJ']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|L+|d+|H+|h+|J+|j+|m+|s+|a|z|Z|G+|w+))(.*)/,Vx={yMMMdjms:Zx(Qx([Gx("year",1),Kx("month",3),Gx("day",1),Gx("hour",1),Gx("minute",1),Gx("second",1)])),yMdjm:Zx(Qx([Gx("year",1),Gx("month",1),Gx("day",1),Gx("hour",1),Gx("minute",1)])),yMMMMEEEEd:Zx(Qx([Gx("year",1),Kx("month",4),Kx("weekday",4),Gx("day",1)])),yMMMMd:Zx(Qx([Gx("year",1),Kx("month",4),Gx("day",1)])),yMMMd:Zx(Qx([Gx("year",1),Kx("month",3),Gx("day",1)])),yMd:Zx(Qx([Gx("year",1),Gx("month",1),Gx("day",1)])),jms:Zx(Qx([Gx("hour",1),Gx("second",1),Gx("minute",1)])),jm:Zx(Qx([Gx("hour",1),Gx("minute",1)]))},Bx={yyyy:Zx(Gx("year",4)),yy:Zx(Gx("year",2)),y:Zx(Gx("year",1)),MMMM:Zx(Kx("month",4)),MMM:Zx(Kx("month",3)),MM:Zx(Gx("month",2)),M:Zx(Gx("month",1)),LLLL:Zx(Kx("month",4)),L:Zx(Kx("month",1)),dd:Zx(Gx("day",2)),d:Zx(Gx("day",1)),HH:Ux(Hx(Zx(Wx(Gx("hour",2),!1)))),H:Hx(Zx(Wx(Gx("hour",1),!1))),hh:Ux(Hx(Zx(Wx(Gx("hour",2),!0)))),h:Hx(Zx(Wx(Gx("hour",1),!0))),jj:Zx(Gx("hour",2)),j:Zx(Gx("hour",1)),mm:Ux(Zx(Gx("minute",2))),m:Zx(Gx("minute",1)),ss:Ux(Zx(Gx("second",2))),s:Zx(Gx("second",1)),sss:Zx(Gx("second",3)),EEEE:Zx(Kx("weekday",4)),EEE:Zx(Kx("weekday",3)),EE:Zx(Kx("weekday",2)),E:Zx(Kx("weekday",1)),a:(jx=Zx(Wx(Gx("hour",1),!0)),function(e,t){return jx(e,t).split(" ")[1]}),Z:zx("short"),z:zx("long"),ww:Zx({}),w:Zx({}),G:Zx(Kx("era",1)),GG:Zx(Kx("era",2)),GGG:Zx(Kx("era",3)),GGGG:Zx(Kx("era",4))};var jx;function Ux(e){return function(t,n){const s=e(t,n);return 1==s.length?"0"+s:s}}function Hx(e){return function(t,n){return e(t,n).split(" ")[0]}}function qx(e,t,n){return new Intl.DateTimeFormat(t,n).format(e).replace(/[\u200e\u200f]/g,"")}function zx(e){const t={hour:"2-digit",hour12:!1,timeZoneName:e};return function(e,n){const s=qx(e,n,t);return s?s.substring(3):""}}function Wx(e,t){return e.hour12=t,e}function Gx(e,t){const n={};return n[e]=2===t?"2-digit":"numeric",n}function Kx(e,t){const n={};return n[e]=t<4?t>1?"short":"narrow":"long",n}function Qx(e){return e.reduce((e,t)=>Object.assign({},e,t),{})}function Zx(e){return(t,n)=>qx(t,n,e)}const Xx=new Map;class Yx{static format(e,t,n){return function(e,t,n){const s=Vx[e];if(s)return s(t,n);const r=e;let i=Xx.get(r);if(!i){let t;i=[],$x.exec(e);let n=e;for(;n;)(t=$x.exec(n))?n=(i=i.concat(t.slice(1))).pop():(i.push(n),n=null);Xx.set(r,i)}return i.reduce((e,s)=>{const r=Bx[s];return e+(r?r(t,n):function(e){return"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}(s))},"")}(n,e,t)}}class Jx{constructor(e){this._locale=e}transform(e,t="mediumDate"){if(null==e||""===e||e!=e)return null;let n;if("string"==typeof e&&(e=e.trim()),eT(e))n=e;else if(isNaN(e-parseFloat(e)))if("string"==typeof e&&/^(\d{4}-\d{1,2}-\d{1,2})$/.test(e)){const[t,s,r]=e.split("-").map(e=>parseInt(e,10));n=new Date(t,s-1,r)}else n=new Date(e);else n=new Date(parseFloat(e));if(!eT(n)){let t;if("string"!=typeof e||!(t=e.match(RS)))throw Rx(Jx,e);n=JS(t)}return Yx.format(n,this._locale,Jx._ALIASES[t]||t)}}function eT(e){return e instanceof Date&&!isNaN(e.valueOf())}function tT(e,t,n,s,r,i=null,o=!1){if(null==n)return null;if("number"!=typeof(n="string"!=typeof n||isNaN(+n-parseFloat(n))?n:+n))throw Rx(e,n);let a,l,c;if(s!==yS.Currency&&(a=1,l=0,c=3),r){const e=r.match(tx);if(null===e)throw new Error(`${r} is not a valid digit info for number pipes`);null!=e[1]&&(a=px(e[1])),null!=e[3]&&(l=px(e[3])),null!=e[5]&&(c=px(e[5]))}return Lx.format(n,t,s,{minimumIntegerDigits:a,minimumFractionDigits:l,maximumFractionDigits:c,currency:i,currencyAsSymbol:o})}Jx._ALIASES={medium:"yMMMdjms",short:"yMdjm",fullDate:"yMMMMEEEEd",longDate:"yMMMMd",mediumDate:"yMMMd",shortDate:"yMd",mediumTime:"jms",shortTime:"jm"},Jx.decorators=[{type:es,args:[{name:"date",pure:!0}]}],Jx.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class nT{constructor(e){this._locale=e}transform(e,t){return tT(nT,this._locale,e,yS.Decimal,t)}}nT.decorators=[{type:es,args:[{name:"number"}]}],nT.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class sT{constructor(e){this._locale=e}transform(e,t){return tT(sT,this._locale,e,yS.Percent,t)}}sT.decorators=[{type:es,args:[{name:"percent"}]}],sT.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class rT{constructor(e){this._locale=e}transform(e,t="USD",n=!1,s){return tT(rT,this._locale,e,yS.Currency,s,t,n)}}rT.decorators=[{type:es,args:[{name:"currency"}]}],rT.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);const iT=[nT,sT,rT,Jx];const oT=new class{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}},aT=new class{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}};class lT{constructor(e){this._ref=e,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue===this._latestReturnedValue?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,nt.wrap(this._latestValue)):(e&&this._subscribe(e),this._latestReturnedValue=this._latestValue,this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(e){if(Hs(e))return oT;if(qs(e))return aT;throw Rx(lT,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}lT.decorators=[{type:es,args:[{name:"async",pure:!1}]}],lT.ctorParameters=(()=>[{type:jr}]);class cT{transform(e){if(!e)return e;if("string"!=typeof e)throw Rx(cT,e);return e.toLowerCase()}}cT.decorators=[{type:es,args:[{name:"lowercase"}]}];const uT=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0561-\u0587\u05D0-\u05EA\u05F0-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u08A0-\u08B4\u08B6-\u08BD\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D05-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E87\u0E88\u0E8A\u0E8D\u0E94-\u0E97\u0E99-\u0E9F\u0EA1-\u0EA3\u0EA5\u0EA7\u0EAA\u0EAB\u0EAD-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u170C\u170E-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1877\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4B\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1CE9-\u1CEC\u1CEE-\u1CF1\u1CF5\u1CF6\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2C2E\u2C30-\u2C5E\u2C60-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312E\u3131-\u318E\u31A0-\u31BA\u31F0-\u31FF\u3400-\u4DB5\u4E00-\u9FEA\uA000-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7AE\uA7B0-\uA7B7\uA7F7-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB65\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE33\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2]|\uD804[\uDC03-\uDC37\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDF00-\uDF19]|\uD806[\uDCA0-\uDCDF\uDCFF\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE83\uDE86-\uDE89\uDEC0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|[\uD80C\uD81C-\uD820\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDF00-\uDF44\uDF50\uDF93-\uDF9F\uDFE0\uDFE1]|\uD821[\uDC00-\uDFEC]|\uD822[\uDC00-\uDEF2]|\uD82C[\uDC00-\uDD1E\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D])\S*/g;class hT{transform(e){if(!e)return e;if("string"!=typeof e)throw Rx(hT,e);return e.replace(uT,e=>e[0].toUpperCase()+e.substr(1).toLowerCase())}}hT.decorators=[{type:es,args:[{name:"titlecase"}]}];class dT{transform(e){if(!e)return e;if("string"!=typeof e)throw Rx(dT,e);return e.toUpperCase()}}dT.decorators=[{type:es,args:[{name:"uppercase"}]}];class pT{constructor(e){this.locale=e}transform(e,t="mediumDate",n,s){if(null==e||""===e||e!=e)return null;try{return US(e,t,s||this.locale,n)}catch(r){throw Rx(pT,r.message)}}}pT.decorators=[{type:es,args:[{name:"date",pure:!0}]}],pT.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);const mT=/#/g;class fT{constructor(e){this._localization=e}transform(e,t,n){if(null==e)return"";if("object"!=typeof t||null===t)throw Rx(fT,t);return t[gx(e,Object.keys(t),this._localization,n)].replace(mT,e.toString())}}fT.decorators=[{type:es,args:[{name:"i18nPlural",pure:!0}]}],fT.ctorParameters=(()=>[{type:fx}]);class gT{transform(e,t){if(null==e)return"";if("object"!=typeof t||"string"!=typeof e)throw Rx(gT,t);return t.hasOwnProperty(e)?t[e]:t.hasOwnProperty("other")?t.other:""}}gT.decorators=[{type:es,args:[{name:"i18nSelect",pure:!0}]}];class vT{transform(e){return JSON.stringify(e,null,2)}}vT.decorators=[{type:es,args:[{name:"json",pure:!1}]}];class yT{constructor(e){this.differs=e}transform(e,t=function(e,t){const n=e.key,s=t.key;if(n===s)return 0;if(void 0===n)return 1;if(void 0===s)return-1;if(null===n)return 1;if(null===s)return-1;if("string"==typeof n&&"string"==typeof s)return n<s?-1:1;if("number"==typeof n&&"number"==typeof s)return n-s;if("boolean"==typeof n&&"boolean"==typeof s)return n<s?-1:1;const r=String(n),i=String(s);return r==i?0:r<i?-1:1}){if(!e||!(e instanceof Map)&&"object"!=typeof e)return null;this.differ||(this.differ=this.differs.find(e).create());const n=this.differ.diff(e);return n&&(this.keyValues=[],n.forEachItem(e=>{this.keyValues.push(function(e,t){return{key:e,value:t}}(e.key,e.currentValue))}),this.keyValues.sort(t)),this.keyValues}}yT.decorators=[{type:es,args:[{name:"keyvalue",pure:!1}]}],yT.ctorParameters=(()=>[{type:oi}]);class _T{constructor(e){this._locale=e}transform(e,t,n){if(CT(e))return null;n=n||this._locale;try{return function(e,t,n){return ux(e,dx(PS(t,yS.Decimal),DS(t,bS.MinusSign)),t,bS.Group,bS.Decimal,n)}(bT(e),n,t)}catch(s){throw Rx(_T,s.message)}}}_T.decorators=[{type:es,args:[{name:"number"}]}],_T.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class wT{constructor(e){this._locale=e}transform(e,t,n){if(CT(e))return null;n=n||this._locale;try{return function(e,t,n){return ux(e,dx(PS(t,yS.Percent),DS(t,bS.MinusSign)),t,bS.Group,bS.Decimal,n,!0).replace(new RegExp(cx,"g"),DS(t,bS.PercentSign))}(bT(e),n,t)}catch(s){throw Rx(wT,s.message)}}}wT.decorators=[{type:es,args:[{name:"percent"}]}],wT.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class ET{constructor(e){this._locale=e}transform(e,t,n="symbol",s,r){if(CT(e))return null;r=r||this._locale,"boolean"==typeof n&&(console&&console.warn&&console.warn('Warning: the currency pipe has been changed in Angular v5. The symbolDisplay option (third parameter) is now a string instead of a boolean. The accepted values are "code", "symbol" or "symbol-narrow".'),n=n?"symbol":"code");let i=t||"USD";"code"!==n&&(i="symbol"===n||"symbol-narrow"===n?OS(i,"symbol"===n?"wide":"narrow",r):n);try{return hx(bT(e),r,i,t,s)}catch(o){throw Rx(ET,o.message)}}}function CT(e){return null==e||""===e||e!=e}function bT(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(`${e} is not a number`);return e}ET.decorators=[{type:es,args:[{name:"currency"}]}],ET.ctorParameters=(()=>[{type:String,decorators:[{type:Ue,args:[di]}]}]);class ST{transform(e,t,n){if(null==e)return e;if(!this.supports(e))throw Rx(ST,e);return e.slice(t,n)}supports(e){return"string"==typeof e||Array.isArray(e)}}ST.decorators=[{type:es,args:[{name:"slice",pure:!1}]}];const xT=[lT,dT,cT,vT,ST,_T,wT,hT,ET,pT,fT,gT,yT];class TT{}TT.decorators=[{type:ds,args:[{declarations:[Fx,xT],exports:[Fx,xT],providers:[{provide:fx,useClass:vx}]}]}];const AT=function(e,t){"string"==typeof t&&(t=parseInt(t,10));const n=t,s=n.toString().replace(/^[^.]*\.?/,""),r=Math.floor(Math.abs(n)),i=s.length,o=parseInt(s,10),a=parseInt(n.toString().replace(/^[^.]*\.?|0+$/g,""),10)||0;switch(e.split("-")[0].toLowerCase()){case"af":case"asa":case"az":case"bem":case"bez":case"bg":case"brx":case"ce":case"cgg":case"chr":case"ckb":case"ee":case"el":case"eo":case"es":case"eu":case"fo":case"fur":case"gsw":case"ha":case"haw":case"hu":case"jgo":case"jmc":case"ka":case"kk":case"kkj":case"kl":case"ks":case"ksb":case"ky":case"lb":case"lg":case"mas":case"mgo":case"ml":case"mn":case"nb":case"nd":case"ne":case"nn":case"nnh":case"nyn":case"om":case"or":case"os":case"ps":case"rm":case"rof":case"rwk":case"saq":case"seh":case"sn":case"so":case"sq":case"ta":case"te":case"teo":case"tk":case"tr":case"ug":case"uz":case"vo":case"vun":case"wae":case"xog":return 1===n?_S.One:_S.Other;case"ak":case"ln":case"mg":case"pa":case"ti":return n===Math.floor(n)&&n>=0&&n<=1?_S.One:_S.Other;case"am":case"as":case"bn":case"fa":case"gu":case"hi":case"kn":case"mr":case"zu":return 0===r||1===n?_S.One:_S.Other;case"ar":return 0===n?_S.Zero:1===n?_S.One:2===n?_S.Two:n%100===Math.floor(n%100)&&n%100>=3&&n%100<=10?_S.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=99?_S.Many:_S.Other;case"ast":case"ca":case"de":case"en":case"et":case"fi":case"fy":case"gl":case"it":case"nl":case"sv":case"sw":case"ur":case"yi":return 1===r&&0===i?_S.One:_S.Other;case"be":return n%10==1&&n%100!=11?_S.One:n%10===Math.floor(n%10)&&n%10>=2&&n%10<=4&&!(n%100>=12&&n%100<=14)?_S.Few:n%10==0||n%10===Math.floor(n%10)&&n%10>=5&&n%10<=9||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=14?_S.Many:_S.Other;case"br":return n%10==1&&n%100!=11&&n%100!=71&&n%100!=91?_S.One:n%10==2&&n%100!=12&&n%100!=72&&n%100!=92?_S.Two:n%10===Math.floor(n%10)&&(n%10>=3&&n%10<=4||n%10==9)&&!(n%100>=10&&n%100<=19||n%100>=70&&n%100<=79||n%100>=90&&n%100<=99)?_S.Few:0!==n&&n%1e6==0?_S.Many:_S.Other;case"bs":case"hr":case"sr":return 0===i&&r%10==1&&r%100!=11||o%10==1&&o%100!=11?_S.One:0===i&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)||o%10===Math.floor(o%10)&&o%10>=2&&o%10<=4&&!(o%100>=12&&o%100<=14)?_S.Few:_S.Other;case"cs":case"sk":return 1===r&&0===i?_S.One:r===Math.floor(r)&&r>=2&&r<=4&&0===i?_S.Few:0!==i?_S.Many:_S.Other;case"cy":return 0===n?_S.Zero:1===n?_S.One:2===n?_S.Two:3===n?_S.Few:6===n?_S.Many:_S.Other;case"da":return 1===n||0!==a&&(0===r||1===r)?_S.One:_S.Other;case"dsb":case"hsb":return 0===i&&r%100==1||o%100==1?_S.One:0===i&&r%100==2||o%100==2?_S.Two:0===i&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||o%100===Math.floor(o%100)&&o%100>=3&&o%100<=4?_S.Few:_S.Other;case"ff":case"fr":case"hy":case"kab":return 0===r||1===r?_S.One:_S.Other;case"fil":return 0===i&&(1===r||2===r||3===r)||0===i&&r%10!=4&&r%10!=6&&r%10!=9||0!==i&&o%10!=4&&o%10!=6&&o%10!=9?_S.One:_S.Other;case"ga":return 1===n?_S.One:2===n?_S.Two:n===Math.floor(n)&&n>=3&&n<=6?_S.Few:n===Math.floor(n)&&n>=7&&n<=10?_S.Many:_S.Other;case"gd":return 1===n||11===n?_S.One:2===n||12===n?_S.Two:n===Math.floor(n)&&(n>=3&&n<=10||n>=13&&n<=19)?_S.Few:_S.Other;case"gv":return 0===i&&r%10==1?_S.One:0===i&&r%10==2?_S.Two:0!==i||r%100!=0&&r%100!=20&&r%100!=40&&r%100!=60&&r%100!=80?0!==i?_S.Many:_S.Other:_S.Few;case"he":return 1===r&&0===i?_S.One:2===r&&0===i?_S.Two:0!==i||n>=0&&n<=10||n%10!=0?_S.Other:_S.Many;case"is":return 0===a&&r%10==1&&r%100!=11||0!==a?_S.One:_S.Other;case"ksh":return 0===n?_S.Zero:1===n?_S.One:_S.Other;case"kw":case"naq":case"se":case"smn":return 1===n?_S.One:2===n?_S.Two:_S.Other;case"lag":return 0===n?_S.Zero:0!==r&&1!==r||0===n?_S.Other:_S.One;case"lt":return n%10!=1||n%100>=11&&n%100<=19?n%10===Math.floor(n%10)&&n%10>=2&&n%10<=9&&!(n%100>=11&&n%100<=19)?_S.Few:0!==o?_S.Many:_S.Other:_S.One;case"lv":case"prg":return n%10==0||n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19||2===i&&o%100===Math.floor(o%100)&&o%100>=11&&o%100<=19?_S.Zero:n%10==1&&n%100!=11||2===i&&o%10==1&&o%100!=11||2!==i&&o%10==1?_S.One:_S.Other;case"mk":return 0===i&&r%10==1||o%10==1?_S.One:_S.Other;case"mt":return 1===n?_S.One:0===n||n%100===Math.floor(n%100)&&n%100>=2&&n%100<=10?_S.Few:n%100===Math.floor(n%100)&&n%100>=11&&n%100<=19?_S.Many:_S.Other;case"pl":return 1===r&&0===i?_S.One:0===i&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?_S.Few:0===i&&1!==r&&r%10===Math.floor(r%10)&&r%10>=0&&r%10<=1||0===i&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===i&&r%100===Math.floor(r%100)&&r%100>=12&&r%100<=14?_S.Many:_S.Other;case"pt":return n===Math.floor(n)&&n>=0&&n<=2&&2!==n?_S.One:_S.Other;case"ro":return 1===r&&0===i?_S.One:0!==i||0===n||1!==n&&n%100===Math.floor(n%100)&&n%100>=1&&n%100<=19?_S.Few:_S.Other;case"ru":case"uk":return 0===i&&r%10==1&&r%100!=11?_S.One:0===i&&r%10===Math.floor(r%10)&&r%10>=2&&r%10<=4&&!(r%100>=12&&r%100<=14)?_S.Few:0===i&&r%10==0||0===i&&r%10===Math.floor(r%10)&&r%10>=5&&r%10<=9||0===i&&r%100===Math.floor(r%100)&&r%100>=11&&r%100<=14?_S.Many:_S.Other;case"shi":return 0===r||1===n?_S.One:n===Math.floor(n)&&n>=2&&n<=10?_S.Few:_S.Other;case"si":return 0===n||1===n||0===r&&1===o?_S.One:_S.Other;case"sl":return 0===i&&r%100==1?_S.One:0===i&&r%100==2?_S.Two:0===i&&r%100===Math.floor(r%100)&&r%100>=3&&r%100<=4||0!==i?_S.Few:_S.Other;case"tzm":return n===Math.floor(n)&&n>=0&&n<=1||n===Math.floor(n)&&n>=11&&n<=99?_S.One:_S.Other;default:return _S.Other}};(class{}).decorators=[{type:ds,args:[{declarations:[iT],exports:[iT],providers:[{provide:mx,useValue:AT}]}]}];const DT=new ye("DocumentToken"),PT="browser",kT="server";new sn("7.1.1");class NT{}NT.ngInjectableDef=fe({providedIn:"root",factory:()=>new MT(Xe(DT),window)});class MT{constructor(e,t){this.document=e,this.window=t,this.offset=(()=>[0,0])}setOffset(e){Array.isArray(e)?this.offset=(()=>e):this.offset=e}getScrollPosition(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportScrollRestoration()){const t=this.document.querySelector(`#${e}`);if(t)return void this.scrollToElement(t);const n=this.document.querySelector(`[name='${e}']`);if(n)return void this.scrollToElement(n)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],s-r[1])}supportScrollRestoration(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}let IT=null;function OT(){return IT}class FT{constructor(){this.resourceLoaderType=null}get attrToPropMap(){return this._attrToPropMap}set attrToPropMap(e){this._attrToPropMap=e}}class RT extends FT{constructor(){super(),this._animationPrefix=null,this._transitionEnd=null;try{const t=this.createElement("div",document);if(null!=this.getStyle(t,"animationName"))this._animationPrefix="";else{const e=["Webkit","Moz","O","ms"];for(let n=0;n<e.length;n++)if(null!=this.getStyle(t,e[n]+"AnimationName")){this._animationPrefix="-"+e[n].toLowerCase()+"-";break}}const n={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(n).forEach(e=>{null!=this.getStyle(t,e)&&(this._transitionEnd=n[e])})}catch(e){this._animationPrefix=null,this._transitionEnd=null}}getDistributedNodes(e){return e.getDistributedNodes()}resolveAndSetHref(e,t,n){e.href=null==n?t:t+"/../"+n}supportsDOMEvents(){return!0}supportsNativeShadowDOM(){return"function"==typeof document.body.createShadowRoot}getAnimationPrefix(){return this._animationPrefix?this._animationPrefix:""}getTransitionEnd(){return this._transitionEnd?this._transitionEnd:""}supportsAnimation(){return null!=this._animationPrefix&&null!=this._transitionEnd}}const LT={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},$T=3,VT={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},BT={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"};let jT;Fe.Node&&(jT=Fe.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))});class UT extends RT{parse(e){throw new Error("parse not implemented")}static makeCurrent(){var e;e=new UT,IT||(IT=e)}hasProperty(e,t){return t in e}setProperty(e,t,n){e[t]=n}getProperty(e,t){return e[t]}invoke(e,t,n){e[t](...n)}logError(e){window.console&&(console.error?console.error(e):console.log(e))}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}get attrToPropMap(){return LT}contains(e,t){return jT.call(e,t)}querySelector(e,t){return e.querySelector(t)}querySelectorAll(e,t){return e.querySelectorAll(t)}on(e,t,n){e.addEventListener(t,n,!1)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}createMouseEvent(e){const t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}createEvent(e){const t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}preventDefault(e){e.preventDefault(),e.returnValue=!1}isPrevented(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}getInnerHTML(e){return e.innerHTML}getTemplateContent(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}getOuterHTML(e){return e.outerHTML}nodeName(e){return e.nodeName}nodeValue(e){return e.nodeValue}type(e){return e.type}content(e){return this.hasProperty(e,"content")?e.content:e}firstChild(e){return e.firstChild}nextSibling(e){return e.nextSibling}parentElement(e){return e.parentNode}childNodes(e){return e.childNodes}childNodesAsList(e){const t=e.childNodes,n=new Array(t.length);for(let s=0;s<t.length;s++)n[s]=t[s];return n}clearNodes(e){for(;e.firstChild;)e.removeChild(e.firstChild)}appendChild(e,t){e.appendChild(t)}removeChild(e,t){e.removeChild(t)}replaceChild(e,t,n){e.replaceChild(t,n)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}insertBefore(e,t,n){e.insertBefore(n,t)}insertAllBefore(e,t,n){n.forEach(n=>e.insertBefore(n,t))}insertAfter(e,t,n){e.insertBefore(n,t.nextSibling)}setInnerHTML(e,t){e.innerHTML=t}getText(e){return e.textContent}setText(e,t){e.textContent=t}getValue(e){return e.value}setValue(e,t){e.value=t}getChecked(e){return e.checked}setChecked(e,t){e.checked=t}createComment(e){return this.getDefaultDocument().createComment(e)}createTemplate(e){const t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createElementNS(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}createTextNode(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}createScriptTag(e,t,n){const s=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return s.setAttribute(e,t),s}createStyleElement(e,t){const n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}createShadowRoot(e){return e.createShadowRoot()}getShadowRoot(e){return e.shadowRoot}getHost(e){return e.host}clone(e){return e.cloneNode(!0)}getElementsByClassName(e,t){return e.getElementsByClassName(t)}getElementsByTagName(e,t){return e.getElementsByTagName(t)}classList(e){return Array.prototype.slice.call(e.classList,0)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}hasClass(e,t){return e.classList.contains(t)}setStyle(e,t,n){e.style[t]=n}removeStyle(e,t){e.style[t]=""}getStyle(e,t){return e.style[t]}hasStyle(e,t,n){const s=this.getStyle(e,t)||"";return n?s==n:s.length>0}tagName(e){return e.tagName}attributeMap(e){const t=new Map,n=e.attributes;for(let s=0;s<n.length;s++){const e=n.item(s);t.set(e.name,e.value)}return t}hasAttribute(e,t){return e.hasAttribute(t)}hasAttributeNS(e,t,n){return e.hasAttributeNS(t,n)}getAttribute(e,t){return e.getAttribute(t)}getAttributeNS(e,t,n){return e.getAttributeNS(t,n)}setAttribute(e,t,n){e.setAttribute(t,n)}setAttributeNS(e,t,n,s){e.setAttributeNS(t,n,s)}removeAttribute(e,t){e.removeAttribute(t)}removeAttributeNS(e,t,n){e.removeAttributeNS(t,n)}templateAwareRoot(e){return this.isTemplateElement(e)?this.content(e):e}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}getBoundingClientRect(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}getTitle(e){return e.title}setTitle(e,t){e.title=t||""}elementMatches(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}isTemplateElement(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}isTextNode(e){return e.nodeType===Node.TEXT_NODE}isCommentNode(e){return e.nodeType===Node.COMMENT_NODE}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}hasShadowRoot(e){return null!=e.shadowRoot&&e instanceof HTMLElement}isShadowRoot(e){return e instanceof DocumentFragment}importIntoDoc(e){return document.importNode(this.templateAwareRoot(e),!0)}adoptNode(e){return document.adoptNode(e)}getHref(e){return e.getAttribute("href")}getEventKey(e){let t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),e.location===$T&&BT.hasOwnProperty(t)&&(t=BT[t]))}return VT[t]||t}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=function(){if(!qT&&!(qT=document.querySelector("base")))return null;return qT.getAttribute("href")}();return null==t?null:function(e){HT||(HT=document.createElement("a"));return HT.setAttribute("href",e),"/"===HT.pathname.charAt(0)?HT.pathname:"/"+HT.pathname}(t)}resetBaseElement(){qT=null}getUserAgent(){return window.navigator.userAgent}setData(e,t,n){this.setAttribute(e,"data-"+t,n)}getData(e,t){return this.getAttribute(e,"data-"+t)}getComputedStyle(e){return getComputedStyle(e)}supportsWebAnimation(){return"function"==typeof Element.prototype.animate}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return yx(document.cookie,e)}setCookie(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}}let HT,qT=null;const zT=DT;function WT(){return!!window.history.pushState}class GT extends oS{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=OT().getLocation(),this._history=OT().getHistory()}getBaseHrefFromDOM(){return OT().getBaseHref(this._doc)}onPopState(e){OT().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){OT().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){WT()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){WT()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}}GT.decorators=[{type:ms}],GT.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]);const KT=new ye("TRANSITION_ID");const QT=[{provide:zs,useFactory:function(e,t,n){return()=>{n.get(Ws).donePromise.then(()=>{const n=OT();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter(t=>n.getAttribute(t,"ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[KT,zT,gt],multi:!0}];class ZT{static init(){var e;e=new ZT,wr=e}addToWindow(e){Fe.getAngularTestability=((t,n=!0)=>{const s=e.findTestabilityInTree(t,n);if(null==s)throw new Error("Could not find testability for element.");return s}),Fe.getAllAngularTestabilities=(()=>e.getAllTestabilities()),Fe.getAllAngularRootElements=(()=>e.getAllRootElements());Fe.frameworkStabilizers||(Fe.frameworkStabilizers=[]),Fe.frameworkStabilizers.push(e=>{const t=Fe.getAllAngularTestabilities();let n=t.length,s=!1;const r=function(t){s=s||t,0==--n&&e(s)};t.forEach(function(e){e.whenStable(r)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const s=e.getTestability(t);return null!=s?s:n?OT().isShadowRoot(t)?this.findTestabilityInTree(e,OT().getHost(t),!0):this.findTestabilityInTree(e,OT().parentElement(t),!0):null}}function XT(e,t){if("undefined"==typeof COMPILED||!COMPILED){(Fe.ng=Fe.ng||{})[e]=t}}const YT={ApplicationRef:Dr,NgZone:ur},JT="probe",eA="coreTokens";function tA(e){return Gr(e)}const nA=[{provide:zs,useFactory:function(e){return XT(JT,tA),XT(eA,Object.assign({},YT,(e||[]).reduce((e,t)=>(e[t.name]=t.token,e),{}))),()=>tA},deps:[[br,new He]],multi:!0}],sA=new ye("EventManagerPlugins");class rA{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let s=0;s<n.length;s++){const t=n[s];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}rA.decorators=[{type:ms}],rA.ctorParameters=(()=>[{type:Array,decorators:[{type:Ue,args:[sA]}]},{type:ur}]);class iA{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const s=OT().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,n)}}class oA{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}oA.decorators=[{type:ms}];class aA extends oA{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>OT().remove(e))}}aA.decorators=[{type:ms}],aA.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]);const lA={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},cA=/%COMP%/g,uA="_nghost-%COMP%",hA="_ngcontent-%COMP%";function dA(e,t,n){for(let s=0;s<t.length;s++){let r=t[s];Array.isArray(r)?dA(e,r,n):(r=r.replace(cA,e),n.push(r))}return n}function pA(e){return t=>{!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}class mA{constructor(e,t){this.eventManager=e,this.sharedStylesHost=t,this.rendererByCompId=new Map,this.defaultRenderer=new fA(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case Me.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new yA(this.eventManager,this.sharedStylesHost,t),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case Me.Native:case Me.ShadowDom:return new _A(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=dA(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}mA.decorators=[{type:ms}],mA.ctorParameters=(()=>[{type:rA},{type:aA}]);class fA{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(lA[t],e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,s){if(s){t=`${s}:${t}`;const r=lA[s];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const s=lA[n];s?e.removeAttributeNS(s,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,s){s&en.DashCase?e.style.setProperty(t,n,s&en.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&en.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){vA(t,"property"),e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return vA(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,pA(n)):this.eventManager.addEventListener(e,t,pA(n))}}const gA="@".charCodeAt(0);function vA(e,t){if(e.charCodeAt(0)===gA)throw new Error(`Found the synthetic ${t} ${e}. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.`)}class yA extends fA{constructor(e,t,n){super(e),this.component=n;const s=dA(n.id,n.styles,[]);var r;t.addStyles(s),this.contentAttr=(r=n.id,hA.replace(cA,r)),this.hostAttr=function(e){return uA.replace(cA,e)}(n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class _A extends fA{constructor(e,t,n,s){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=s,s.encapsulation===Me.ShadowDom?this.shadowRoot=n.attachShadow({mode:"open"}):this.shadowRoot=n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=dA(s.id,s.styles,[]);for(let i=0;i<r.length;i++){const e=document.createElement("style");e.textContent=r[i],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}const wA="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},EA=wA("addEventListener"),CA=wA("removeEventListener"),bA={},SA="FALSE",xA="ANGULAR",TA="addEventListener",AA="removeEventListener",DA="__zone_symbol__propagationStopped",PA="__zone_symbol__stopImmediatePropagation",kA="undefined"!=typeof Zone&&Zone[wA("BLACK_LISTED_EVENTS")];let NA;kA&&(NA={},kA.forEach(e=>{NA[e]=e}));const MA=function(e){return!!NA&&NA.hasOwnProperty(e)},IA=function(e){const t=bA[e.type];if(!t)return;const n=this[t];if(!n)return;const s=[e];if(1===n.length){const e=n[0];return e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}{const t=n.slice();for(let n=0;n<t.length&&!0!==e[DA];n++){const e=t[n];e.zone!==Zone.current?e.zone.run(e.handler,this,s):e.handler.apply(this,s)}}};class OA extends iA{constructor(e,t,n){super(e),this.ngZone=t,n&&function(e){return e===kT}(n)||this.patchEvent()}patchEvent(){if("undefined"==typeof Event||!Event||!Event.prototype)return;if(Event.prototype[PA])return;const e=Event.prototype[PA]=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[DA]=!0),e&&e.apply(this,arguments)}}supports(e){return!0}addEventListener(e,t,n){const s=e[EA];let r=n;if(!s||ur.isInAngularZone()&&!MA(t))e[TA](t,r,!1);else{let n=bA[t];n||(n=bA[t]=wA(xA+t+SA));let s=e[n];const i=s&&s.length>0;s||(s=e[n]=[]);const o=MA(t)?Zone.root:Zone.current;if(0===s.length)s.push({zone:o,handler:r});else{let e=!1;for(let t=0;t<s.length;t++)if(s[t].handler===r){e=!0;break}e||s.push({zone:o,handler:r})}i||e[EA](t,IA,!1)}return()=>this.removeEventListener(e,t,r)}removeEventListener(e,t,n){let s=e[CA];if(!s)return e[AA].apply(e,[t,n,!1]);let r=bA[t],i=r&&e[r];if(!i)return e[AA].apply(e,[t,n,!1]);let o=!1;for(let a=0;a<i.length;a++)if(i[a].handler===n){o=!0,i.splice(a,1);break}o?0===i.length&&s.apply(e,[t,IA,!1]):e[AA].apply(e,[t,n,!1])}}OA.decorators=[{type:ms}],OA.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]},{type:ur},{type:void 0,decorators:[{type:He},{type:Ue,args:[Xs]}]}]);const FA={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},RA=new ye("HammerGestureConfig"),LA=new ye("HammerLoader");class $A{constructor(){this.events=[],this.overrides={}}buildHammer(e){const t=new Hammer(e,this.options);t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0});for(const n in this.overrides)t.get(n).set(this.overrides[n]);return t}}$A.decorators=[{type:ms}];class VA extends iA{constructor(e,t,n,s){super(e),this._config=t,this.console=n,this.loader=s}supports(e){return!(!FA.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e))&&(!(!window.Hammer&&!this.loader)||(this.console.warn(`The "${e}" event cannot be bound because Hammer.JS is not `+"loaded and no custom loader has been specified."),!1))}addEventListener(e,t,n){const s=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){let s=!1,r=()=>{s=!0};return this.loader().then(()=>{if(!window.Hammer)return this.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(r=(()=>{}));s||(r=this.addEventListener(e,t,n))}).catch(()=>{this.console.warn(`The "${t}" event cannot be bound because the custom `+"Hammer.JS loader failed."),r=(()=>{})}),()=>{r()}}return s.runOutsideAngular(()=>{const r=this._config.buildHammer(e),i=function(e){s.runGuarded(function(){n(e)})};return r.on(t,i),()=>{r.off(t,i),"function"==typeof r.destroy&&r.destroy()}})}isCustomEvent(e){return this._config.events.indexOf(e)>-1}}VA.decorators=[{type:ms}],VA.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]},{type:$A,decorators:[{type:Ue,args:[RA]}]},{type:er},{type:void 0,decorators:[{type:He},{type:Ue,args:[LA]}]}]);const BA=["alt","control","meta","shift"],jA={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};class UA extends iA{constructor(e){super(e)}supports(e){return null!=UA.parseEventName(e)}addEventListener(e,t,n){const s=UA.parseEventName(t),r=UA.eventCallback(s.fullKey,n,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>OT().onAndCancel(e,s.domEventName,r))}static parseEventName(e){const t=e.toLowerCase().split("."),n=t.shift();if(0===t.length||"keydown"!==n&&"keyup"!==n)return null;const s=UA._normalizeKey(t.pop());let r="";if(BA.forEach(e=>{const n=t.indexOf(e);n>-1&&(t.splice(n,1),r+=e+".")}),r+=s,0!=t.length||0===s.length)return null;const i={};return i.domEventName=n,i.fullKey=r,i}static getEventFullKey(e){let t="",n=OT().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),BA.forEach(s=>{if(s!=n){(0,jA[s])(e)&&(t+=s+".")}}),t+=n}static eventCallback(e,t,n){return s=>{UA.getEventFullKey(s)===e&&n.runGuarded(()=>t(s))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}UA.decorators=[{type:ms}],UA.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]);class HA{}class qA extends HA{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case Vn.NONE:return t;case Vn.HTML:return t instanceof WA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),In(this._doc,String(t)));case Vn.STYLE:return t instanceof GA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),Hn(t));case Vn.SCRIPT:if(t instanceof KA)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case Vn.URL:return t instanceof ZA||t instanceof QA?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),pn(String(t)));case Vn.RESOURCE_URL:if(t instanceof ZA)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}checkNotSafeValue(e,t){if(e instanceof zA)throw new Error(`Required a safe ${t}, got a ${e.getTypeName()} `+"(see http://g.co/ng/security#xss)")}bypassSecurityTrustHtml(e){return new WA(e)}bypassSecurityTrustStyle(e){return new GA(e)}bypassSecurityTrustScript(e){return new KA(e)}bypassSecurityTrustUrl(e){return new QA(e)}bypassSecurityTrustResourceUrl(e){return new ZA(e)}}qA.decorators=[{type:ms}],qA.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]);class zA{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity}`+" (see http://g.co/ng/security#xss)"}}class WA extends zA{getTypeName(){return"HTML"}}class GA extends zA{getTypeName(){return"Style"}}class KA extends zA{getTypeName(){return"Script"}}class QA extends zA{getTypeName(){return"URL"}}class ZA extends zA{getTypeName(){return"ResourceURL"}}const XA=[{provide:Xs,useValue:PT},{provide:Zs,useValue:function(){UT.makeCurrent(),ZT.init()},multi:!0},{provide:oS,useClass:GT,deps:[zT]},{provide:zT,useFactory:function(){return document},deps:[]}],YA=[{provide:Bn,useExisting:HA},{provide:HA,useClass:qA,deps:[zT]}];Sr(hi,"browser",XA);const JA=[YA,{provide:Ut,useValue:!0},{provide:Cs,useFactory:function(){return new Cs},deps:[]},{provide:sA,useClass:OA,multi:!0,deps:[zT,ur,Xs]},{provide:sA,useClass:UA,multi:!0,deps:[zT]},{provide:sA,useClass:VA,multi:!0,deps:[zT,RA,er,[new He,LA]]},{provide:RA,useClass:$A,deps:[]},{provide:mA,useClass:mA,deps:[rA,aA]},{provide:Jt,useExisting:mA},{provide:oA,useExisting:aA},{provide:aA,useClass:aA,deps:[zT]},{provide:vr,useClass:vr,deps:[ur]},{provide:rA,useClass:rA,deps:[sA,ur]},nA];class eD{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:eD,providers:[{provide:Gs,useValue:e.appId},{provide:KT,useExisting:Gs},QT]}}}function tD(){return new nD(Xe(zT))}eD.decorators=[{type:ds,args:[{providers:JA,exports:[TT,vi]}]}],eD.ctorParameters=(()=>[{type:void 0,decorators:[{type:He},{type:ze},{type:Ue,args:[eD]}]}]);class nD{constructor(e){this._doc=e,this._dom=OT()}addTag(e,t=!1){return e?this._getOrCreateElement(e,t):null}addTags(e,t=!1){return e?e.reduce((e,n)=>(n&&e.push(this._getOrCreateElement(n,t)),e),[]):[]}getTag(e){return e&&this._dom.querySelector(this._doc,`meta[${e}]`)||null}getTags(e){if(!e)return[];const t=this._dom.querySelectorAll(this._doc,`meta[${e}]`);return t?[].slice.call(t):[]}updateTag(e,t){if(!e)return null;t=t||this._parseSelector(e);const n=this.getTag(t);return n?this._setMetaElementAttributes(e,n):this._getOrCreateElement(e,!0)}removeTag(e){this.removeTagElement(this.getTag(e))}removeTagElement(e){e&&this._dom.remove(e)}_getOrCreateElement(e,t=!1){if(!t){const t=this._parseSelector(e),n=this.getTag(t);if(n&&this._containsAttributes(e,n))return n}const n=this._dom.createElement("meta");this._setMetaElementAttributes(e,n);const s=this._dom.getElementsByTagName(this._doc,"head")[0];return this._dom.appendChild(s,n),n}_setMetaElementAttributes(e,t){return Object.keys(e).forEach(n=>this._dom.setAttribute(t,n,e[n])),t}_parseSelector(e){const t=e.name?"name":"property";return`${t}="${e[t]}"`}_containsAttributes(e,t){return Object.keys(e).every(n=>this._dom.getAttribute(t,n)===e[n])}}function sD(){return new rD(Xe(zT))}nD.decorators=[{type:ms,args:[{providedIn:"root",useFactory:tD,deps:[]}]}],nD.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]),nD.ngInjectableDef=fe({factory:tD,token:nD,providedIn:"root"});class rD{constructor(e){this._doc=e}getTitle(){return OT().getTitle(this._doc)}setTitle(e){OT().setTitle(this._doc,e)}}rD.decorators=[{type:ms,args:[{providedIn:"root",useFactory:sD,deps:[]}]}],rD.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[zT]}]}]),rD.ngInjectableDef=fe({factory:sD,token:rD,providedIn:"root"});"undefined"!=typeof window&&window;class iD{constructor(){this.store={},this.onSerializeCallbacks={}}static init(e){const t=new iD;return t.store=e,t}get(e,t){return void 0!==this.store[e]?this.store[e]:t}set(e,t){this.store[e]=t}remove(e){delete this.store[e]}hasKey(e){return this.store.hasOwnProperty(e)}onSerialize(e,t){this.onSerializeCallbacks[e]=t}toJson(){for(const t in this.onSerializeCallbacks)if(this.onSerializeCallbacks.hasOwnProperty(t))try{this.store[t]=this.onSerializeCallbacks[t]()}catch(e){console.warn("Exception in onSerialize callback: ",e)}return JSON.stringify(this.store)}}iD.decorators=[{type:ms}];(class{}).decorators=[{type:ds,args:[{providers:[{provide:iD,useFactory:function(e,t){const n=e.getElementById(t+"-state");let s={};if(n&&n.textContent)try{s=JSON.parse(function(e){const t={"&a;":"&","&q;":'"',"&s;":"'","&l;":"<","&g;":">"};return e.replace(/&[^;]+;/g,e=>t[e])}(n.textContent))}catch(r){console.warn("Exception while restoring TransferState for app "+t,r)}return iD.init(s)},deps:[zT,Gs]}]}]}];new sn("7.1.1");const oD="",aD=function(){const e=new Map;return e.set($h.ANALYZE_FOR_ENTRY_COMPONENTS,Te),e.set($h.ElementRef,Zt),e.set($h.NgModuleRef,It),e.set($h.ViewContainerRef,Vr),e.set($h.ChangeDetectorRef,jr),e.set($h.Renderer2,tn),e.set($h.QueryList,Ir),e.set($h.TemplateRef,Ln),e.set($h.CodegenComponentFactoryResolver,Kt),e.set($h.ComponentFactoryResolver,Gt),e.set($h.ComponentFactory,qt),e.set($h.ComponentRef,Ht),e.set($h.NgModuleFactory,Ot),e.set($h.createModuleFactory,Wl),e.set($h.moduleDef,To),e.set($h.moduleProviderDef,xo),e.set($h.RegisterModuleFactoryFn,Mr),e.set($h.Injector,gt),e.set($h.ViewEncapsulation,Me),e.set($h.ChangeDetectionStrategy,ke),e.set($h.SecurityContext,Vn),e.set($h.LOCALE_ID,di),e.set($h.TRANSLATIONS_FORMAT,mi),e.set($h.inlineInterpolate,uo),e.set($h.interpolate,co),e.set($h.EMPTY_ARRAY,po),e.set($h.EMPTY_MAP,mo),e.set($h.Renderer,Yt),e.set($h.viewDef,La),e.set($h.elementDef,go),e.set($h.anchorDef,fo),e.set($h.textDef,Oa),e.set($h.directiveDef,oa),e.set($h.providerDef,la),e.set($h.queryDef,ba),e.set($h.pureArrayDef,Na),e.set($h.pureObjectDef,Ma),e.set($h.purePipeDef,ka),e.set($h.pipeDef,aa),e.set($h.nodeValue,Go),e.set($h.ngContentDef,Da),e.set($h.unwrapValue,Ii),e.set($h.createRendererType2,Ri),e.set($h.createComponentFactory,Ro),e}();const lD=new ye("ErrorCollector"),cD={provide:Js,useValue:"/"},uD={get(e){throw new Error(`No ResourceLoader implementation has been provided. Can't read the url "${e}"`)}},hD=new ye("HtmlParser");const dD=[{provide:Jb,useValue:new class{constructor(){this.reflectionCapabilities=new Qn}componentModuleUrl(e,t){const n=t.moduleId;if("string"==typeof n)return function(e){const t=sS(e);return t&&t[nS.Scheme]||""}(n)?n:`package:${n}${oD}`;if(null!=n)throw yh(`moduleId should be a string in "${je(e)}". See https://goo.gl/wIDDiL for more information.\n`+"If you're using Webpack you should inline the template and the styles, see https://goo.gl/X2J8zc.");return`./${je(e)}`}parameters(e){return this.reflectionCapabilities.parameters(e)}tryAnnotations(e){return this.annotations(e)}annotations(e){return this.reflectionCapabilities.annotations(e)}shallowAnnotations(e){throw new Error("Not supported in JIT mode")}propMetadata(e){return this.reflectionCapabilities.propMetadata(e)}hasLifecycleHook(e,t){return this.reflectionCapabilities.hasLifecycleHook(e,t)}guards(e){return this.reflectionCapabilities.guards(e)}resolveExternalReference(e){return aD.get(e)||e.runtime}}},{provide:iS,useValue:uD},{provide:jb,deps:[]},{provide:Bb,useExisting:jb},{provide:er,deps:[]},{provide:gv,deps:[]},{provide:Ov,deps:[gv]},{provide:hD,useClass:uy,deps:[]},{provide:lC,useFactory:(e,t,n,s,r)=>{const i=(t=t||"")?s.missingTranslation:fi.Ignore;return new lC(e,t,n,i,r)},deps:[hD,[new He,new Ue(pi)],[new He,new Ue(mi)],[nE],[er]]},{provide:uy,useExisting:lC},{provide:cb,deps:[nE,Jb,Ov,Cy,lC,er]},{provide:rE,deps:[iS,eS,uy,nE]},{provide:gC,deps:[nE,uy,$C,aE,BC,Bb,Cy,rE,er,[He,Uh],Jb,[He,lD]]},cD,{provide:lv,deps:[eS]},{provide:Sb,deps:[Jb]},{provide:LC,deps:[Jb]},{provide:nE,useValue:new nE},{provide:nr,useClass:class{constructor(e,t,n,s,r,i,o,a,l,c){this._metadataResolver=t,this._delegate=new Qb(t,n,s,r,i,o,a,l,c,this.getExtraNgModuleProviders.bind(this)),this.injector=e}getExtraNgModuleProviders(){return[this._metadataResolver.getProviderMetadata(new ad(nr,{useValue:this}))]}compileModuleSync(e){return this._delegate.compileModuleSync(e)}compileModuleAsync(e){return this._delegate.compileModuleAsync(e)}compileModuleAndAllComponentsSync(e){const t=this._delegate.compileModuleAndAllComponentsSync(e);return{ngModuleFactory:t.ngModuleFactory,componentFactories:t.componentFactories}}compileModuleAndAllComponentsAsync(e){return this._delegate.compileModuleAndAllComponentsAsync(e).then(e=>({ngModuleFactory:e.ngModuleFactory,componentFactories:e.componentFactories}))}loadAotSummaries(e){this._delegate.loadAotSummaries(e)}hasAotSummary(e){return this._delegate.hasAotSummary(e)}getComponentFactory(e){return this._delegate.getComponentFactory(e)}clearCache(){this._delegate.clearCache()}clearCacheFor(e){this._delegate.clearCacheFor(e)}getModuleId(e){const t=this._metadataResolver.getNgModuleMetadata(e);return t&&t.id||void 0}},deps:[gt,gC,cb,lv,Sb,LC,Bb,Jb,nE,er]},{provide:Py,deps:[]},{provide:Cy,useExisting:Py},{provide:eS,deps:[Js]},{provide:aE,deps:[Jb]},{provide:BC,deps:[Jb]},{provide:$C,deps:[Jb]}];function pD(e){for(let t=e.length-1;t>=0;t--)if(void 0!==e[t])return e[t]}const mD=Sr(hi,"coreDynamic",[{provide:sr,useValue:{},multi:!0},{provide:rr,useClass:class{constructor(e){const t={useJit:!0,defaultEncapsulation:Me.Emulated,missingTranslation:fi.Warning};this._defaultOptions=[t,...e]}createCompiler(e=[]){const t={useJit:pD((n=this._defaultOptions.concat(e)).map(e=>e.useJit)),defaultEncapsulation:pD(n.map(e=>e.defaultEncapsulation)),providers:function(e){const t=[];return e.forEach(e=>e&&t.push(...e)),t}(n.map(e=>e.providers)),missingTranslation:pD(n.map(e=>e.missingTranslation)),preserveWhitespaces:pD(n.map(e=>e.preserveWhitespaces))};var n;return gt.create([dD,{provide:nE,useFactory:()=>new nE({useJit:t.useJit,jitDevMode:cn(),defaultEncapsulation:t.defaultEncapsulation,missingTranslation:t.missingTranslation,preserveWhitespaces:t.preserveWhitespaces}),deps:[]},t.providers]).get(nr)}},deps:[sr]}]);class fD extends iS{get(e){let t,n;const s=new Promise((e,s)=>{t=e,n=s}),r=new XMLHttpRequest;return r.open("GET",e,!0),r.responseType="text",r.onload=function(){const s=r.response||r.responseText;let i=1223===r.status?204:r.status;0===i&&(i=s?200:0),200<=i&&i<=300?t(s):n(`Failed to load ${e}`)},r.onerror=function(){n(`Failed to load ${e}`)},r.send(),s}}fD.decorators=[{type:ms}];const gD=[XA,{provide:sr,useValue:{providers:[{provide:iS,useClass:fD,deps:[]}]},multi:!0},{provide:Xs,useValue:PT}];new sn("7.1.1");const vD=Sr(mD,"browserDynamic",gD);class yD{}class _D{}const wD="*";function ED(e,t=null){return{type:2,steps:e,options:t}}function CD(e){return{type:6,styles:e,offset:null}}function bD(e){Promise.resolve(null).then(e)}class SD{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){bD(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class xD{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,s=0;const r=this.players.length;0==r?bD(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++s==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}const TD="!";function AD(){return"undefined"!=typeof process}function DD(e){switch(e.length){case 0:return new SD;case 1:return e[0];default:return new xD(e)}}function PD(e,t,n,s,r={},i={}){const o=[],a=[];let l=-1,c=null;if(s.forEach(e=>{const n=e.offset,s=n==l,u=s&&c||{};Object.keys(e).forEach(n=>{let s=n,a=e[n];if("offset"!==n)switch(s=t.normalizePropertyName(s,o),a){case TD:a=r[n];break;case wD:a=i[n];break;default:a=t.normalizeStyleValue(n,s,a,o)}u[s]=a}),s||a.push(u),c=u,l=n}),o.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${o.join(e)}`)}return a}function kD(e,t,n,s){switch(t){case"start":e.onStart(()=>s(n&&ND(n,"start",e)));break;case"done":e.onDone(()=>s(n&&ND(n,"done",e)));break;case"destroy":e.onDestroy(()=>s(n&&ND(n,"destroy",e)))}}function ND(e,t,n){const s=n.totalTime,r=!!n.disabled,i=MD(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==s?e.totalTime:s,r),o=e._data;return null!=o&&(i._data=o),i}function MD(e,t,n,s,r="",i=0,o){return{element:e,triggerName:t,fromState:n,toState:s,phaseName:r,totalTime:i,disabled:!!o}}function ID(e,t,n){let s;return e instanceof Map?(s=e.get(t))||e.set(t,s=n):(s=e[t])||(s=e[t]=n),s}function OD(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let FD=(e,t)=>!1,RD=(e,t)=>!1,LD=(e,t,n)=>[];const $D=AD();if($D||"undefined"!=typeof Element){if(FD=((e,t)=>e.contains(t)),$D||Element.prototype.matches)RD=((e,t)=>e.matches(t));else{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;t&&(RD=((e,n)=>t.apply(e,[n])))}LD=((e,t,n)=>{let s=[];if(n)s.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&s.push(n)}return s})}let VD=null,BD=!1;function jD(e){VD||(VD=function(){if("undefined"!=typeof document)return document.body;return null}()||{},BD=!!VD.style&&"WebkitAppearance"in VD.style);let t=!0;if(VD.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&!(t=e in VD.style)&&BD){t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in VD.style}return t}const UD=RD,HD=FD,qD=LD;function zD(e){const t={};return Object.keys(e).forEach(n=>{const s=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[s]=e[n]}),t}class WD{validateStyleProperty(e){return jD(e)}matchesElement(e,t){return UD(e,t)}containsElement(e,t){return HD(e,t)}query(e,t,n){return qD(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,s,r,i=[],o){return new SD(n,s)}}WD.decorators=[{type:ms}];class GD{}GD.NOOP=new WD;const KD=1e3,QD="{{",ZD="ng-enter",XD="ng-leave",YD="ng-trigger",JD=".ng-trigger",eP="ng-animating",tP=".ng-animating";function nP(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:sP(parseFloat(t[1]),t[2])}function sP(e,t){switch(t){case"s":return e*KD;default:return e}}function rP(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){const s=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i;let r,i=0,o="";if("string"==typeof e){const n=e.match(s);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=sP(parseFloat(n[1]),n[2]);const a=n[3];null!=a&&(i=sP(Math.floor(parseFloat(a)),n[4]));const l=n[5];l&&(o=l)}else r=e;if(!n){let n=!1,s=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(s,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:o}}(e,t,n)}function iP(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function oP(e,t,n={}){if(t)for(let s in e)n[s]=e[s];else iP(e,n);return n}function aP(e,t,n){return n?t+":"+n+";":""}function lP(e){let t="";for(let n=0;n<e.style.length;n++){const s=e.style.item(n);t+=aP(0,s,e.style.getPropertyValue(s))}for(const n in e.style){if(!e.style.hasOwnProperty(n)||n.startsWith("_"))continue;t+=aP(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n])}e.setAttribute("style",t)}function cP(e,t){e.style&&(Object.keys(t).forEach(n=>{const s=vP(n);e.style[s]=t[n]}),AD()&&lP(e))}function uP(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=vP(t);e.style[n]=""}),AD()&&lP(e))}function hP(e){return Array.isArray(e)?1==e.length?e[0]:ED(e):e}const dP=new RegExp(`${QD}\\s*(.+?)\\s*}}`,"g");function pP(e){let t=[];if("string"==typeof e){const n=e.toString();let s;for(;s=dP.exec(n);)t.push(s[1]);dP.lastIndex=0}return t}function mP(e,t,n){const s=e.toString(),r=s.replace(dP,(e,s)=>{let r=t[s];return t.hasOwnProperty(s)||(n.push(`Please provide a value for the animation param ${s}`),r=""),r.toString()});return r==s?e:r}function fP(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const gP=/-+([a-z0-9])/g;function vP(e){return e.replace(gP,(...e)=>e[1].toUpperCase())}function yP(e,t){return 0===e||0===t}function _P(e,t,n){const s=Object.keys(n);if(s.length&&t.length){let i=t[0],o=[];if(s.forEach(e=>{i.hasOwnProperty(e)||o.push(e),i[e]=n[e]}),o.length)for(var r=1;r<t.length;r++){let n=t[r];o.forEach(function(t){n[t]=EP(e,t)})}}return t}function wP(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function EP(e,t){return window.getComputedStyle(e)[t]}const CP="*";function bP(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>(function(e,t,n){if(":"==e[0]){const s=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof s)return void t.push(s);e=s}const s=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==s||s.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=s[1],i=s[2],o=s[3];t.push(TP(r,o));const a=r==CP&&o==CP;"<"!=i[0]||a||t.push(TP(o,r))})(e,n,t)):n.push(e),n}const SP=new Set(["true","1"]),xP=new Set(["false","0"]);function TP(e,t){const n=SP.has(e)||xP.has(e),s=SP.has(t)||xP.has(t);return(r,i)=>{let o=e==CP||e==r,a=t==CP||t==i;return!o&&n&&"boolean"==typeof r&&(o=r?SP.has(e):xP.has(e)),!a&&s&&"boolean"==typeof i&&(a=i?SP.has(t):xP.has(t)),o&&a}}const AP=":self",DP=new RegExp(`s*${AP}s*,?`,"g");function PP(e,t,n){return new NP(e).build(t,n)}const kP="";class NP{constructor(e){this._driver=e}build(e,t){const n=new MP(t);return this._resetContextStyleTimingState(n),wP(this,hP(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector=kP,e.collectedStyles={},e.collectedStyles[kP]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,s=t.depCount=0;const r=[],i=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,s=n.name;s.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=s}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,s+=r.depCount,i.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:i,queryCount:n,depCount:s,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),s=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,i=s||{};if(n.styles.forEach(e=>{if(IP(e)){const t=e;Object.keys(t).forEach(e=>{pP(t[e]).forEach(e=>{i.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=fP(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:s?{params:s}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=wP(this,hP(e.animation),t);return{type:1,matchers:bP(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:OP(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>wP(this,e,t)),options:OP(e.options)}}visitGroup(e,t){const n=t.currentTime;let s=0;const r=e.steps.map(e=>{t.currentTime=n;const r=wP(this,e,t);return s=Math.max(s,t.currentTime),r});return t.currentTime=s,{type:3,steps:r,options:OP(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e){const n=rP(e,t).duration;return FP(n,0,"")}const s=e;if(s.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=FP(0,0,"");return e.dynamic=!0,e.strValue=s,e}return FP((n=n||rP(s,t)).duration,n.delay,n.easing)}(e.timings,t.errors);let s;t.currentAnimateTimings=n;let r=e.styles?e.styles:CD({});if(5==r.type)s=this.visitKeyframes(r,t);else{let r=e.styles,i=!1;if(!r){i=!0;const e={};n.easing&&(e.easing=n.easing),r=CD(e)}t.currentTime+=n.duration+n.delay;const o=this.visitStyle(r,t);o.isEmptyStep=i,s=o}return t.currentAnimateTimings=null,{type:4,timings:n,style:s,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==wD?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let s=!1,r=null;return n.forEach(e=>{if(IP(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!s)for(let e in t){if(t[e].toString().indexOf(QD)>=0){s=!0;break}}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let s=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const i=t.collectedStyles[t.currentQuerySelector],o=i[n];let a=!0;o&&(r!=s&&r>=o.startTime&&s<=o.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${s}ms"`),a=!1),r=o.startTime),a&&(i[n]={startTime:r,endTime:s}),t.options&&function(e,t,n){const s=t.params||{},r=pP(e);r.length&&r.forEach(e=>{s.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let s=0;const r=[];let i=!1,o=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(IP(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(IP(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(s++,c=n.offset=l),o=o||c<0||c>1,i=i||c<a,a=c,r.push(c),n});o&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),i&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let u=0;s>0&&s<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==s&&(u=1/(c-1));const h=c-1,d=t.currentTime,p=t.currentAnimateTimings,m=p.duration;return l.forEach((e,s)=>{const i=u>0?s==h?1:u*s:r[s],o=i*m;t.currentTime=d+p.delay+o,p.duration=o,this._validateStyleAst(e,t),e.offset=i,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:wP(this,hP(e.animation),t),options:OP(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:OP(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:OP(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,s=e.options||{};t.queryCount++,t.currentQuery=e;const[r,i]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>e==AP);t&&(e=e.replace(DP,""));return[e=e.replace(/@\*/g,JD).replace(/@\w+/g,e=>JD+"-"+e.substr(1)).replace(/:animating/g,tP),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,ID(t.collectedStyles,t.currentQuerySelector,{});const o=wP(this,hP(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:s.limit||0,optional:!!s.optional,includeSelf:i,animation:o,originalSelector:e.selector,options:OP(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:rP(e.timings,t.errors,!0);return{type:12,animation:wP(this,hP(e.animation),t),timings:n,options:null}}}class MP{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function IP(e){return!Array.isArray(e)&&"object"==typeof e}function OP(e){var t;return e?(e=iP(e)).params&&(e.params=(t=e.params)?iP(t):null):e={},e}function FP(e,t,n){return{duration:e,delay:t,easing:n}}function RP(e,t,n,s,r,i,o=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:s,duration:r,delay:i,totalTime:r+i,easing:o,subTimeline:a}}class LP{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const $P=1,VP=new RegExp(":enter","g"),BP=new RegExp(":leave","g");function jP(e,t,n,s,r,i={},o={},a,l,c=[]){return(new UP).buildKeyframes(e,t,n,s,r,i,o,a,l,c)}class UP{buildKeyframes(e,t,n,s,r,i,o,a,l,c=[]){l=l||new LP;const u=new qP(e,t,l,s,r,c,[]);u.options=a,u.currentTimeline.setStyles([i],null,u.errors,a),wP(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(o).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([o],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[RP(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const s=t.createSubContext(e.options),r=t.currentTimeline.currentTime,i=this._visitSubInstructions(n,s,s.options);r!=i&&t.transformIntoNewTimeline(i)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let s=t.currentTimeline.currentTime;const r=null!=n.duration?nP(n.duration):null,i=null!=n.delay?nP(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,i);s=Math.max(s,n.duration+n.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),wP(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let s=t;const r=e.options;if(r&&(r.params||r.delay)&&((s=t.createSubContext(r)).transformIntoNewTimeline(),null!=r.delay)){6==s.previousNode.type&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=HP);const e=nP(r.delay);s.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>wP(this,e,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let s=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?nP(e.options.delay):0;e.steps.forEach(i=>{const o=t.createSubContext(e.options);r&&o.delayNextStep(r),wP(this,i,o),s=Math.max(s,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(s),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return rP(t.params?mP(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),s=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),s.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),s.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,s=t.currentAnimateTimings;!s&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=s&&s.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,s=t.currentTimeline.duration,r=n.duration,i=t.createSubContext().currentTimeline;i.easing=n.easing,e.styles.forEach(e=>{const n=e.offset||0;i.forwardTime(n*r),i.setStyles(e.styles,e.easing,t.errors,t.options),i.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(i),t.transformIntoNewTimeline(s+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,s=e.options||{},r=s.delay?nP(s.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=HP);let i=n;const o=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!s.optional,t.errors);t.currentQueryTotal=o.length;let a=null;o.forEach((n,s)=>{t.currentQueryIndex=s;const o=t.createSubContext(e.options,n);r&&o.delayNextStep(r),n===t.element&&(a=o.currentTimeline),wP(this,e.animation,o),o.currentTimeline.applyStylesToKeyframe();const l=o.currentTimeline.currentTime;i=Math.max(i,l)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(i),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,s=t.currentTimeline,r=e.timings,i=Math.abs(r.duration),o=i*(t.currentQueryTotal-1);let a=i*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;wP(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=s.currentTime-c+(s.startTime-n.currentTimeline.startTime)}}const HP={};class qP{constructor(e,t,n,s,r,i,o,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=r,this.errors=i,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=HP,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new zP(this._driver,t,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let s=this.options;null!=n.duration&&(s.duration=nP(n.duration)),null!=n.delay&&(s.delay=nP(n.delay));const r=n.params;if(r){let e=s.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=mP(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const s=t||this.element,r=new qP(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=HP,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const s={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new WP(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,s,e.stretchStartingKeyframe);return this.timelines.push(r),s}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,s,r,i){let o=[];if(s&&o.push(this.element),e.length>0){e=(e=e.replace(VP,"."+this._enterClassName)).replace(BP,"."+this._leaveClassName);const t=1!=n;let s=this._driver.query(this.element,e,t);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push(...s)}return r||0!=o.length||i.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),o}}class zP{constructor(e,t,n,s){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=s,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new zP(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=$P,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||wD,this._currentKeyframe[e]=wD}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,s){t&&(this._previousKeyframe.easing=t);const r=s&&s.params||{},i=function(e,t){const n={};let s;return e.forEach(e=>{"*"===e?(s=s||Object.keys(t)).forEach(e=>{n[e]=wD}):oP(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(i).forEach(e=>{const t=mP(i[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:wD),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{const n=e[t];this._currentKeyframe[t]=n}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],s=e._styleSummary[t];(!n||s.time>n.time)&&this._updateStyle(t,s.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let s=[];this._keyframes.forEach((r,i)=>{const o=oP(r,!0);Object.keys(o).forEach(n=>{const s=o[n];s==TD?e.add(n):s==wD&&t.add(n)}),n||(o.offset=i/this.duration),s.push(o)});const r=e.size?fP(e.values()):[],i=t.size?fP(t.values()):[];if(n){const e=s[0],t=iP(e);e.offset=0,t.offset=1,s=[e,t]}return RP(this.element,s,r,i,this.duration,this.startTime,this.easing,!1)}}class WP extends zP{constructor(e,t,n,s,r,i,o=!1){super(e,t,i.delay),this.element=t,this.keyframes=n,this.preStyleProps=s,this.postStyleProps=r,this._stretchStartingKeyframe=o,this.timings={duration:i.duration,delay:i.delay,easing:i.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],i=n+t,o=t/i,a=oP(e[0],!1);a.offset=0,r.push(a);const l=oP(e[0],!1);l.offset=GP(o),r.push(l);const c=e.length-1;for(let s=1;s<=c;s++){let o=oP(e[s],!1);const a=t+o.offset*n;o.offset=GP(a/i),r.push(o)}n=i,t=0,s="",e=r}return RP(this.element,e,this.preStyleProps,this.postStyleProps,n,t,s,!0)}}function GP(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class KP{}class QP extends KP{normalizePropertyName(e,t){return vP(e)}normalizeStyleValue(e,t,n,s){let r="";const i=n.toString().trim();if(ZP[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&s.push(`Please provide a CSS unit value for ${e}:${n}`)}return i+r}}const ZP=function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function XP(e,t,n,s,r,i,o,a,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:i,toState:s,toStyles:o,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}const YP={};class JP{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,s){return function(e,t,n,s,r){return e.some(e=>e(t,n,s,r))}(this.ast.matchers,e,t,n,s)}buildStyles(e,t,n){const s=this._stateStyles["*"],r=this._stateStyles[e],i=s?s.buildStyles(t,n):{};return r?r.buildStyles(t,n):i}build(e,t,n,s,r,i,o,a,l,c){const u=[],h=this.ast.options&&this.ast.options.params||YP,d=o&&o.params||YP,p=this.buildStyles(n,d,u),m=a&&a.params||YP,f=this.buildStyles(s,m,u),g=new Set,v=new Map,y=new Map,_="void"===s,w={params:Object.assign({},h,m)},E=c?[]:jP(e,t,this.ast.animation,r,i,p,f,w,l,u);let C=0;if(E.forEach(e=>{C=Math.max(e.duration+e.delay,C)}),u.length)return XP(t,this._triggerName,n,s,_,p,f,[],[],v,y,C,u);E.forEach(e=>{const n=e.element,s=ID(v,n,{});e.preStyleProps.forEach(e=>s[e]=!0);const r=ID(y,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&g.add(n)});const b=fP(g.values());return XP(t,this._triggerName,n,s,_,p,f,E,b,v,y,C)}}class ek{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},s=iP(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(s[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let i=r[e];i.length>1&&(i=mP(i,s,t)),n[e]=i})}}),n}}class tk{constructor(e,t){var n,s;this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{const t=e.options&&e.options.params||{};this.states[e.name]=new ek(e.style,t)}),nk(this.states,"true","1"),nk(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new JP(e,t,this.states))}),this.fallbackTransition=(n=e,s=this.states,new JP(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},s))}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,s){return this.transitionFactories.find(r=>r.match(e,t,n,s))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function nk(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const sk=new LP;class rk{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],s=PP(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=s}_buildPlayer(e,t,n){const s=e.element,r=PD(this._driver,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(s,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const s=[],r=this._animations[e];let i;const o=new Map;if(r?(i=jP(this._driver,t,r,ZD,XD,{},{},n,sk,s)).forEach(e=>{const t=ID(o,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)}):(s.push("The requested animation doesn't exist or has already been destroyed"),i=[]),s.length)throw new Error(`Unable to create the animation due to the following errors: ${s.join("\n")}`);o.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,wD)})});const a=DD(i.map(e=>{const t=o.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,s){const r=MD(t,"","","");return kD(this._getPlayer(e),n,r,s),()=>{}}command(e,t,n,s){if("register"==n)return void this.register(e,s[0]);if("create"==n){const n=s[0]||{};return void this.create(e,t,n)}const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(e)}}}const ik="ng-animate-queued",ok=".ng-animate-queued",ak="ng-animate-disabled",lk=".ng-animate-disabled",ck="ng-star-inserted",uk=".ng-star-inserted",hk=[],dk={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},pk={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},mk="__ng_removed";class fk{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value"),s=n?e.value:e;if(this.value=function(e){return null!=e?e:null}(s),n){const t=iP(e);delete t.value,this.options=t}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const gk="void",vk=new fk(gk);class yk{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Tk(t,this._hostClassName)}listen(e,t,n,s){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const i=ID(this._elementListeners,e,[]),o={name:t,phase:n,callback:s};i.push(o);const a=ID(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Tk(e,YD),Tk(e,YD+"-"+t),a[t]=vk),()=>{this._engine.afterFlush(()=>{const e=i.indexOf(o);e>=0&&i.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,s=!0){const r=this._getTrigger(t),i=new wk(this.id,t,e);let o=this._engine.statesByElement.get(e);o||(Tk(e,YD),Tk(e,YD+"-"+t),this._engine.statesByElement.set(e,o={}));let a=o[t];const l=new fk(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),o[t]=l,a||(a=vk),!(l.value===gk)&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!=s.length)return!1;for(let r=0;r<n.length;r++){const s=n[r];if(!t.hasOwnProperty(s)||e[s]!==t[s])return!1}return!0}(a.params,l.params)){const t=[],n=r.matchStyles(a.value,a.params,t),s=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{uP(e,n),cP(e,s)})}return}const c=ID(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=r.matchTransition(a.value,l.value,e,l.params),h=!1;if(!u){if(!s)return;u=r.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:l,player:i,isFallbackTransition:h}),h||(Tk(e,ik),i.onStart(()=>{Ak(e,ik)})),i.onDone(()=>{let t=this.players.indexOf(i);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(i);e>=0&&n.splice(e,1)}}),this.players.push(i),c.push(i),i}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t,n=!1){this._engine.driver.query(e,JD,!0).forEach(e=>{if(e[mk])return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)})}triggerLeaveAnimation(e,t,n,s){const r=this._engine.statesByElement.get(e);if(r){const i=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,gk,s);n&&i.push(n)}}),i.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&DD(i).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const s=t.name;if(n.has(s))return;n.add(s);const r=this._triggers[s].fallbackTransition,i=this._engine.statesByElement.get(e)[s]||vk,o=new fk(gk),a=new wk(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:r,fromState:i,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),this.triggerLeaveAnimation(e,t,!0))return;let s=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)s=!0;else{let t=e;for(;t=t.parentNode;){if(n.statesByElement.get(t)){s=!0;break}}}}this.prepareLeaveAnimationListeners(e),s?n.markElementAsRemoved(this.id,e,!1,t):(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}insertNode(e,t){Tk(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const s=n.player;if(s.destroyed)return;const r=n.element,i=this._elementListeners.get(r);i&&i.forEach(t=>{if(t.name==n.triggerName){const s=MD(r,n.triggerName,n.fromState.value,n.toState.value);s._data=e,kD(n.player,t.phase,s,t.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,s=t.transition.ast.depCount;return 0==n||0==s?n-s:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t}}class _k{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=((e,t)=>{})}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new yk(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let s=!1;for(let r=n;r>=0;r--){const n=this._namespaceList[r];if(this.driver.containsElement(n.hostElement,t)){this._namespaceList.splice(r+1,0,e),s=!0;break}}s||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let s=this._namespaceLookup[e];s&&s.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let s=0;s<e.length;s++){const r=n[e[s]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,s){if(Ek(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,s),!0}return!1}insertNode(e,t,n,s){if(!Ek(t))return;const r=t[mk];if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const s=this._fetchNamespace(e);s&&s.insertNode(t,n)}s&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Tk(e,ak)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Ak(e,ak))}removeNode(e,t,n){if(!Ek(t))return void this._onRemovalComplete(t,n);const s=e?this._fetchNamespace(e):null;s?s.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n)}markElementAsRemoved(e,t,n,s){this.collectedLeaveElements.push(t),t[mk]={namespaceId:e,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,s,r){return Ek(t)?this._fetchNamespace(e).listen(t,n,s,r):()=>{}}_buildInstruction(e,t,n,s,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,s,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,JD,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,tP,!0)).forEach(e=>this.finishActiveQueriedAnimationOnElement(e))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return DD(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[mk];if(t&&t.setForRemoval){if(e[mk]=dk,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,lk)&&this.markElementAsDisabled(e,!1),this.driver.query(e,lk,!0).forEach(t=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){Tk(this.collectedEnterElements[n],ck)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){const e=this.collectedLeaveElements[n];this.processLeaveNode(e)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?DD(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new LP,s=[],r=new Map,i=[],o=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,ok,!0);for(let n=0;n<t.length;n++)c.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=Sk(h,this.collectedEnterElements),p=new Map;let m=0;d.forEach((e,t)=>{const n=ZD+m++;p.set(t,n),e.forEach(e=>Tk(e,n))});const f=[],g=new Set,v=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const e=this.collectedLeaveElements[k],t=e[mk];t&&t.setForRemoval&&(f.push(e),g.add(e),t.hasAnimation?this.driver.query(e,uk,!0).forEach(e=>g.add(e)):v.add(e))}const y=new Map,_=Sk(h,Array.from(g));_.forEach((e,t)=>{const n=XD+m++;y.set(t,n),e.forEach(e=>Tk(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>Ak(e,n))}),_.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>Ak(e,n))}),f.forEach(e=>{this.processLeaveNode(e)})});const w=[],E=[];for(let k=this._namespaceList.length-1;k>=0;k--){this._namespaceList[k].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(w.push(t),this.collectedEnterElements.length){const e=r[mk];if(e&&e.setForMove)return void t.destroy()}const c=!u||!this.driver.containsElement(u,r),h=y.get(r),d=p.get(r),m=this._buildInstruction(e,n,d,h,c);if(m.errors&&m.errors.length)return void E.push(m);if(c)return t.onStart(()=>uP(r,m.fromStyles)),t.onDestroy(()=>cP(r,m.toStyles)),void s.push(t);if(e.isFallbackTransition)return t.onStart(()=>uP(r,m.fromStyles)),t.onDestroy(()=>cP(r,m.toStyles)),void s.push(t);m.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,m.timelines);const f={instruction:m,player:t,element:r};i.push(f),m.queriedElements.forEach(e=>ID(o,e,[]).push(t)),m.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),m.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let s=l.get(t);s||l.set(t,s=new Set),n.forEach(e=>s.add(e))})})}if(E.length){const e=[];E.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),w.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,b=new Map;i.forEach(e=>{const t=e.element;n.has(t)&&(b.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),s.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{ID(C,t,[]).push(e),e.destroy()})});const S=f.filter(e=>Pk(e,a,l)),x=new Map;bk(x,this.driver,v,l,wD).forEach(e=>{Pk(e,a,l)&&S.push(e)});const T=new Map;d.forEach((e,t)=>{bk(T,this.driver,new Set(e),a,TD)}),S.forEach(e=>{const t=x.get(e),n=T.get(e);x.set(e,Object.assign({},t,n))});const A=[],D=[],P={};i.forEach(e=>{const{element:t,player:i,instruction:o}=e;if(n.has(t)){if(c.has(t))return i.onDestroy(()=>cP(t,o.toStyles)),i.disabled=!0,i.overrideTotalTime(o.totalTime),void s.push(i);let e=P;if(b.size>1){let n=t;const s=[];for(;n=n.parentNode;){const t=b.get(n);if(t){e=t;break}s.push(n)}s.forEach(t=>b.set(t,e))}const n=this._buildAnimation(i.namespaceId,o,C,r,T,x);if(i.setRealPlayer(n),e===P)A.push(i);else{const t=this.playersByElement.get(e);t&&t.length&&(i.parentPlayer=DD(t)),s.push(i)}}else uP(t,o.fromStyles),i.onDestroy(()=>cP(t,o.toStyles)),D.push(i),c.has(t)&&s.push(i)}),D.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=DD(t);e.setRealPlayer(n)}}),s.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let k=0;k<f.length;k++){const e=f[k],t=e[mk];if(Ak(e,XD),t&&t.hasAnimation)continue;let n=[];if(o.size){let t=o.get(e);t&&t.length&&n.push(...t);let s=this.driver.query(e,tP,!0);for(let e=0;e<s.length;e++){let t=o.get(s[e]);t&&t.length&&n.push(...t)}}const s=n.filter(e=>!e.destroyed);s.length?Dk(this,e,s):this.processLeaveNode(e)}return f.length=0,A.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),A}elementContainsData(e,t){let n=!1;const s=t[mk];return s&&s.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,s,r){let i=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(i=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||r==gk;t.forEach(t=>{t.queued||(e||t.triggerName==s)&&i.push(t)})}}return(n||s)&&(i=i.filter(e=>(!n||n==e.namespaceId)&&(!s||s==e.triggerName))),i}_beforeAnimationBuild(e,t,n){const s=t.triggerName,r=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:s;for(const a of t.timelines){const e=a.element,s=e!==r,l=ID(n,e,[]);this._getPreviousPlayers(e,s,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}uP(r,t.fromStyles)}_buildAnimation(e,t,n,s,r,i){const o=t.triggerName,a=t.element,l=[],c=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;c.add(h);const d=h[mk];if(d&&d.removedBeforeQueried)return new SD(t.duration,t.delay);const p=h!==a,m=function(e){const t=[];return function e(t,n){for(let s=0;s<t.length;s++){const r=t[s];r instanceof xD?e(r.players,n):n.push(r)}}(e,t),t}((n.get(h)||hk).map(e=>e.getRealPlayer())).filter(e=>{const t=e;return!!t.element&&t.element===h}),f=r.get(h),g=i.get(h),v=PD(this.driver,this._normalizer,0,t.keyframes,f,g),y=this._buildPlayer(t,v,m);if(t.subTimeline&&s&&u.add(h),p){const t=new wk(e,o,h);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{ID(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>(function(e,t,n){let s;if(e instanceof Map){if(s=e.get(t)){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&e.delete(t)}}else if(s=e[t]){if(s.length){const e=s.indexOf(n);s.splice(e,1)}0==s.length&&delete e[t]}return s})(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>Tk(e,eP));const d=DD(h);return d.onDestroy(()=>{c.forEach(e=>Ak(e,eP)),cP(a,t.toStyles)}),u.forEach(e=>{ID(s,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new SD(e.duration,e.delay)}}class wk{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new SD,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>kD(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){ID(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ek(e){return e&&1===e.nodeType}function Ck(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function bk(e,t,n,s,r){const i=[];n.forEach(e=>i.push(Ck(e)));const o=[];s.forEach((n,s)=>{const i={};n.forEach(e=>{const n=i[e]=t.computeStyle(s,e,r);n&&0!=n.length||(s[mk]=pk,o.push(s))}),e.set(s,i)});let a=0;return n.forEach(e=>Ck(e,i[a++])),o}function Sk(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const s=1,r=new Set(t),i=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return s;let o=i.get(t);if(o)return o;const a=t.parentNode;return o=n.has(a)?a:r.has(a)?s:e(a),i.set(t,o),o}(e);t!==s&&n.get(t).push(e)}),n}const xk="$$classes";function Tk(e,t){if(e.classList)e.classList.add(t);else{let n=e[xk];n||(n=e[xk]={}),n[t]=!0}}function Ak(e,t){if(e.classList)e.classList.remove(t);else{let n=e[xk];n&&delete n[t]}}function Dk(e,t,n){DD(n).onDone(()=>e.processLeaveNode(t))}function Pk(e,t,n){const s=n.get(e);if(!s)return!1;let r=t.get(e);return r?s.forEach(e=>r.add(e)):t.set(e,s),n.delete(e),!0}class kk{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=((e,t)=>{}),this._transitionEngine=new _k(e,t,n),this._timelineEngine=new rk(e,t,n),this._transitionEngine.onRemovalComplete=((e,t)=>this.onRemovalComplete(e,t))}registerTrigger(e,t,n,s,r){const i=e+"-"+s;let o=this._triggerCache[i];if(!o){const e=[],t=PP(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${s}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);o=function(e,t){return new tk(e,t)}(s,t),this._triggerCache[i]=o}this._transitionEngine.registerTrigger(t,s,o)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,s){this._transitionEngine.insertNode(e,t,n,s)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,s){if("@"==n.charAt(0)){const[e,r]=OD(n),i=s;this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,s)}listen(e,t,n,s,r){if("@"==n.charAt(0)){const[e,s]=OD(n);return this._timelineEngine.listen(e,t,s,r)}return this._transitionEngine.listen(e,t,n,s,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}const Nk=3,Mk="animation",Ik="animationend",Ok=1e3;class Fk{constructor(e,t,n,s,r,i,o){this._element=e,this._name=t,this._duration=n,this._delay=s,this._easing=r,this._fillMode=i,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=(e=>this._handleCallback(e))}apply(){!function(e,t){const n=jk(e,"").trim();let s=0;n.length&&(s=function(e,t){let n=0;for(let s=0;s<e.length;s++){const r=e.charAt(s);r===t&&n++}return n}(n,",")+1,t=`${n}, ${t}`);Bk(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Vk(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Rk(this._element,this._name,"paused")}resume(){Rk(this._element,this._name,"running")}setPosition(e){const t=Lk(this._element,this._name);this._position=e*this._duration,Bk(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=parseFloat(e.elapsedTime.toFixed(Nk))*Ok;e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Vk(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=jk(e,"").split(","),s=$k(n,t);if(s>=0){n.splice(s,1);const t=n.join(",");Bk(e,"",t)}}(this._element,this._name))}}function Rk(e,t,n){Bk(e,"PlayState",n,Lk(e,t))}function Lk(e,t){const n=jk(e,"");if(n.indexOf(",")>0){return $k(n.split(","),t)}return $k([n],t)}function $k(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Vk(e,t,n){n?e.removeEventListener(Ik,t):e.addEventListener(Ik,t)}function Bk(e,t,n,s){const r=Mk+t;if(null!=s){const t=e.style[r];if(t.length){const e=t.split(",");e[s]=n,n=e.join(",")}}e.style[r]=n}function jk(e,t){return e.style[Mk+t]}const Uk="forwards",Hk="linear";class qk{constructor(e,t,n,s,r,i,o){this.element=e,this.keyframes=t,this.animationName=n,this._duration=s,this._delay=r,this._finalStyles=o,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=i||Hk,this.totalTime=s+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){if(this._state>=1)return;this._state=1;this.element;this._styler.apply(),this._delay&&this._styler.pause()}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new Fk(this.element,this.animationName,this._duration,this._delay,this.easing,Uk,()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:EP(this.element,n))})}this.currentSnapshot=e}}class zk extends SD{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=zD(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}const Wk="gen_css_kf_",Gk=" ";class Kk{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return jD(e)}matchesElement(e,t){return UD(e,t)}containsElement(e,t){return HD(e,t)}query(e,t,n){return qD(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>zD(e));let s=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=Gk;const t=parseFloat(e.offset);s+=`${r}${100*t}% {\n`,r+=Gk,Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(s+=`${r}animation-timing-function: ${n};\n`));default:return void(s+=`${r}${t}: ${n};\n`)}}),s+=`${r}}\n`}),s+="}\n";const i=document.createElement("style");return i.innerHTML=s,i}animate(e,t,n,s,r,i=[],o){o&&this._notifyFaultyScrubber();const a=i.filter(e=>e instanceof qk),l={};yP(n,s)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};if(e){const n=Array.isArray(e)?e:[e];n.forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})})}return t}(t=_P(e,t,l));if(0==n)return new zk(e,c);const u=`${Wk}${this._count++}`,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);const d=new qk(e,t,u,n,s,r,c);return d.onDestroy(()=>(function(e){e.parentNode.removeChild(e)})(h)),d}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class Qk{constructor(e,t,n){this.element=e,this.keyframes=t,this.options=n,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:EP(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Zk{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Xk().toString()),this._cssKeyframesDriver=new Kk}validateStyleProperty(e){return jD(e)}matchesElement(e,t){return UD(e,t)}containsElement(e,t){return HD(e,t)}query(e,t,n){return qD(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,s,r,i=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,s,r,i);const a={duration:n,delay:s,fill:0==s?"both":"forwards"};r&&(a.easing=r);const l={},c=i.filter(e=>e instanceof Qk);return yP(n,s)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])}),t=_P(e,t=t.map(e=>oP(e,!1)),l),new Qk(e,t,a)}}function Xk(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}class Yk extends yD{constructor(e,t){super(),this._nextAnimationId=0;const n={id:"0",encapsulation:Me.None,styles:[],data:{animation:[]}};this._renderer=e.createRenderer(t.body,n)}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?ED(e):e;return tN(this._renderer,null,t,"register",[n]),new Jk(t,this._renderer)}}Yk.decorators=[{type:ms}],Yk.ctorParameters=(()=>[{type:Jt},{type:void 0,decorators:[{type:Ue,args:[zT]}]}]);class Jk extends _D{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new eN(this._id,e,t||{},this._renderer)}}class eN{constructor(e,t,n,s){this.id=e,this.element=t,this._renderer=s,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return tN(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function tN(e,t,n,s,r){return e.setProperty(t,`@@${n}:${s}`,r)}const nN="@",sN="@.disabled";class rN{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=((e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)})}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new iN("",n,this.engine),this._rendererCache.set(n,e)),e}const s=t.id,r=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(r,e),t.data.animation.forEach(t=>this.engine.registerTrigger(s,r,e,t.name,t)),new oN(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}rN.decorators=[{type:ms}],rN.ctorParameters=(()=>[{type:Jt},{type:kk},{type:ur}]);class iN{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,s){this.delegate.setAttribute(e,t,n,s)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,s){this.delegate.setStyle(e,t,n,s)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==nN&&t==sN?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class oN extends iN{constructor(e,t,n,s){super(t,n,s),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==nN?"."==t.charAt(1)&&t==sN?(n=void 0===n||!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==nN){const s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),i="";return r.charAt(0)!=nN&&([r,i]=function(e){const t=e.indexOf("."),n=e.substring(0,t),s=e.substr(t+1);return[n,s]}(r)),this.engine.listen(this.namespaceId,s,r,i,e=>{const t=e._data||-1;this.factory.scheduleListenerCallback(t,n,e)})}return this.delegate.listen(e,t,n)}}class aN extends kk{constructor(e,t,n){super(e.body,t,n)}}aN.decorators=[{type:ms}],aN.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[DT]}]},{type:GD},{type:KP}]);const lN=new ye("AnimationModuleType"),cN=[{provide:yD,useClass:Yk},{provide:KP,useFactory:function(){return new QP}},{provide:kk,useClass:aN},{provide:Jt,useFactory:function(e,t,n){return new rN(e,t,n)},deps:[mA,kk,ur]}],uN=[{provide:GD,useFactory:function(){return"function"==typeof Xk()?new Zk:new Kk}},{provide:lN,useValue:"BrowserAnimations"},...cN],hN=[{provide:GD,useClass:WD},{provide:lN,useValue:"NoopAnimations"},...cN];class dN{}dN.decorators=[{type:ds,args:[{exports:[eD],providers:uN}]}];(class{}).decorators=[{type:ds,args:[{exports:[eD],providers:hN}]}];let pN=class{};pN=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Jn({selector:"app-root",template:n("nH/3")})],pN);const mN=new x(e=>e.complete());function fN(e){return e?function(e){return new x(t=>e.schedule(()=>t.complete()))}(e):mN}function gN(e){const t=new x(t=>{t.next(e),t.complete()});return t._isScalar=!0,t.value=e,t}function vN(...e){let t=e[e.length-1];switch(I(t)?e.pop():t=void 0,e.length){case 0:return fN(t);case 1:return t?K(e,t):gN(e[0]);default:return K(e,t)}}class yN extends N{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new D;return this._value}next(e){super.next(this._value=e)}}function _N(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}_N.prototype=Object.create(Error.prototype);const wN=_N,EN={};class CN{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new bN(e,this.resultSelector))}}class bN extends q{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(EN),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(H(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,s,r){const i=this.values,o=i[n],a=this.toRespond?o===EN?--this.toRespond:this.toRespond:0;i[n]=t,0===a&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function SN(e){return new x(t=>{let n;try{n=e()}catch(s){return void t.error(s)}return(n?Q(n):fN()).subscribe(t)})}function xN(){return ee(1)}function TN(e,t){return function(n){return n.lift(new AN(e,t))}}class AN{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new DN(e,this.predicate,this.thisArg))}}class DN extends _{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}function PN(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}PN.prototype=Object.create(Error.prototype);const kN=PN;function NN(e){return function(t){return 0===e?fN():t.lift(new MN(e))}}class MN{constructor(e){if(this.total=e,this.total<0)throw new kN}call(e,t){return t.subscribe(new IN(e,this.total))}}class IN extends _{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,s=this.count++;if(t.length<n)t.push(e);else{t[s%n]=e}}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,s=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(s[r])}}e.complete()}}function ON(e,t,n){return function(s){return s.lift(new FN(e,t,n))}}class FN{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new RN(e,this.nextOrObserver,this.error,this.complete))}}class RN extends _{constructor(e,t,n,r){super(e),this._tapNext=C,this._tapError=C,this._tapComplete=C,this._tapError=n||C,this._tapComplete=r||C,s(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||C,this._tapError=t.error||C,this._tapComplete=t.complete||C)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}const LN=(e=function(){return new wN})=>ON({hasValue:!1,next(){this.hasValue=!0},complete(){if(!this.hasValue)throw e()}});function $N(e=null){return t=>t.lift(new VN(e))}class VN{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new BN(e,this.defaultValue))}}class BN extends _{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function jN(e,t){const n=arguments.length>=2;return s=>s.pipe(e?TN((t,n)=>e(t,n,s)):J,NN(1),n?$N(t):LN(()=>new wN))}function UN(e){return function(t){const n=new HN(e),s=t.lift(n);return n.caught=s}}class HN{constructor(e){this.selector=e}call(e,t){return t.subscribe(new qN(e,this.selector,this.caught))}}class qN extends q{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const s=new O(this,void 0,void 0);this.add(s),H(this,n,void 0,void 0,s)}}}function zN(e){return t=>0===e?fN():t.lift(new WN(e))}class WN{constructor(e){if(this.total=e,this.total<0)throw new kN}call(e,t){return t.subscribe(new GN(e,this.total))}}class GN extends _{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function KN(e,t){const n=arguments.length>=2;return s=>s.pipe(e?TN((t,n)=>e(t,n,s)):J,zN(1),n?$N(t):LN(()=>new wN))}class QN{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new ZN(e,this.predicate,this.thisArg,this.source))}}class ZN extends _{constructor(e,t,n,s){super(e),this.predicate=t,this.thisArg=n,this.source=s,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}function XN(e,t){return"function"==typeof t?n=>n.pipe(XN((n,s)=>Q(e(n,s)).pipe(z((e,r)=>t(n,e,s,r))))):t=>t.lift(new YN(e))}class YN{constructor(e){this.project=e}call(e,t){return t.subscribe(new JN(e,this.project))}}class JN extends q{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(s){return void this.destination.error(s)}this._innerSub(t,e,n)}_innerSub(e,t,n){const s=this.innerSubscription;s&&s.unsubscribe();const r=new O(this,void 0,void 0);this.destination.add(r),this.innerSubscription=H(this,e,t,n,r)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,s,r){this.destination.next(t)}}function eM(...e){return 1===e.length||2===e.length&&I(e[1])?Q(e[0]):xN()(vN(...e))}function tM(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(s){return s.lift(new nM(e,t,n))}}class nM{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new sM(e,this.accumulator,this.seed,this.hasSeed))}}class sM extends _{constructor(e,t,n,s){super(e),this.accumulator=t,this._seed=n,this.hasSeed=s,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(s){this.destination.error(s)}this.seed=n,this.destination.next(n)}}function rM(e,t){return Z(e,t,1)}class iM{constructor(e){this.callback=e}call(e,t){return t.subscribe(new oM(e,this.callback))}}class oM extends _{constructor(e,t){super(e),this.add(new g(t))}}class aM{constructor(e,t){this.id=e,this.url=t}}class lM extends aM{constructor(e,t,n="imperative",s=null){super(e,t),this.navigationTrigger=n,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class cM extends aM{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class uM extends aM{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class hM extends aM{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class dM extends aM{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pM extends aM{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class mM extends aM{constructor(e,t,n,s,r){super(e,t),this.urlAfterRedirects=n,this.state=s,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class fM extends aM{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class gM extends aM{constructor(e,t,n,s){super(e,t),this.urlAfterRedirects=n,this.state=s}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class vM{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class yM{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class _M{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class wM{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class EM{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class CM{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bM{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){const e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}}class SM{}SM.decorators=[{type:Jn,args:[{template:"<router-outlet></router-outlet>"}]}];const xM="primary";class TM{constructor(e){this.params=e||{}}has(e){return this.params.hasOwnProperty(e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function AM(e){return new TM(e)}const DM="ngNavigationCancelingError";function PM(e){const t=Error("NavigationCancelingError: "+e);return t[DM]=!0,t}function kM(e,t,n){const s=n.path.split("/");if(s.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||s.length<e.length))return null;const r={};for(let i=0;i<s.length;i++){const t=s[i],n=e[i];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,s.length),posParams:r}}class NM{constructor(e,t){this.routes=e,this.module=t}}function MM(e,t=""){for(let n=0;n<e.length;n++){const s=e[n];IM(s,OM(t,s))}}function IM(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&e.outlet!==xM)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch){const n="The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.";throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. ${n}`)}if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&MM(e.children,t)}function OM(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function FM(e){const t=e.children&&e.children.map(FM),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==xM&&(n.component=SM),n}function RM(e,t){const n=Object.keys(e),s=Object.keys(t);if(n.length!=s.length)return!1;let r;for(let i=0;i<n.length;i++)if(e[r=n[i]]!==t[r])return!1;return!0}function LM(e){return Array.prototype.concat.apply([],e)}function $M(e){return e.length>0?e[e.length-1]:null}function VM(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function BM(e){return qs(e)?e:Hs(e)?Q(Promise.resolve(e)):vN(e)}function jM(e,t,n){return n?function(e,t){return RM(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!WM(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const s in n.children){if(!t.children[s])return!1;if(!e(t.children[s],n.children[s]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>t[n]===e[n])}(e.queryParams,t.queryParams)&&UM(e.root,t.root)}function UM(e,t){return function e(t,n,s){if(t.segments.length>s.length){const e=t.segments.slice(0,s.length);return!!WM(e,s)&&!n.hasChildren()}if(t.segments.length===s.length){if(!WM(t.segments,s))return!1;for(const e in n.children){if(!t.children[e])return!1;if(!UM(t.children[e],n.children[e]))return!1}return!0}{const r=s.slice(0,t.segments.length),i=s.slice(t.segments.length);return!!WM(t.segments,r)&&(!!t.children[xM]&&e(t.children[xM],n,i))}}(e,t,t.segments)}class HM{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=AM(this.queryParams)),this._queryParamMap}toString(){return ZM.serialize(this)}}class qM{constructor(e,t){this.segments=e,this.children=t,this.parent=null,VM(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return XM(this)}}class zM{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=AM(this.parameters)),this._parameterMap}toString(){return sI(this)}}function WM(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function GM(e,t){let n=[];return VM(e.children,(e,s)=>{s===xM&&(n=n.concat(t(e,s)))}),VM(e.children,(e,s)=>{s!==xM&&(n=n.concat(t(e,s)))}),n}class KM{}class QM{parse(e){const t=new lI(e);return new HM(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`${`/${function e(t,n){if(!t.hasChildren())return XM(t);if(n){const n=t.children[xM]?e(t.children[xM],!1):"",s=[];return VM(t.children,(t,n)=>{n!==xM&&s.push(`${n}:${e(t,!1)}`)}),s.length>0?`${n}(${s.join("//")})`:n}{const n=GM(t,(n,s)=>s===xM?[e(t.children[xM],!1)]:[`${s}:${e(n,!1)}`]);return`${XM(t)}/(${n.join("//")})`}}(e.root,!0)}`}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${JM(t)}=${JM(e)}`).join("&"):`${JM(t)}=${JM(n)}`});return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const ZM=new QM;function XM(e){return e.segments.map(e=>sI(e)).join("/")}function YM(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function JM(e){return YM(e).replace(/%3B/gi,";")}function eI(e){return YM(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function tI(e){return decodeURIComponent(e)}function nI(e){return tI(e.replace(/\+/g,"%20"))}function sI(e){return`${eI(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${eI(e)}=${eI(t[e])}`).join("")}`;var t}const rI=/^[^\/()?;=#]+/;function iI(e){const t=e.match(rI);return t?t[0]:""}const oI=/^[^=?&#]+/;const aI=/^[^?&#]+/;class lI{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new qM([],{}):new qM([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n[xM]=new qM(e,t)),n}parseSegment(){const e=iI(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new zM(tI(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=iI(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=iI(this.remaining);e&&(n=e,this.capture(n))}e[tI(t)]=tI(n)}parseQueryParam(e){const t=function(e){const t=e.match(oI);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(aI);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const s=nI(t),r=nI(n);if(e.hasOwnProperty(s)){let t=e[s];Array.isArray(t)||(t=[t],e[s]=t),t.push(r)}else e[s]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=iI(this.remaining),s=this.remaining[n.length];if("/"!==s&&")"!==s&&";"!==s)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r=xM);const i=this.parseChildren();t[r]=1===Object.keys(i).length?i[xM]:new qM([],i),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class cI{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=uI(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=uI(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=hI(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return hI(e,this._root).map(e=>e.value)}}function uI(e,t){if(e===t.value)return t;for(const n of t.children){const t=uI(e,n);if(t)return t}return null}function hI(e,t){if(e===t.value)return[t];for(const n of t.children){const s=hI(e,n);if(s.length)return s.unshift(t),s}return[]}class dI{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function pI(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class mI extends cI{constructor(e,t){super(e),this.snapshot=t,wI(this,e)}toString(){return this.snapshot.toString()}}function fI(e,t){const n=function(e,t){const n=new yI([],{},{},"",{},xM,t,null,e.root,-1,{});return new _I("",new dI(n,[]))}(e,t),s=new yN([new zM("",{})]),r=new yN({}),i=new yN({}),o=new yN({}),a=new yN(""),l=new gI(s,r,o,a,i,xM,t,n.root);return l.snapshot=n.root,new mI(new dI(l,[]),n)}class gI{constructor(e,t,n,s,r,i,o,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(z(e=>AM(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(z(e=>AM(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function vI(e,t="emptyOnly"){const n=e.pathFromRoot;let s=0;if("always"!==t)for(s=n.length-1;s>=1;){const e=n[s],t=n[s-1];if(e.routeConfig&&""===e.routeConfig.path)s--;else{if(t.component)break;s--}}return function(e){return e.reduce((e,t)=>{const n=Object.assign({},e.params,t.params),s=Object.assign({},e.data,t.data),r=Object.assign({},e.resolve,t._resolvedData);return{params:n,data:s,resolve:r}},{params:{},data:{},resolve:{}})}(n.slice(s))}class yI{constructor(e,t,n,s,r,i,o,a,l,c,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=s,this.data=r,this.outlet=i,this.component=o,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=AM(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=AM(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _I extends cI{constructor(e,t){super(t),this.url=e,wI(this,t)}toString(){return EI(this._root)}}function wI(e,t){t.value._routerState=e,t.children.forEach(t=>wI(e,t))}function EI(e){const t=e.children.length>0?` { ${e.children.map(EI).join(", ")} } `:"";return`${e.value}${t}`}function CI(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,RM(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),RM(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!RM(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),RM(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function bI(e,t){const n=RM(e.params,t.params)&&(s=e.url,r=t.url,WM(s,r)&&s.every((e,t)=>RM(e.parameters,r[t].parameters)));var s,r;const i=!e.parent!=!t.parent;return n&&!i&&(!e.parent||bI(e.parent,t.parent))}function SI(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const s=n.value;s._futureSnapshot=t.value;const r=function(e,t,n){return t.children.map(t=>{for(const s of n.children)if(e.shouldReuseRoute(s.value.snapshot,t.value))return SI(e,t,s);return SI(e,t)})}(e,t,n);return new dI(s,r)}{const n=e.retrieve(t.value);if(n){const e=n.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let s=0;s<t.children.length;++s)e(t.children[s],n.children[s])}(t,e),e}{const n=(s=t.value,new gI(new yN(s.url),new yN(s.params),new yN(s.queryParams),new yN(s.fragment),new yN(s.data),s.outlet,s.component,s)),r=t.children.map(t=>SI(e,t));return new dI(n,r)}}var s}function xI(e,t,n,s,r){if(0===n.length)return AI(t.root,t.root,t,s,r);const i=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new DI(!0,0,e);let t=0,n=!1;const s=e.reduce((e,s,r)=>{if("object"==typeof s&&null!=s){if(s.outlets){const t={};return VM(s.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(s.segmentPath)return[...e,s.segmentPath]}return"string"!=typeof s?[...e,s]:0===r?(s.split("/").forEach((s,r)=>{0==r&&"."===s||(0==r&&""===s?n=!0:".."===s?t++:""!=s&&e.push(s))}),e):[...e,s]},[]);return new DI(n,t,s)}(n);if(i.toRoot())return AI(t.root,new qM([],{}),t,s,r);const o=function(e,t,n){if(e.isAbsolute)return new PI(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new PI(n.snapshot._urlSegment,!0,0);const s=TI(e.commands[0])?0:1,r=n.snapshot._lastPathIndex+s;return function(e,t,n){let s=e,r=t,i=n;for(;i>r;){if(i-=r,!(s=s.parent))throw new Error("Invalid number of '../'");r=s.segments.length}return new PI(s,!1,r-i)}(n.snapshot._urlSegment,r,e.numberOfDoubleDots)}(i,t,e),a=o.processChildren?MI(o.segmentGroup,o.index,i.commands):NI(o.segmentGroup,o.index,i.commands);return AI(o.segmentGroup,a,t,s,r)}function TI(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function AI(e,t,n,s,r){let i={};return s&&VM(s,(e,t)=>{i[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),n.root===e?new HM(t,i,r):new HM(function e(t,n,s){const r={};VM(t.children,(t,i)=>{r[i]=t===n?s:e(t,n,s)});return new qM(t.segments,r)}(n.root,e,t),i,r)}class DI{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&TI(n[0]))throw new Error("Root segment cannot have matrix parameters");const s=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(s&&s!==$M(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class PI{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function kI(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets[xM]:`${e}`}function NI(e,t,n){if(e||(e=new qM([],{})),0===e.segments.length&&e.hasChildren())return MI(e,t,n);const s=function(e,t,n){let s=0,r=t;const i={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(s>=n.length)return i;const t=e.segments[r],o=kI(n[s]),a=s<n.length-1?n[s+1]:null;if(r>0&&void 0===o)break;if(o&&a&&"object"==typeof a&&void 0===a.outlets){if(!RI(o,a,t))return i;s+=2}else{if(!RI(o,{},t))return i;s++}r++}return{match:!0,pathIndex:r,commandIndex:s}}(e,t,n),r=n.slice(s.commandIndex);if(s.match&&s.pathIndex<e.segments.length){const t=new qM(e.segments.slice(0,s.pathIndex),{});return t.children[xM]=new qM(e.segments.slice(s.pathIndex),e.children),MI(t,0,r)}return s.match&&0===r.length?new qM(e.segments,{}):s.match&&!e.hasChildren()?II(e,t,n):s.match?MI(e,0,r):II(e,t,n)}function MI(e,t,n){if(0===n.length)return new qM(e.segments,{});{const s=function(e){return"object"!=typeof e[0]?{[xM]:e}:void 0===e[0].outlets?{[xM]:e}:e[0].outlets}(n),r={};return VM(s,(n,s)=>{null!==n&&(r[s]=NI(e.children[s],t,n))}),VM(e.children,(e,t)=>{void 0===s[t]&&(r[t]=e)}),new qM(e.segments,r)}}function II(e,t,n){const s=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&void 0!==n[r].outlets){const e=OI(n[r].outlets);return new qM(s,e)}if(0===r&&TI(n[0])){const i=e.segments[t];s.push(new zM(i.path,n[0])),r++;continue}const i=kI(n[r]),o=r<n.length-1?n[r+1]:null;i&&o&&TI(o)?(s.push(new zM(i,FI(o))),r+=2):(s.push(new zM(i,{})),r++)}return new qM(s,{})}function OI(e){const t={};return VM(e,(e,n)=>{null!==e&&(t[n]=II(new qM([],{}),0,e))}),t}function FI(e){const t={};return VM(e,(e,n)=>t[n]=`${e}`),t}function RI(e,t,n){return e==n.path&&RM(t,n.parameters)}const LI=(e,t,n)=>z(s=>(new $I(t,s.targetRouterState,s.currentRouterState,n).activate(e),s));class $I{constructor(e,t,n,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=s}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),CI(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const s=pI(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,s[t],n),delete s[t]}),VM(s,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(s===r)if(s.component){const r=n.getContext(s.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),s=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:s})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const s=pI(e),r=e.value.component?n.children:t;VM(s,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const s=pI(t);e.children.forEach(e=>{this.activateRoutes(e,s[e.value.outlet],n),this.forwardEvent(new CM(e.value.snapshot))}),e.children.length&&this.forwardEvent(new wM(e.value.snapshot))}activateRoutes(e,t,n){const s=e.value,r=t?t.value:null;if(CI(s),s===r)if(s.component){const r=n.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(s.component){const t=n.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const e=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),VI(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(s.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=s,t.resolver=r,t.outlet&&t.outlet.activateWith(s,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function VI(e){CI(e.value),e.children.forEach(VI)}function BI(e){return"function"==typeof e}function jI(e){return e instanceof HM}class UI{constructor(e){this.segmentGroup=e||null}}class HI{constructor(e){this.urlTree=e}}function qI(e){return new x(t=>t.error(new UI(e)))}function zI(e){return new x(t=>t.error(new HI(e)))}function WI(e){return new x(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class GI{constructor(e,t,n,s,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=s,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(It)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,xM).pipe(z(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(UN(e=>{if(e instanceof HI)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof UI)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,xM).pipe(z(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(UN(e=>{if(e instanceof UI)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const s=e.segments.length>0?new qM([],{[xM]:e}):e;return new HM(s,t,n)}expandSegmentGroup(e,t,n,s){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(z(e=>new qM([],e))):this.expandSegment(e,n,t,n.segments,s,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return vN({});const n=[],s=[],r={};return VM(e,(e,i)=>{const o=t(i,e).pipe(z(e=>r[i]=e));i===xM?n.push(o):s.push(o)}),vN.apply(null,n.concat(s)).pipe(xN(),jN(),z(()=>r))}(n.children,(n,s)=>this.expandSegmentGroup(e,t,s,n))}expandSegment(e,t,n,s,r,i){return vN(...n).pipe(z(o=>{return this.expandSegmentAgainstRoute(e,t,n,o,s,r,i).pipe(UN(e=>{if(e instanceof UI)return vN(null);throw e}))}),xN(),KN(e=>!!e),UN((e,n)=>{if(e instanceof wN||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,s,r))return vN(new qM([],{}));throw new UI(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,s,r,i,o){return XI(s)!==i?qI(t):void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,r):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i):qI(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,s,i):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,s){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?zI(r):this.lineralizeSegments(n,r).pipe(Z(n=>{const r=new qM(n,{});return this.expandSegment(e,r,t,n,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,s,r,i){const{matched:o,consumedSegments:a,lastChild:l,positionalParamSegments:c}=KI(t,s,r);if(!o)return qI(t);const u=this.applyRedirectCommands(a,s.redirectTo,c);return s.redirectTo.startsWith("/")?zI(u):this.lineralizeSegments(s,u).pipe(Z(s=>this.expandSegment(e,t,n,s.concat(r.slice(l)),i,!1)))}matchSegmentAgainstRoute(e,t,n,s){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(z(e=>(n._loadedConfig=e,new qM(s,{})))):vN(new qM(s,{}));const{matched:r,consumedSegments:i,lastChild:o}=KI(t,n,s);if(!r)return qI(t);const a=s.slice(o);return this.getChildConfig(e,n,s).pipe(Z(e=>{const n=e.module,s=e.routes,{segmentGroup:r,slicedSegments:o}=function(e,t,n,s){if(n.length>0&&function(e,t,n){return n.some(n=>ZI(e,t,n)&&XI(n)!==xM)}(e,n,s)){const r=new qM(t,function(e,t){const n={};n[xM]=t;for(const s of e)""===s.path&&XI(s)!==xM&&(n[XI(s)]=new qM([],{}));return n}(s,new qM(n,e.children)));return{segmentGroup:QI(r),slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>ZI(e,t,n))}(e,n,s)){const t=new qM(e.segments,function(e,t,n,s){const r={};for(const i of n)ZI(e,t,i)&&!s[XI(i)]&&(r[XI(i)]=new qM([],{}));return Object.assign({},s,r)}(e,n,s,e.children));return{segmentGroup:QI(t),slicedSegments:n}}return{segmentGroup:e,slicedSegments:n}}(t,i,a,s);if(0===o.length&&r.hasChildren()){return this.expandChildren(n,s,r).pipe(z(e=>new qM(i,e)))}return 0===s.length&&0===o.length?vN(new qM(i,{})):this.expandSegment(n,r,s,o,xM,!0).pipe(z(e=>new qM(i.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?vN(new NM(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?vN(t._loadedConfig):function(e,t,n){const s=t.canLoad;return s&&0!==s.length?Q(s).pipe(z(s=>{const r=e.get(s);let i;if(function(e){return e&&BI(e.canLoad)}(r))i=r.canLoad(t,n);else{if(!BI(r))throw new Error("Invalid CanLoad guard");i=r(t,n)}return BM(i)})).pipe(xN(),(r=(e=>!0===e),e=>e.lift(new QN(r,i,e)))):vN(!0);var r,i}(e.injector,t,n).pipe(Z(n=>n?this.configLoader.load(e.injector,t).pipe(z(e=>(t._loadedConfig=e,e))):function(e){return new x(t=>t.error(PM(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):vN(new NM([],e))}lineralizeSegments(e,t){let n=[],s=t.root;for(;;){if(n=n.concat(s.segments),0===s.numberOfChildren)return vN(n);if(s.numberOfChildren>1||!s.children[xM])return WI(e.redirectTo);s=s.children[xM]}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,s){const r=this.createSegmentGroup(e,t.root,n,s);return new HM(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return VM(e,(e,s)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[s]=t[r]}else n[s]=e}),n}createSegmentGroup(e,t,n,s){const r=this.createSegments(e,t.segments,n,s);let i={};return VM(t.children,(t,r)=>{i[r]=this.createSegmentGroup(e,t,n,s)}),new qM(r,i)}createSegments(e,t,n,s){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,s):this.findOrReturn(t,n))}findPosParam(e,t,n){const s=n[t.path.substring(1)];if(!s)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return s}findOrReturn(e,t){let n=0;for(const s of t){if(s.path===e.path)return t.splice(n),s;n++}return e}}function KI(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const s=(t.matcher||kM)(n,e,t);return s?{matched:!0,consumedSegments:s.consumed,lastChild:s.consumed.length,positionalParamSegments:s.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function QI(e){if(1===e.numberOfChildren&&e.children[xM]){const t=e.children[xM];return new qM(e.segments.concat(t.segments),t.children)}return e}function ZI(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0!==n.redirectTo)}function XI(e){return e.outlet||xM}function YI(e,t,n,s){return function(r){return r.pipe(XN(r=>(function(e,t,n,s,r){return new GI(e,t,n,s,r).apply()})(e,t,n,r.extractedUrl,s).pipe(z(e=>Object.assign({},r,{urlAfterRedirects:e})))))}}class JI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class eO{constructor(e,t){this.component=e,this.route=t}}function tO(e,t,n){const s=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(s?s.module.injector:n).get(e)}function nO(e,t,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=pI(t);return e.children.forEach(e=>{!function(e,t,n,s,r={canDeactivateChecks:[],canActivateChecks:[]}){const i=e.value,o=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){const l=function(e,t,n){switch(n){case"pathParamsChange":return!WM(e.url,t.url);case"always":return!0;case"paramsOrQueryParamsChange":return!bI(e,t)||!RM(e.queryParams,t.queryParams);case"paramsChange":default:return!bI(e,t)}}(o,i,i.routeConfig.runGuardsAndResolvers);if(l?r.canActivateChecks.push(new JI(s)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?nO(e,t,a?a.children:null,s,r):nO(e,t,n,s,r),l){const e=a&&a.outlet&&a.outlet.component||null;r.canDeactivateChecks.push(new eO(e,o))}}else o&&sO(t,a,r),r.canActivateChecks.push(new JI(s)),i.component?nO(e,null,a?a.children:null,s,r):nO(e,null,n,s,r)}(e,i[e.value.outlet],n,s.concat([e.value]),r),delete i[e.value.outlet]}),VM(i,(e,t)=>sO(e,n.getContext(t),r)),r}function sO(e,t,n){const s=pI(e),r=e.value;VM(s,(e,s)=>{r.component?sO(e,t?t.children.getContext(s):null,n):sO(e,t,n)}),r.component&&t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new eO(t.outlet.component,r)):n.canDeactivateChecks.push(new eO(null,r))}const rO=Symbol("INITIAL_VALUE");function iO(){return XN(e=>(function(...e){let t=null,n=null;return I(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),K(e,n).lift(new CN(t))})(...e.map(e=>e.pipe(zN(1),function(...e){return t=>{let n=e[e.length-1];I(n)?e.pop():n=null;const s=e.length;return eM(1!==s||n?s>0?K(e,n):fN(n):gN(e[0]),t)}}(rO)))).pipe(tM((e,t)=>{let n=!1;return t.reduce((e,s,r)=>{if(e!==rO)return e;if(s===rO&&(n=!0),!n){if(!1===s)return s;if(r===t.length-1||jI(s))return s}return e},e)},rO),TN(e=>e!==rO),z(e=>jI(e)?e:!0===e),zN(1)))}function oO(e,t){return function(n){return n.pipe(Z(n=>{const{targetSnapshot:s,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=n;return 0===o.length&&0===i.length?vN(Object.assign({},n,{guardsResult:!0})):function(e,t,n,s){return Q(e).pipe(Z(e=>(function(e,t,n,s,r){const i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return i&&0!==i.length?vN(i.map(i=>{const o=tO(i,t,r);let a;if(function(e){return e&&BI(e.canDeactivate)}(o))a=BM(o.canDeactivate(e,t,n,s));else{if(!BI(o))throw new Error("Invalid CanDeactivate guard");a=BM(o(e,t,n,s))}return a.pipe(KN())})).pipe(iO()):vN(!0)})(e.component,e.route,n,t,s)),KN(e=>!0!==e,!0))}(o,s,r,e).pipe(Z(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,s){return Q(t).pipe(rM(t=>Q([function(e,t){null!==e&&t&&t(new _M(e));return vN(!0)}(t.route.parent,s),function(e,t){null!==e&&t&&t(new EM(e));return vN(!0)}(t.route,s),function(e,t,n){const s=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>(function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null})(e)).filter(e=>null!==e).map(t=>SN(()=>{const r=t.guards.map(r=>{const i=tO(r,t.node,n);let o;if(function(e){return e&&BI(e.canActivateChild)}(i))o=BM(i.canActivateChild(s,e));else{if(!BI(i))throw new Error("Invalid CanActivateChild guard");o=BM(i(s,e))}return o.pipe(KN())});return vN(r).pipe(iO())}));return vN(r).pipe(iO())}(e,t.path,n),function(e,t,n){const s=t.routeConfig?t.routeConfig.canActivate:null;return s&&0!==s.length?vN(s.map(s=>SN(()=>{const r=tO(s,t,n);let i;if(function(e){return e&&BI(e.canActivate)}(r))i=BM(r.canActivate(t,e));else{if(!BI(r))throw new Error("Invalid CanActivate guard");i=BM(r(t,e))}return i.pipe(KN())}))).pipe(iO()):vN(!0)}(e,t.route,n)]).pipe(xN(),KN(e=>!0!==e,!0))),KN(e=>!0!==e,!0))}(s,i,e,t):vN(n)),z(e=>Object.assign({},n,{guardsResult:e})))}))}}class aO{}class lO{constructor(e,t,n,s,r,i){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=s,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=i}recognize(){try{const t=hO(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,n=this.processSegmentGroup(this.config,t,xM),s=new yI([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},xM,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new dI(s,n),i=new _I(this.url,r);return this.inheritParamsAndData(i._root),vN(i)}catch(e){return new x(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=vI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=GM(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),s=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${s}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>e.value.outlet===xM?-1:t.value.outlet===xM?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,s){for(const i of e)try{return this.processSegmentAgainstRoute(i,t,n,s)}catch(r){if(!(r instanceof aO))throw r}if(this.noLeftoversInUrl(t,n,s))return[];throw new aO}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,s){if(e.redirectTo)throw new aO;if((e.outlet||xM)!==s)throw new aO;let r,i=[],o=[];if("**"===e.path){const i=n.length>0?$M(n).parameters:{};r=new yI(n,i,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mO(e),s,e.component,e,cO(t),uO(t)+n.length,fO(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new aO;return{consumedSegments:[],lastChild:0,parameters:{}}}const s=(t.matcher||kM)(n,e,t);if(!s)throw new aO;const r={};VM(s.posParams,(e,t)=>{r[t]=e.path});const i=s.consumed.length>0?Object.assign({},r,s.consumed[s.consumed.length-1].parameters):r;return{consumedSegments:s.consumed,lastChild:s.consumed.length,parameters:i}}(t,e,n);i=a.consumedSegments,o=n.slice(a.lastChild),r=new yI(i,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,mO(e),s,e.component,e,cO(t),uO(t)+i.length,fO(e))}const a=function(e){if(e.children)return e.children;if(e.loadChildren)return e._loadedConfig.routes;return[]}(e),{segmentGroup:l,slicedSegments:c}=hO(t,i,o,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new dI(r,e)]}if(0===a.length&&0===c.length)return[new dI(r,[])];const u=this.processSegment(a,l,c,xM);return[new dI(r,u)]}}function cO(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function uO(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function hO(e,t,n,s,r){if(n.length>0&&function(e,t,n){return n.some(n=>dO(e,t,n)&&pO(n)!==xM)}(e,n,s)){const r=new qM(t,function(e,t,n,s){const r={};r[xM]=s,s._sourceSegment=e,s._segmentIndexShift=t.length;for(const i of n)if(""===i.path&&pO(i)!==xM){const n=new qM([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[pO(i)]=n}return r}(e,t,s,new qM(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>dO(e,t,n))}(e,n,s)){const i=new qM(e.segments,function(e,t,n,s,r,i){const o={};for(const a of s)if(dO(e,n,a)&&!r[pO(a)]){const n=new qM([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===i?e.segments.length:t.length,o[pO(a)]=n}return Object.assign({},r,o)}(e,t,n,s,e.children,r));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}const i=new qM(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function dO(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&(""===n.path&&void 0===n.redirectTo)}function pO(e){return e.outlet||xM}function mO(e){return e.data||{}}function fO(e){return e.resolve||{}}function gO(e,t,n,s,r){return function(i){return i.pipe(Z(i=>(function(e,t,n,s,r="emptyOnly",i="legacy"){return new lO(e,t,n,s,r,i).recognize()})(e,t,i.urlAfterRedirects,n(i.urlAfterRedirects),s,r).pipe(z(e=>Object.assign({},i,{targetSnapshot:e})))))}}function vO(e,t){return function(n){return n.pipe(Z(n=>{const{targetSnapshot:s,guards:{canActivateChecks:r}}=n;return r.length?Q(r).pipe(rM(n=>(function(e,t,n,s){return function(e,t,n,s){const r=Object.keys(e);if(0===r.length)return vN({});if(1===r.length){const i=r[0];return yO(e[i],t,n,s).pipe(z(e=>({[i]:e})))}const i={};return Q(r).pipe(Z(r=>yO(e[r],t,n,s).pipe(z(e=>(i[r]=e,e))))).pipe(jN(),z(()=>i))}(e._resolve,e,t,s).pipe(z(t=>(e._resolvedData=t,e.data=Object.assign({},e.data,vI(e,n).resolve),null)))})(n.route,s,e,t)),function(e,t){return arguments.length>=2?function(n){return b(tM(e,t),NN(1),$N(t))(n)}:function(t){return b(tM((t,n,s)=>e(t,n,s+1)),NN(1))(t)}}((e,t)=>e),z(e=>n)):vN(n)}))}}function yO(e,t,n,s){const r=tO(e,t,s);return r.resolve?BM(r.resolve(t,n)):BM(r(t,n))}function _O(e){return function(t){return t.pipe(XN(t=>{const n=e(t);return n?Q(n).pipe(z(()=>t)):Q([t])}))}}class wO{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}const EO=new ye("ROUTES");class CO{constructor(e,t,n,s){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=s}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(z(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const s=n.create(e);return new NM(LM(s.injector.get(EO)).map(FM),s)}))}loadModuleFactory(e){return"string"==typeof e?Q(this.loader.load(e)):BM(e()).pipe(Z(e=>e instanceof Ot?vN(e):Q(this.compiler.compileModuleAsync(e))))}}class bO{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function SO(e){throw e}function xO(e,t,n){return t.parse("/")}function TO(e,t){return vN(null)}class AO{constructor(e,t,n,s,r,i,o,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=s,this.config=a,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new N,this.errorHandler=SO,this.malformedUriErrorHandler=xO,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:TO,afterPreactivation:TO},this.urlHandlingStrategy=new bO,this.routeReuseStrategy=new wO,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy";this.ngModule=r.get(It),this.console=r.get(er);const l=r.get(ur);this.isNgZoneEnabled=l instanceof ur,this.resetConfig(a),this.currentUrlTree=new HM(new qM([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.configLoader=new CO(i,o,e=>this.triggerEvent(new vM(e)),e=>this.triggerEvent(new yM(e))),this.routerState=fI(this.currentUrlTree,this.rootComponentType),this.transitions=new yN({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",state:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(TN(e=>0!==e.id),z(e=>Object.assign({},e,{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),XN(e=>{let n=!1,s=!1;return vN(e).pipe(XN(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return vN(e).pipe(ON(e=>"eager"===this.urlUpdateStrategy&&!e.extras.skipLocationChange&&this.setBrowserUrl(e.rawUrl,!!e.extras.replaceUrl,e.id)),XN(e=>{const n=this.transitions.getValue();return t.next(new lM(e.id,this.serializeUrl(e.extractedUrl),e.source,e.state)),n!==this.transitions.getValue()?mN:[e]}),XN(e=>Promise.resolve(e)),YI(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),gO(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),ON(e=>{const n=new dM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:s,source:r,state:i,extras:o}=e,a=new lM(n,this.serializeUrl(s),r,i);t.next(a);const l=fI(s,this.rootComponentType).snapshot;return vN(Object.assign({},e,{targetSnapshot:l,urlAfterRedirects:s,extras:Object.assign({},o,{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,e.resolve(null),mN}),_O(e=>{const{targetSnapshot:t,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),ON(e=>{const t=new pM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),z(e=>Object.assign({},e,{guards:function(e,t,n){const s=e._root;return nO(s,t?t._root:null,n,[s.value])}(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),oO(this.ngModule.injector,e=>this.triggerEvent(e)),ON(e=>{if(jI(e.guardsResult)){const t=PM(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),ON(e=>{const t=new mM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),TN(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new uM(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),_O(e=>{if(e.guards.canActivateChecks.length)return vN(e).pipe(ON(e=>{const t=new fM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),vO(this.paramsInheritanceStrategy,this.ngModule.injector),ON(e=>{const t=new gM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),_O(e=>{const{targetSnapshot:t,id:n,extractedUrl:s,rawUrl:r,extras:{skipLocationChange:i,replaceUrl:o}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:s,rawUrlTree:r,skipLocationChange:!!i,replaceUrl:!!o})}),z(e=>{const t=function(e,t,n){const s=SI(e,t._root,n?n._root:void 0);return new mI(s,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:t})}),ON(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"!==this.urlUpdateStrategy||e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id)}),LI(this.rootContexts,this.routeReuseStrategy,e=>this.triggerEvent(e)),ON({next(){n=!0},complete(){n=!0}}),function(e){return t=>t.lift(new iM(e))}(()=>{if(!n&&!s){this.resetUrlToCurrentUrlTree();const n=new uM(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}}),UN(n=>{if(s=!0,function(e){return e&&e[DM]}(n)){this.navigated=!0;const s=jI(n.url);s||this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const r=new uM(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),e.resolve(!1),s&&this.navigateByUrl(n.url)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const s=new hM(e.id,this.serializeUrl(e.extractedUrl),n);t.next(s);try{e.resolve(this.errorHandler(n))}catch(r){e.reject(r)}}return mN}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){return this.transitions.value}setTransition(e){this.transitions.next(Object.assign({},this.getTransition(),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",s=e.state&&e.state.navigationId?{navigationId:e.state.navigationId}:null;setTimeout(()=>{this.scheduleNavigation(t,n,s,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}triggerEvent(e){this.events.next(e)}resetConfig(e){MM(e),this.config=e.map(FM),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:s,fragment:r,preserveQueryParams:i,queryParamsHandling:o,preserveFragment:a}=t;cn()&&i&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}else u=i?this.currentUrlTree.queryParams:s||null;return null!==u&&(u=this.removeEmptyProps(u)),xI(l,this.currentUrlTree,e,u,c)}navigateByUrl(e,t={skipLocationChange:!1}){cn()&&this.isNgZoneEnabled&&!ur.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=jI(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(s,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(jI(e))return jM(this.currentUrlTree,e,t);const n=this.parseUrl(e);return jM(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const s=e[n];return null!=s&&(t[n]=s),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new cM(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,s){const r=this.getTransition();if(r&&"imperative"!==t&&"imperative"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"hashchange"==t&&"popstate"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(r&&"popstate"==t&&"hashchange"===r.source&&r.rawUrl.toString()===e.toString())return Promise.resolve(!0);let i=null,o=null;const a=new Promise((e,t)=>{i=e,o=t}),l=++this.navigationId;return this.setTransition({id:l,source:t,state:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:s,resolve:i,reject:o,promise:a,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),a.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n){const s=this.urlSerializer.serialize(e);this.location.isCurrentPathEqualTo(s)||t?this.location.replaceState(s,"",{navigationId:n}):this.location.go(s,"",{navigationId:n})}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}class DO{constructor(e,t,n,s,r){this.router=e,this.route=t,this.commands=[],null==n&&s.setAttribute(r.nativeElement,"tabindex","0")}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){cn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}onClick(){const e={skipLocationChange:kO(this.skipLocationChange),replaceUrl:kO(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:kO(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:kO(this.preserveFragment)})}}DO.decorators=[{type:Yn,args:[{selector:":not(a)[routerLink]"}]}],DO.ctorParameters=(()=>[{type:AO},{type:gI},{type:String,decorators:[{type:Ae,args:["tabindex"]}]},{type:tn},{type:Zt}]),DO.propDecorators={queryParams:[{type:ns}],fragment:[{type:ns}],queryParamsHandling:[{type:ns}],preserveFragment:[{type:ns}],skipLocationChange:[{type:ns}],replaceUrl:[{type:ns}],routerLink:[{type:ns}],preserveQueryParams:[{type:ns}],onClick:[{type:is,args:["click"]}]};class PO{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.subscription=e.events.subscribe(e=>{e instanceof cM&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}set preserveQueryParams(e){cn()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}ngOnChanges(e){this.updateTargetUrlAndHref()}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,s){if(0!==e||t||n||s)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const r={skipLocationChange:kO(this.skipLocationChange),replaceUrl:kO(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,r),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:kO(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:kO(this.preserveFragment)})}}function kO(e){return""===e||!!e}PO.decorators=[{type:Yn,args:[{selector:"a[routerLink]"}]}],PO.ctorParameters=(()=>[{type:AO},{type:gI},{type:lS}]),PO.propDecorators={target:[{type:rs,args:["attr.target"]},{type:ns}],queryParams:[{type:ns}],fragment:[{type:ns}],queryParamsHandling:[{type:ns}],preserveFragment:[{type:ns}],skipLocationChange:[{type:ns}],replaceUrl:[{type:ns}],href:[{type:rs}],routerLink:[{type:ns}],preserveQueryParams:[{type:ns}],onClick:[{type:is,args:["click",["$event.button","$event.ctrlKey","$event.metaKey","$event.shiftKey"]]}]};class NO{constructor(e,t,n,s){this.router=e,this.element=t,this.renderer=n,this.cdr=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=e.events.subscribe(e=>{e instanceof cM&&this.update()})}ngAfterContentInit(){this.links.changes.subscribe(e=>this.update()),this.linksWithHrefs.changes.subscribe(e=>this.update()),this.update()}set routerLinkActive(e){const t=Array.isArray(e)?e:e.split(" ");this.classes=t.filter(e=>!!e)}ngOnChanges(e){this.update()}ngOnDestroy(){this.subscription.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.classes.forEach(t=>{e?this.renderer.addClass(this.element.nativeElement,t):this.renderer.removeClass(this.element.nativeElement,t)}))})}isLinkActive(e){return t=>e.isActive(t.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){return this.links.some(this.isLinkActive(this.router))||this.linksWithHrefs.some(this.isLinkActive(this.router))}}NO.decorators=[{type:Yn,args:[{selector:"[routerLinkActive]",exportAs:"routerLinkActive"}]}],NO.ctorParameters=(()=>[{type:AO},{type:Zt},{type:tn},{type:jr}]),NO.propDecorators={links:[{type:Pe,args:[DO,{descendants:!0}]}],linksWithHrefs:[{type:Pe,args:[PO,{descendants:!0}]}],routerLinkActiveOptions:[{type:ns}],routerLinkActive:[{type:ns}]};class MO{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new IO,this.attachRef=null}}class IO{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new MO,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class OO{constructor(e,t,n,s,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Rn,this.deactivateEvents=new Rn,this.name=s||xM,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=e._futureSnapshot.routeConfig.component,s=(t=t||this.resolver).resolveComponentFactory(n),r=this.parentContexts.getOrCreateContext(this.name).children,i=new FO(e,r,this.location.injector);this.activated=this.location.createComponent(s,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}OO.decorators=[{type:Yn,args:[{selector:"router-outlet",exportAs:"outlet"}]}],OO.ctorParameters=(()=>[{type:IO},{type:Vr},{type:Gt},{type:String,decorators:[{type:Ae,args:["name"]}]},{type:jr}]),OO.propDecorators={activateEvents:[{type:ss,args:["activate"]}],deactivateEvents:[{type:ss,args:["deactivate"]}]};class FO{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===gI?this.route:e===IO?this.childContexts:this.parent.get(e,t)}}class RO{}class LO{preload(e,t){return vN(null)}}class $O{constructor(e,t,n,s,r){this.router=e,this.injector=s,this.preloadingStrategy=r;this.loader=new CO(t,n,t=>e.triggerEvent(new vM(t)),t=>e.triggerEvent(new yM(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(TN(e=>e instanceof cM),rM(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(It);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const s of t)if(s.loadChildren&&!s.canLoad&&s._loadedConfig){const e=s._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else s.loadChildren&&!s.canLoad?n.push(this.preloadConfig(e,s)):s.children&&n.push(this.processRoutes(e,s.children));return Q(n).pipe(ee(),z(e=>void 0))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>{return this.loader.load(e.injector,t).pipe(Z(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes))))})}}$O.decorators=[{type:ms}],$O.ctorParameters=(()=>[{type:AO},{type:kr},{type:nr},{type:gt},{type:RO}]);class VO{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof lM?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof cM&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof bM&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new bM(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}const BO=[OO,DO,PO,NO,SM],jO=new ye("ROUTER_CONFIGURATION"),UO=new ye("ROUTER_FORROOT_GUARD"),HO=[uS,{provide:KM,useClass:QM},{provide:AO,useFactory:function(e,t,n,s,r,i,o,a,l={},c,u){const h=new AO(null,t,n,s,r,i,o,LM(a));c&&(h.urlHandlingStrategy=c);u&&(h.routeReuseStrategy=u);l.errorHandler&&(h.errorHandler=l.errorHandler);l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler);if(l.enableTracing){const e=OT();h.events.subscribe(t=>{e.logGroup(`Router Event: ${t.constructor.name}`),e.log(t.toString()),e.log(t),e.logGroupEnd()})}l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation);l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy);l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy);l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution);return h},deps:[Dr,KM,IO,uS,gt,kr,nr,EO,jO,[class{},new He],[class{},new He]]},IO,{provide:gI,useFactory:function(e){return e.routerState.root},deps:[AO]},{provide:kr,useClass:Lr},$O,LO,class{preload(e,t){return t().pipe(UN(()=>vN(null)))}},{provide:jO,useValue:{enableTracing:!1}}];function qO(){return new br("Router",AO)}class zO{constructor(e,t){}static forRoot(e,t){return{ngModule:zO,providers:[HO,QO(e),{provide:UO,useFactory:KO,deps:[[AO,new He,new ze]]},{provide:jO,useValue:t||{}},{provide:lS,useFactory:GO,deps:[oS,[new Ue(cS),new He],jO]},{provide:VO,useFactory:WO,deps:[AO,NT,jO]},{provide:RO,useExisting:t&&t.preloadingStrategy?t.preloadingStrategy:LO},{provide:br,multi:!0,useFactory:qO},[ZO,{provide:zs,multi:!0,useFactory:XO,deps:[ZO]},{provide:JO,useFactory:YO,deps:[ZO]},{provide:Ys,multi:!0,useExisting:JO}]]}}static forChild(e){return{ngModule:zO,providers:[QO(e)]}}}function WO(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new VO(e,t,n)}function GO(e,t,n={}){return n.useHash?new dS(e,t):new pS(e,t)}function KO(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function QO(e){return[{provide:Te,multi:!0,useValue:e},{provide:EO,multi:!0,useValue:e}]}zO.decorators=[{type:ds,args:[{declarations:BO,exports:BO,entryComponents:[SM]}]}],zO.ctorParameters=(()=>[{type:void 0,decorators:[{type:He},{type:Ue,args:[UO]}]},{type:AO,decorators:[{type:He}]}]);class ZO{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new N}appInitializer(){return this.injector.get(aS,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(AO),s=this.injector.get(jO);if(this.isLegacyDisabled(s)||this.isLegacyEnabled(s))e(!0);else if("disabled"===s.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==s.initialNavigation)throw new Error(`Invalid initialNavigation options: '${s.initialNavigation}'`);n.hooks.afterPreactivation=(()=>this.initNavigation?vN(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone)),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(jO),n=this.injector.get($O),s=this.injector.get(VO),r=this.injector.get(AO),i=this.injector.get(Dr);e===i.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),s.init(),r.resetRootComponentType(i.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}function XO(e){return e.appInitializer.bind(e)}function YO(e){return e.bootstrapListener.bind(e)}ZO.decorators=[{type:ms}],ZO.ctorParameters=(()=>[{type:gt}]);const JO=new ye("Router Initializer");new sn("7.1.1");class eF extends q{constructor(e,t){super(e),this.sources=t,this.completed=0,this.haveValues=0;const n=t.length;this.values=new Array(n);for(let s=0;s<n;s++){const e=H(this,t[s],null,s);e&&this.add(e)}}notifyNext(e,t,n,s,r){this.values[n]=t,r._hasValue||(r._hasValue=!0,this.haveValues++)}notifyComplete(e){const{destination:t,haveValues:n,values:s}=this,r=s.length;e._hasValue?(this.completed++,this.completed===r&&(n===r&&t.next(s),t.complete())):t.complete()}}class tF{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class nF extends tF{get formDirective(){return null}get path(){return null}}function sF(e){return null==e||0===e.length}const rF=new ye("NgValidators"),iF=new ye("NgAsyncValidators"),oF=/^(?=.{1,254}$)(?=.{1,64}@)[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+(\.[-!#$%&'*+\/0-9=?A-Z^_`a-z{|}~]+)*@[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?(\.[A-Za-z0-9]([A-Za-z0-9-]{0,61}[A-Za-z0-9])?)*$/;class aF{static min(e){return t=>{if(sF(t.value)||sF(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(sF(t.value)||sF(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return sF(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return sF(e.value)?null:oF.test(e.value)?null:{email:!0}}static minLength(e){return t=>{if(sF(t.value))return null;const n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}static maxLength(e){return t=>{const n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}static pattern(e){if(!e)return aF.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(sF(e.value))return null;const s=e.value;return t.test(s)?null:{pattern:{requiredPattern:n,actualValue:s}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(lF);return 0==t.length?null:function(e){return uF(function(e,t){return t.map(t=>t(e))}(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(lF);return 0==t.length?null:function(e){return function e(...t){let n;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),0===t.length?mN:n?e(t).pipe(z(e=>n(...e))):new x(e=>new eF(e,t))}(function(e,t){return t.map(t=>t(e))}(e,t).map(cF)).pipe(z(uF))}}}function lF(e){return null!=e}function cF(e){const t=Hs(e)?Q(e):e;if(!qs(t))throw new Error("Expected validator to return Promise or Observable.");return t}function uF(e){const t=e.reduce((e,t)=>null!=t?Object.assign({},e,t):e,{});return 0===Object.keys(t).length?null:t}const hF=new ye("NgValueAccessor"),dF={provide:hF,useExisting:ct(()=>pF),multi:!0};class pF{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}pF.decorators=[{type:Yn,args:[{selector:"input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]",host:{"(change)":"onChange($event.target.checked)","(blur)":"onTouched()"},providers:[dF]}]}],pF.ctorParameters=(()=>[{type:tn},{type:Zt}]);const mF={provide:hF,useExisting:ct(()=>gF),multi:!0};const fF=new ye("CompositionEventMode");class gF{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=OT()?OT().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}function vF(e){return e.validate?t=>e.validate(t):e}function yF(e){return e.validate?t=>e.validate(t):e}gF.decorators=[{type:Yn,args:[{selector:"input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]",host:{"(input)":"$any(this)._handleInput($event.target.value)","(blur)":"onTouched()","(compositionstart)":"$any(this)._compositionStart()","(compositionend)":"$any(this)._compositionEnd($event.target.value)"},providers:[mF]}]}],gF.ctorParameters=(()=>[{type:tn},{type:Zt},{type:Boolean,decorators:[{type:He},{type:Ue,args:[fF]}]}]);const _F={provide:hF,useExisting:ct(()=>wF),multi:!0};class wF{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){const t=null==e?"":e;this._renderer.setProperty(this._elementRef.nativeElement,"value",t)}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}function EF(){throw new Error("unimplemented")}wF.decorators=[{type:Yn,args:[{selector:"input[type=number][formControlName],input[type=number][formControl],input[type=number][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[_F]}]}],wF.ctorParameters=(()=>[{type:tn},{type:Zt}]);class CF extends tF{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return EF()}get asyncValidator(){return EF()}}const bF={provide:hF,useExisting:ct(()=>xF),multi:!0};class SF{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&(e[0]._parent===t._control._parent&&e[1].name===t.name)}}SF.decorators=[{type:ms}];class xF{constructor(e,t,n,s){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=s,this.onChange=(()=>{}),this.onTouched=(()=>{})}ngOnInit(){this._control=this._injector.get(CF),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=(()=>{e(this.value),this._registry.select(this)})}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}xF.decorators=[{type:Yn,args:[{selector:"input[type=radio][formControlName],input[type=radio][formControl],input[type=radio][ngModel]",host:{"(change)":"onChange()","(blur)":"onTouched()"},providers:[bF]}]}],xF.ctorParameters=(()=>[{type:tn},{type:Zt},{type:SF},{type:gt}]),xF.propDecorators={name:[{type:ns}],formControlName:[{type:ns}],value:[{type:ns}]};const TF={provide:hF,useExisting:ct(()=>AF),multi:!0};class AF{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=(e=>{}),this.onTouched=(()=>{})}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=(t=>{e(""==t?null:parseFloat(t))})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}AF.decorators=[{type:Yn,args:[{selector:"input[type=range][formControlName],input[type=range][formControl],input[type=range][ngModel]",host:{"(change)":"onChange($event.target.value)","(input)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[TF]}]}],AF.ctorParameters=(()=>[{type:tn},{type:Zt}]);const DF={formControlName:'\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',formGroupName:'\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',formArrayName:'\n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });',ngModelGroup:'\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',ngModelWithFormGroup:'\n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  '};class PF{static controlParentException(){throw new Error(`formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${DF.formControlName}`)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${DF.formGroupName}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${DF.ngModelGroup}`)}static missingFormException(){throw new Error(`formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       ${DF.formControlName}`)}static groupParentException(){throw new Error(`formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      ${DF.formGroupName}`)}static arrayParentException(){throw new Error(`formArrayName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        ${DF.formArrayName}`)}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}. \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const kF={provide:hF,useExisting:ct(()=>MF),multi:!0};function NF(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class MF{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=Be}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=NF(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=(t=>{this.value=this._getOptionValue(t),e(this.value)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}MF.decorators=[{type:Yn,args:[{selector:"select:not([multiple])[formControlName],select:not([multiple])[formControl],select:not([multiple])[ngModel]",host:{"(change)":"onChange($event.target.value)","(blur)":"onTouched()"},providers:[kF]}]}],MF.ctorParameters=(()=>[{type:tn},{type:Zt}]),MF.propDecorators={compareWith:[{type:ns}]};class IF{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(NF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}IF.decorators=[{type:Yn,args:[{selector:"option"}]}],IF.ctorParameters=(()=>[{type:Zt},{type:tn},{type:MF,decorators:[{type:He},{type:We}]}]),IF.propDecorators={ngValue:[{type:ns,args:["ngValue"]}],value:[{type:ns,args:["value"]}]};const OF={provide:hF,useExisting:ct(()=>RF),multi:!0};function FF(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}class RF{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=(e=>{}),this.onTouched=(()=>{}),this._compareWith=Be}set compareWith(e){if("function"!=typeof e)throw new Error(`compareWith must be a function, but received ${JSON.stringify(e)}`);this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=((e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)})}else t=((e,t)=>{e._setSelected(!1)});this._optionMap.forEach(t)}registerOnChange(e){this.onChange=(t=>{const n=[];if(t.hasOwnProperty("selectedOptions")){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const s=e.item(t),r=this._getOptionValue(s.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const s=e.item(t);if(s.selected){const e=this._getOptionValue(s.value);n.push(e)}}}this.value=n,e(n)})}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}RF.decorators=[{type:Yn,args:[{selector:"select[multiple][formControlName],select[multiple][formControl],select[multiple][ngModel]",host:{"(change)":"onChange($event.target)","(blur)":"onTouched()"},providers:[OF]}]}],RF.ctorParameters=(()=>[{type:tn},{type:Zt}]),RF.propDecorators={compareWith:[{type:ns}]};class LF{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(FF(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(FF(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}function $F(e,t){return[...t.path,e]}function VF(e,t){e||HF(t,"Cannot find control with"),t.valueAccessor||HF(t,"No value accessor for form control with"),e.validator=aF.compose([e.validator,t.validator]),e.asyncValidator=aF.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&BF(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&BF(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function BF(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jF(e,t){null==e&&HF(t,"Cannot find control with"),e.validator=aF.compose([e.validator,t.validator]),e.asyncValidator=aF.composeAsync([e.asyncValidator,t.asyncValidator])}function UF(e){return HF(e,"There is no FormControl instance attached to form control element with")}function HF(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function qF(e){return null!=e?aF.compose(e.map(vF)):null}function zF(e){return null!=e?aF.composeAsync(e.map(yF)):null}function WF(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Be(t,n.currentValue)}LF.decorators=[{type:Yn,args:[{selector:"option"}]}],LF.ctorParameters=(()=>[{type:Zt},{type:tn},{type:RF,decorators:[{type:He},{type:We}]}]),LF.propDecorators={ngValue:[{type:ns,args:["ngValue"]}],value:[{type:ns,args:["value"]}]};const GF=[pF,AF,wF,MF,RF,xF];function KF(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function QF(e,t){if(!t)return null;Array.isArray(t)||HF(e,"Value accessor was not provided as an array for form control with");let n=void 0,s=void 0,r=void 0;return t.forEach(t=>{t.constructor===gF?n=t:!function(e){return GF.some(t=>e.constructor===t)}(t)?(r&&HF(e,"More than one custom value accessor matches form control with"),r=t):(s&&HF(e,"More than one built-in value accessor matches form control with"),s=t)}),r||(s||(n||(HF(e,"No valid value accessor for form control with"),null)))}function ZF(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function XF(e,t,n,s){cn()&&"never"!==s&&((null!==s&&"once"!==s||t._ngModelWarningSentOnce)&&("always"!==s||n._ngModelWarningSent)||(PF.ngModelWarning(e),t._ngModelWarningSentOnce=!0,n._ngModelWarningSent=!0))}class YF extends nF{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return $F(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qF(this._validators)}get asyncValidator(){return zF(this._asyncValidators)}_checkParentType(){}}class JF{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}const eR={"[class.ng-untouched]":"ngClassUntouched","[class.ng-touched]":"ngClassTouched","[class.ng-pristine]":"ngClassPristine","[class.ng-dirty]":"ngClassDirty","[class.ng-valid]":"ngClassValid","[class.ng-invalid]":"ngClassInvalid","[class.ng-pending]":"ngClassPending"};class tR extends JF{constructor(e){super(e)}}tR.decorators=[{type:Yn,args:[{selector:"[formControlName],[ngModel],[formControl]",host:eR}]}],tR.ctorParameters=(()=>[{type:CF,decorators:[{type:qe}]}]);class nR extends JF{constructor(e){super(e)}}nR.decorators=[{type:Yn,args:[{selector:"[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]",host:eR}]}],nR.ctorParameters=(()=>[{type:nF,decorators:[{type:qe}]}]);const sR="VALID",rR="INVALID",iR="PENDING",oR="DISABLED";function aR(e){const t=cR(e)?e.validators:e;return Array.isArray(t)?qF(t):t||null}function lR(e,t){const n=cR(t)?t.asyncValidators:e;return Array.isArray(n)?zF(n):n||null}function cR(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class uR{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=(()=>{}),this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return this.status===sR}get invalid(){return this.status===rR}get pending(){return this.status==iR}get disabled(){return this.status===oR}get enabled(){return this.status!==oR}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=aR(e)}setAsyncValidators(e){this.asyncValidator=lR(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=iR,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){this.status=oR,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign({},e,{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(e),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){this.status=sR,this._forEachChild(t=>{t.enable(Object.assign({},e,{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(e),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==sR&&this.status!==iR||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?oR:sR}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=iR;const t=cF(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(n)),t instanceof Array&&0===t.length?null:t.reduce((e,t)=>e instanceof dR?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof pR&&e.at(t)||null,e))}(this,e,".")}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Rn,this.statusChanges=new Rn}_calculateStatus(){return this._allControlsDisabled()?oR:this.errors?rR:this._anyControlsHaveStatus(iR)?iR:this._anyControlsHaveStatus(rR)?rR:sR}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){cR(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}}class hR extends uR{constructor(e=null,t,n){super(aR(t),lR(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=(()=>{})}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange))&&(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0)}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class dR extends uR{constructor(e,t,n){super(aR(t),lR(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof hR?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){let t=!1;return this._forEachChild((n,s)=>{t=t||this.contains(s)&&e(n)}),t}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,s)=>{n=t(n,e,s)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class pR extends uR{constructor(e,t,n){super(aR(t),lR(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,s)=>{n.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t),this._updatePristine(t),this._updateTouched(t)}getRawValue(){return this.controls.map(e=>e instanceof hR?e.value:e.getRawValue())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const mR={provide:nF,useExisting:ct(()=>gR)},fR=Promise.resolve(null);class gR extends nF{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Rn,this.form=new dR({},qF(e),zF(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){fR.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),VF(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){fR.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),ZF(this._directives,e)})}addFormGroup(e){fR.then(()=>{const t=this._findContainer(e.path),n=new dR({});jF(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){fR.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){fR.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,KF(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}gR.decorators=[{type:Yn,args:[{selector:"form:not([ngNoForm]):not([formGroup]),ngForm,ng-form,[ngForm]",providers:[mR],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},outputs:["ngSubmit"],exportAs:"ngForm"}]}],gR.ctorParameters=(()=>[{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]}]),gR.propDecorators={options:[{type:ns,args:["ngFormOptions"]}]};class vR{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${DF.formControlName}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      ${DF.ngModelWithFormGroup}`)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${DF.formGroupName}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${DF.ngModelGroup}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${DF.formGroupName}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${DF.ngModelGroup}`)}static ngFormWarning(){console.warn("\n    It looks like you're using 'ngForm'.\n\n    Support for using the 'ngForm' element selector has been deprecated in Angular v6 and will be removed\n    in Angular v9.\n\n    Use 'ng-form' instead.\n\n    Before:\n    <ngForm #myForm=\"ngForm\">\n\n    After:\n    <ng-form #myForm=\"ngForm\">\n    ")}}const yR=new ye("NgFormSelectorWarning");class _R{constructor(e){(e&&"once"!==e||_R._ngFormWarning)&&"always"!==e||(vR.ngFormWarning(),_R._ngFormWarning=!0)}}_R._ngFormWarning=!1,_R.decorators=[{type:Yn,args:[{selector:"ngForm"}]}],_R.ctorParameters=(()=>[{type:void 0,decorators:[{type:He},{type:Ue,args:[yR]}]}]);const wR={provide:nF,useExisting:ct(()=>ER)};class ER extends YF{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof ER||this._parent instanceof gR||vR.modelGroupParentException()}}ER.decorators=[{type:Yn,args:[{selector:"[ngModelGroup]",providers:[wR],exportAs:"ngModelGroup"}]}],ER.ctorParameters=(()=>[{type:nF,decorators:[{type:We},{type:ze}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]}]),ER.propDecorators={name:[{type:ns,args:["ngModelGroup"]}]};const CR={provide:CF,useExisting:ct(()=>SR)},bR=Promise.resolve(null);class SR extends CF{constructor(e,t,n,s){super(),this.control=new hR,this._registered=!1,this.update=new Rn,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=QF(this,s)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),WF(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?$F(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qF(this._rawValidators)}get asyncValidator(){return zF(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){VF(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ER)&&this._parent instanceof YF?vR.formGroupNameException():this._parent instanceof ER||this._parent instanceof gR||vR.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||vR.missingNameException()}_updateValue(e){bR.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;bR.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}SR.decorators=[{type:Yn,args:[{selector:"[ngModel]:not([formControlName]):not([formControl])",providers:[CR],exportAs:"ngModel"}]}],SR.ctorParameters=(()=>[{type:nF,decorators:[{type:He},{type:We}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[hF]}]}]),SR.propDecorators={name:[{type:ns}],isDisabled:[{type:ns,args:["disabled"]}],model:[{type:ns,args:["ngModel"]}],options:[{type:ns,args:["ngModelOptions"]}],update:[{type:ss,args:["ngModelChange"]}]};const xR=new ye("NgModelWithFormControlWarning"),TR={provide:CF,useExisting:ct(()=>AR)};class AR extends CF{constructor(e,t,n,s){super(),this._ngModelWarningConfig=s,this.update=new Rn,this._ngModelWarningSent=!1,this._rawValidators=e||[],this._rawAsyncValidators=t||[],this.valueAccessor=QF(this,n)}set isDisabled(e){PF.disabledAttrWarning()}ngOnChanges(e){this._isControlChanged(e)&&(VF(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})),WF(e,this.viewModel)&&(XF("formControl",AR,this,this._ngModelWarningConfig),this.form.setValue(this.model),this.viewModel=this.model)}get path(){return[]}get validator(){return qF(this._rawValidators)}get asyncValidator(){return zF(this._rawAsyncValidators)}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}AR._ngModelWarningSentOnce=!1,AR.decorators=[{type:Yn,args:[{selector:"[formControl]",providers:[TR],exportAs:"ngForm"}]}],AR.ctorParameters=(()=>[{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[hF]}]},{type:void 0,decorators:[{type:He},{type:Ue,args:[xR]}]}]),AR.propDecorators={form:[{type:ns,args:["formControl"]}],isDisabled:[{type:ns,args:["disabled"]}],model:[{type:ns,args:["ngModel"]}],update:[{type:ss,args:["ngModelChange"]}]};const DR={provide:nF,useExisting:ct(()=>PR)};class PR extends nF{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Rn}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return VF(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){ZF(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);jF(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);jF(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,KF(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(!function(e,t){t.valueAccessor.registerOnChange(()=>UF(t)),t.valueAccessor.registerOnTouched(()=>UF(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&VF(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=qF(this._validators);this.form.validator=aF.compose([this.form.validator,e]);const t=zF(this._asyncValidators);this.form.asyncValidator=aF.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||PF.missingFormException()}}PR.decorators=[{type:Yn,args:[{selector:"[formGroup]",providers:[DR],host:{"(submit)":"onSubmit($event)","(reset)":"onReset()"},exportAs:"ngForm"}]}],PR.ctorParameters=(()=>[{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]}]),PR.propDecorators={form:[{type:ns,args:["formGroup"]}],ngSubmit:[{type:ss}]};const kR={provide:nF,useExisting:ct(()=>NR)};class NR extends YF{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){OR(this._parent)&&PF.groupParentException()}}NR.decorators=[{type:Yn,args:[{selector:"[formGroupName]",providers:[kR]}]}],NR.ctorParameters=(()=>[{type:nF,decorators:[{type:He},{type:We},{type:ze}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]}]),NR.propDecorators={name:[{type:ns,args:["formGroupName"]}]};const MR={provide:nF,useExisting:ct(()=>IR)};class IR extends nF{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return $F(this.name,this._parent)}get validator(){return qF(this._validators)}get asyncValidator(){return zF(this._asyncValidators)}_checkParentType(){OR(this._parent)&&PF.arrayParentException()}}function OR(e){return!(e instanceof NR||e instanceof PR||e instanceof IR)}IR.decorators=[{type:Yn,args:[{selector:"[formArrayName]",providers:[MR]}]}],IR.ctorParameters=(()=>[{type:nF,decorators:[{type:He},{type:We},{type:ze}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]}]),IR.propDecorators={name:[{type:ns,args:["formArrayName"]}]};const FR={provide:CF,useExisting:ct(()=>RR)};class RR extends CF{constructor(e,t,n,s,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new Rn,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=QF(this,s)}set isDisabled(e){PF.disabledAttrWarning()}ngOnChanges(e){this._added||this._setUpControl(),WF(e,this.viewModel)&&(XF("formControlName",RR,this,this._ngModelWarningConfig),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return $F(this.name,this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return qF(this._rawValidators)}get asyncValidator(){return zF(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof NR)&&this._parent instanceof YF?PF.ngModelGroupException():this._parent instanceof NR||this._parent instanceof PR||this._parent instanceof IR||PF.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}RR._ngModelWarningSentOnce=!1,RR.decorators=[{type:Yn,args:[{selector:"[formControlName]",providers:[FR]}]}],RR.ctorParameters=(()=>[{type:nF,decorators:[{type:He},{type:We},{type:ze}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[rF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[iF]}]},{type:Array,decorators:[{type:He},{type:qe},{type:Ue,args:[hF]}]},{type:void 0,decorators:[{type:He},{type:Ue,args:[xR]}]}]),RR.propDecorators={name:[{type:ns,args:["formControlName"]}],isDisabled:[{type:ns,args:["disabled"]}],model:[{type:ns,args:["ngModel"]}],update:[{type:ss,args:["ngModelChange"]}]};const LR={provide:rF,useExisting:ct(()=>VR),multi:!0},$R={provide:rF,useExisting:ct(()=>BR),multi:!0};class VR{get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!==`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?aF.required(e):null}registerOnValidatorChange(e){this._onChange=e}}VR.decorators=[{type:Yn,args:[{selector:":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]",providers:[LR],host:{"[attr.required]":'required ? "" : null'}}]}],VR.propDecorators={required:[{type:ns}]};class BR extends VR{validate(e){return this.required?aF.requiredTrue(e):null}}BR.decorators=[{type:Yn,args:[{selector:"input[type=checkbox][required][formControlName],input[type=checkbox][required][formControl],input[type=checkbox][required][ngModel]",providers:[$R],host:{"[attr.required]":'required ? "" : null'}}]}];const jR={provide:rF,useExisting:ct(()=>UR),multi:!0};class UR{set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?aF.email(e):null}registerOnValidatorChange(e){this._onChange=e}}UR.decorators=[{type:Yn,args:[{selector:"[email][formControlName],[email][formControl],[email][ngModel]",providers:[jR]}]}],UR.propDecorators={email:[{type:ns}]};const HR={provide:rF,useExisting:ct(()=>qR),multi:!0};class qR{ngOnChanges(e){"minlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null==this.minlength?null:this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=aF.minLength(parseInt(this.minlength,10))}}qR.decorators=[{type:Yn,args:[{selector:"[minlength][formControlName],[minlength][formControl],[minlength][ngModel]",providers:[HR],host:{"[attr.minlength]":"minlength ? minlength : null"}}]}],qR.propDecorators={minlength:[{type:ns}]};const zR={provide:rF,useExisting:ct(()=>WR),multi:!0};class WR{ngOnChanges(e){"maxlength"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return null!=this.maxlength?this._validator(e):null}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=aF.maxLength(parseInt(this.maxlength,10))}}WR.decorators=[{type:Yn,args:[{selector:"[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]",providers:[zR],host:{"[attr.maxlength]":"maxlength ? maxlength : null"}}]}],WR.propDecorators={maxlength:[{type:ns}]};const GR={provide:rF,useExisting:ct(()=>KR),multi:!0};class KR{ngOnChanges(e){"pattern"in e&&(this._createValidator(),this._onChange&&this._onChange())}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}_createValidator(){this._validator=aF.pattern(this.pattern)}}KR.decorators=[{type:Yn,args:[{selector:"[pattern][formControlName],[pattern][formControl],[pattern][ngModel]",providers:[GR],host:{"[attr.pattern]":"pattern ? pattern : null"}}]}],KR.propDecorators={pattern:[{type:ns}]};class QR{group(e,t=null){const n=this._reduceControls(e);let s=null,r=null,i=void 0;return null==t||void 0===t.asyncValidator&&void 0===t.validator?null!=t&&(s=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,i=null!=t.updateOn?t.updateOn:void 0):(s=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null),new dR(n,{asyncValidators:r,updateOn:i,validators:s})}control(e,t,n){return new hR(e,t,n)}array(e,t,n){const s=e.map(e=>this._createControl(e));return new pR(s,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){if(e instanceof hR||e instanceof dR||e instanceof pR)return e;if(Array.isArray(e)){const t=e[0],n=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(t,n,s)}return this.control(e)}}QR.decorators=[{type:ms}];new sn("7.1.1");class ZR{}ZR.decorators=[{type:Yn,args:[{selector:"form:not([ngNoForm]):not([ngNativeValidate])",host:{novalidate:""}}]}];const XR=[ZR,IF,LF,gF,wF,AF,pF,MF,RF,xF,tR,nR,VR,qR,WR,KR,BR,UR],YR=[SR,ER,gR,_R],JR=[AR,PR,RR,NR,IR];class eL{}eL.decorators=[{type:ds,args:[{declarations:XR,exports:XR}]}];class tL{static withConfig(e){return{ngModule:tL,providers:[{provide:yR,useValue:e.warnOnDeprecatedNgFormSelector}]}}}tL.decorators=[{type:ds,args:[{declarations:YR,providers:[SF],exports:[eL,YR]}]}];class nL{static withConfig(e){return{ngModule:nL,providers:[{provide:xR,useValue:e.warnOnNgModelWithFormControl}]}}}nL.decorators=[{type:ds,args:[{declarations:[JR],providers:[QR,SF],exports:[eL,JR]}]}];class sL extends g{constructor(e,t){super()}schedule(e,t=0){return this}}class rL{constructor(e,t=rL.now){this.SchedulerAction=e,this.now=t}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}rL.now=(()=>Date.now());class iL extends rL{constructor(e,t=rL.now){super(e,()=>iL.delegate&&iL.delegate!==this?iL.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return iL.delegate&&iL.delegate!==this?iL.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const oL=new iL(class extends sL{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,s=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(s,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,s=void 0;try{this.work(e)}catch(r){n=!0,s=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),s}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,s=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==s&&n.splice(s,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}});class aL{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new lL(e,this.dueTime,this.scheduler))}}class lL extends _{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(cL,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function cL(e){e.debouncedNext()}class uL{}class hL{}class dL{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),s=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,s),this.headers.has(s)?this.headers.get(s).push(r):this.headers.set(s,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const s=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(s,n),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof dL?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new dL;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof dL?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...n),this.headers.set(t,s);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;0===(e=e.filter(e=>-1===r.indexOf(e))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class pL{encodeKey(e){return mL(e)}encodeValue(e){return mL(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function mL(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class fL{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new pL,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;e.length>0&&e.split("&").forEach(e=>{const s=e.indexOf("="),[r,i]=-1==s?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,s)),t.decodeValue(e.slice(s+1))],o=n.get(r)||[];o.push(i),n.set(r,o)});return n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).join("&")}clone(e){const t=new fL({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=null)}}function gL(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function vL(e){return"undefined"!=typeof Blob&&e instanceof Blob}function yL(e){return"undefined"!=typeof FormData&&e instanceof FormData}class _L{constructor(e,t,n,s){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==n?n:null,r=s):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new dL),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?"),s=-1===n?"?":n<t.length-1?"&":"";this.urlWithParams=t+s+e}}else this.params=new fL,this.urlWithParams=t}serializeBody(){return null===this.body?null:gL(this.body)||vL(this.body)||yL(this.body)||"string"==typeof this.body?this.body:this.body instanceof fL?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body?null:yL(this.body)?null:vL(this.body)?this.body.type||null:gL(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof fL?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,s=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,i=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,o=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new _L(t,n,r,{params:l,headers:a,reportProgress:o,responseType:s,withCredentials:i})}}var wL={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};wL[wL.Sent]="Sent",wL[wL.UploadProgress]="UploadProgress",wL[wL.ResponseHeader]="ResponseHeader",wL[wL.DownloadProgress]="DownloadProgress",wL[wL.Response]="Response",wL[wL.User]="User";class EL{constructor(e,t=200,n="OK"){this.headers=e.headers||new dL,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class CL extends EL{constructor(e={}){super(e),this.type=wL.ResponseHeader}clone(e={}){return new CL({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class bL extends EL{constructor(e={}){super(e),this.type=wL.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new bL({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class SL extends EL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function xL(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}class TL{constructor(e){this.handler=e}request(e,t,n={}){let s;if(e instanceof _L)s=e;else{let r=void 0;r=n.headers instanceof dL?n.headers:new dL(n.headers);let i=void 0;n.params&&(i=n.params instanceof fL?n.params:new fL({fromObject:n.params})),s=new _L(e,t,void 0!==n.body?n.body:null,{headers:r,params:i,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=vN(s).pipe(rM(e=>this.handler.handle(e)));if(e instanceof _L||"events"===n.observe)return r;const i=r.pipe(TN(e=>e instanceof bL));switch(n.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return i.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return i.pipe(z(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return i.pipe(z(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return i.pipe(z(e=>e.body))}case"response":return i;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new fL).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,xL(n,t))}post(e,t,n={}){return this.request("POST",e,xL(n,t))}put(e,t,n={}){return this.request("PUT",e,xL(n,t))}}TL.decorators=[{type:ms}],TL.ctorParameters=(()=>[{type:uL}]);class AL{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const DL=new ye("HTTP_INTERCEPTORS");class PL{intercept(e,t){return t.handle(e)}}PL.decorators=[{type:ms}];let kL=0;const NL="JSONP injected script did not invoke callback.",ML="JSONP requests must use JSONP request method.",IL="JSONP requests must use Json response type.";class OL{}class FL{constructor(e,t){this.callbackMap=e,this.document=t}nextCallback(){return`ng_jsonp_callback_${kL++}`}handle(e){if("JSONP"!==e.method)throw new Error(ML);if("json"!==e.responseType)throw new Error(IL);return new x(t=>{const n=this.nextCallback(),s=e.urlWithParams.replace(/=JSONP_CALLBACK(&|$)/,`=${n}$1`),r=this.document.createElement("script");r.src=s;let i=null,o=!1,a=!1;this.callbackMap[n]=(e=>{delete this.callbackMap[n],a||(i=e,o=!0)});const l=()=>{r.parentNode&&r.parentNode.removeChild(r),delete this.callbackMap[n]},c=e=>{a||(l(),o?(t.next(new bL({body:i,status:200,statusText:"OK",url:s})),t.complete()):t.error(new SL({url:s,status:0,statusText:"JSONP Error",error:new Error(NL)})))},u=e=>{a||(l(),t.error(new SL({error:e,status:0,statusText:"JSONP Error",url:s})))};return r.addEventListener("load",c),r.addEventListener("error",u),this.document.body.appendChild(r),t.next({type:wL.Sent}),()=>{a=!0,r.removeEventListener("load",c),r.removeEventListener("error",u),l()}})}}FL.decorators=[{type:ms}],FL.ctorParameters=(()=>[{type:OL},{type:void 0,decorators:[{type:Ue,args:[DT]}]}]);class RL{constructor(e){this.jsonp=e}intercept(e,t){return"JSONP"===e.method?this.jsonp.handle(e):t.handle(e)}}RL.decorators=[{type:ms}],RL.ctorParameters=(()=>[{type:FL}]);const LL=/^\)\]\}',?\n/;class $L{}class VL{constructor(){}build(){return new XMLHttpRequest}}VL.decorators=[{type:ms}],VL.ctorParameters=(()=>[]);class BL{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new x(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const s=e.serializeBody();let r=null;const i=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,s=n.statusText||"OK",i=new dL(n.getAllResponseHeaders()),o=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new CL({headers:i,status:t,statusText:s,url:o})},o=()=>{let{headers:s,status:r,statusText:o,url:a}=i(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(LL,"");try{l=""!==l?JSON.parse(l):null}catch(u){l=e,c&&(c=!1,l={error:u,text:l})}}c?(t.next(new bL({body:l,headers:s,status:r,statusText:o,url:a||void 0})),t.complete()):t.error(new SL({error:l,headers:s,status:r,statusText:o,url:a||void 0}))},a=e=>{const s=new SL({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error"});t.error(s)};let l=!1;const c=s=>{l||(t.next(i()),l=!0);let r={type:wL.DownloadProgress,loaded:s.loaded};s.lengthComputable&&(r.total=s.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},u=e=>{let n={type:wL.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",o),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==s&&n.upload&&n.upload.addEventListener("progress",u)),n.send(s),t.next({type:wL.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",o),e.reportProgress&&(n.removeEventListener("progress",c),null!==s&&n.upload&&n.upload.removeEventListener("progress",u)),n.abort()}})}}BL.decorators=[{type:ms}],BL.ctorParameters=(()=>[{type:$L}]);const jL=new ye("XSRF_COOKIE_NAME"),UL=new ye("XSRF_HEADER_NAME");class HL{}class qL{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=yx(e,this.cookieName),this.lastCookieString=e),this.lastToken}}qL.decorators=[{type:ms}],qL.ctorParameters=(()=>[{type:void 0,decorators:[{type:Ue,args:[DT]}]},{type:String,decorators:[{type:Ue,args:[Xs]}]},{type:String,decorators:[{type:Ue,args:[jL]}]}]);class zL{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const s=this.tokenService.getToken();return null===s||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,s)})),t.handle(e)}}zL.decorators=[{type:ms}],zL.ctorParameters=(()=>[{type:HL},{type:String,decorators:[{type:Ue,args:[UL]}]}]);class WL{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(DL,[]);this.chain=e.reduceRight((e,t)=>new AL(e,t),this.backend)}return this.chain.handle(e)}}WL.decorators=[{type:ms}],WL.ctorParameters=(()=>[{type:hL},{type:gt}]);class GL{static disable(){return{ngModule:GL,providers:[{provide:zL,useClass:PL}]}}static withOptions(e={}){return{ngModule:GL,providers:[e.cookieName?{provide:jL,useValue:e.cookieName}:[],e.headerName?{provide:UL,useValue:e.headerName}:[]]}}}GL.decorators=[{type:ds,args:[{providers:[zL,{provide:DL,useExisting:zL,multi:!0},{provide:HL,useClass:qL},{provide:jL,useValue:"XSRF-TOKEN"},{provide:UL,useValue:"X-XSRF-TOKEN"}]}]}];class KL{}KL.decorators=[{type:ds,args:[{imports:[GL.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})],providers:[TL,{provide:uL,useClass:WL},BL,{provide:hL,useExisting:BL},VL,{provide:$L,useExisting:VL}]}]}];(class{}).decorators=[{type:ds,args:[{providers:[FL,{provide:OL,useFactory:function(){return"object"==typeof window?window:{}}},{provide:DL,useClass:RL,multi:!0}]}]}];var QL=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let ZL=class{constructor(e){this.http=e}searchDestinations(e=""){const t={orderBy:"name"};return e&&(t.name$like=e),this.http.get("/api/destinations",{params:t})}getDestinationById(e){return this.http.get(`/api/destination/${e}`)}};ZL=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ms(),QL("design:paramtypes",[TL])],ZL);var XL=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let YL=class{constructor(e){this.route=e}get bgImg(){return`url('${this.destination.bg}')`}ngOnInit(){this.route.data.subscribe(e=>{this.destination=e.destination})}};var JL=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let e$=class{constructor(e){this.destinationService=e}resolve(e){const t=e.paramMap.get("id");return this.destinationService.getDestinationById(t)}};const t$=[{path:":id",component:YL=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Jn({selector:"app-destination",template:n("c7zv"),styles:[n("DiaM")]}),XL("design:paramtypes",[gI])],YL),resolve:{destination:e$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ms(),JL("design:paramtypes",[ZL])],e$)}}];let n$=class{};n$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[zO.forChild(t$)],exports:[zO]})],n$);var s$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},r$=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let i$=class{get thumbnailImg(){return`assets/img/${this.destination.img||"placeholder"}/thumbnail.jpg`}};s$([ns(),r$("design:type",Object)],i$.prototype,"destination",void 0),i$=s$([Jn({selector:"app-destination-thumbnail",template:n("O/rq"),styles:[n("N3Cr")]})],i$);var o$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o},a$=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let l$=class{};o$([ns(),a$("design:type",Object)],l$.prototype,"destination",void 0),l$=o$([Jn({selector:"app-destination-gallery",template:n("7XFi"),styles:[n("mfFw")]})],l$);const c$=!0,u$=!0,h$="//tourism.lucienbertin.com";var d$=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let p$=class{constructor(){}intercept(e,t){if(e.url.startsWith("/api/")){const n=e.clone({url:`${h$}${e.url}`,headers:e.headers});return t.handle(n)}return t.handle(e)}};p$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ms(),d$("design:paramtypes",[])],p$);let m$=class{};m$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[KL],providers:[[{provide:DL,useClass:p$,multi:!0}]]})],m$);let f$=class{};f$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[n$,TT,KL,m$],providers:[ZL,e$],declarations:[YL,i$,l$],exports:[i$]})],f$);var g$=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};let v$=class{constructor(e){this.destinationService=e,this.clueCtrl=new hR("")}ngOnInit(){this.destinations$=te(vN(""),this.clueCtrl.valueChanges).pipe(function(e,t=oL){return n=>n.lift(new aL(e,t))}(250),XN(e=>this.destinationService.searchDestinations(e)),UN(e=>vN([])))}};const y$=[{path:"",component:v$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([Jn({selector:"app-home",template:n("Jyj+"),styles:[n("bdh1")]}),g$("design:paramtypes",[ZL])],v$)}];let _$=class{};_$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[zO.forChild(y$)],exports:[zO]})],_$);let w$=class{};w$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[_$,nL,TT,f$],declarations:[v$]})],w$);const E$=[{path:"home",loadChildren:()=>w$},{path:"destination",loadChildren:()=>f$},{path:"",redirectTo:"/home",pathMatch:"full"}];let C$=class{};C$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[zO.forRoot(E$,{useHash:u$})],exports:[zO]})],C$);let b$=class{};b$=function(e,t,n,s){var r,i=arguments.length,o=i<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(o=(i<3?r(o):i>3?r(t,n,o):r(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}([ds({imports:[eD,dN,C$],declarations:[pN],bootstrap:[pN]})],b$),c$&&function(){if(ln)throw new Error("Cannot enable prod mode after platform setup.");an=!1}(),vD().bootstrapModule(b$).catch(e=>console.error(e))}},[[0,0]]]);